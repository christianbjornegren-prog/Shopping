(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();function ay(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bh={exports:{}},wa={},Fh={exports:{}},Ce={};var Cm;function Dw(){if(Cm)return Ce;Cm=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function V(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function Q(R,F,ie){this.props=R,this.context=F,this.refs=Z,this.updater=ie||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},Q.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function pe(){}pe.prototype=Q.prototype;function ye(R,F,ie){this.props=R,this.context=F,this.refs=Z,this.updater=ie||B}var Ae=ye.prototype=new pe;Ae.constructor=ye,ee(Ae,Q.prototype),Ae.isPureReactComponent=!0;var De=Array.isArray,Qe=Object.prototype.hasOwnProperty,Re={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(R,F,ie){var ce,ke={},we=null,me=null;if(F!=null)for(ce in F.ref!==void 0&&(me=F.ref),F.key!==void 0&&(we=""+F.key),F)Qe.call(F,ce)&&!P.hasOwnProperty(ce)&&(ke[ce]=F[ce]);var Se=arguments.length-2;if(Se===1)ke.children=ie;else if(1<Se){for(var Be=Array(Se),zt=0;zt<Se;zt++)Be[zt]=arguments[zt+2];ke.children=Be}if(R&&R.defaultProps)for(ce in Se=R.defaultProps,Se)ke[ce]===void 0&&(ke[ce]=Se[ce]);return{$$typeof:s,type:R,key:we,ref:me,props:ke,_owner:Re.current}}function S(R,F){return{$$typeof:s,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function D(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function N(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return F[ie]})}var O=/\/+/g;function k(R,F){return typeof R=="object"&&R!==null&&R.key!=null?N(""+R.key):F.toString(36)}function Ue(R,F,ie,ce,ke){var we=typeof R;(we==="undefined"||we==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(we){case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case s:case e:me=!0}}if(me)return me=R,ke=ke(me),R=ce===""?"."+k(me,0):ce,De(ke)?(ie="",R!=null&&(ie=R.replace(O,"$&/")+"/"),Ue(ke,F,ie,"",function(zt){return zt})):ke!=null&&(D(ke)&&(ke=S(ke,ie+(!ke.key||me&&me.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+R)),F.push(ke)),1;if(me=0,ce=ce===""?".":ce+":",De(R))for(var Se=0;Se<R.length;Se++){we=R[Se];var Be=ce+k(we,Se);me+=Ue(we,F,ie,Be,ke)}else if(Be=V(R),typeof Be=="function")for(R=Be.call(R),Se=0;!(we=R.next()).done;)we=we.value,Be=ce+k(we,Se++),me+=Ue(we,F,ie,Be,ke);else if(we==="object")throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return me}function rt(R,F,ie){if(R==null)return R;var ce=[],ke=0;return Ue(R,ce,"","",function(we){return F.call(ie,we,ke++)}),ce}function _t(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var ze={current:null},J={transition:null},ue={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:J,ReactCurrentOwner:Re};function z(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:rt,forEach:function(R,F,ie){rt(R,function(){F.apply(this,arguments)},ie)},count:function(R){var F=0;return rt(R,function(){F++}),F},toArray:function(R){return rt(R,function(F){return F})||[]},only:function(R){if(!D(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ce.Component=Q,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=ye,Ce.StrictMode=i,Ce.Suspense=y,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ce.act=z,Ce.cloneElement=function(R,F,ie){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ce=ee({},R.props),ke=R.key,we=R.ref,me=R._owner;if(F!=null){if(F.ref!==void 0&&(we=F.ref,me=Re.current),F.key!==void 0&&(ke=""+F.key),R.type&&R.type.defaultProps)var Se=R.type.defaultProps;for(Be in F)Qe.call(F,Be)&&!P.hasOwnProperty(Be)&&(ce[Be]=F[Be]===void 0&&Se!==void 0?Se[Be]:F[Be])}var Be=arguments.length-2;if(Be===1)ce.children=ie;else if(1<Be){Se=Array(Be);for(var zt=0;zt<Be;zt++)Se[zt]=arguments[zt+2];ce.children=Se}return{$$typeof:s,type:R.type,key:ke,ref:we,props:ce,_owner:me}},Ce.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Ce.createElement=I,Ce.createFactory=function(R){var F=I.bind(null,R);return F.type=R,F},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:m,render:R}},Ce.isValidElement=D,Ce.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:_t}},Ce.memo=function(R,F){return{$$typeof:v,type:R,compare:F===void 0?null:F}},Ce.startTransition=function(R){var F=J.transition;J.transition={};try{R()}finally{J.transition=F}},Ce.unstable_act=z,Ce.useCallback=function(R,F){return ze.current.useCallback(R,F)},Ce.useContext=function(R){return ze.current.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R){return ze.current.useDeferredValue(R)},Ce.useEffect=function(R,F){return ze.current.useEffect(R,F)},Ce.useId=function(){return ze.current.useId()},Ce.useImperativeHandle=function(R,F,ie){return ze.current.useImperativeHandle(R,F,ie)},Ce.useInsertionEffect=function(R,F){return ze.current.useInsertionEffect(R,F)},Ce.useLayoutEffect=function(R,F){return ze.current.useLayoutEffect(R,F)},Ce.useMemo=function(R,F){return ze.current.useMemo(R,F)},Ce.useReducer=function(R,F,ie){return ze.current.useReducer(R,F,ie)},Ce.useRef=function(R){return ze.current.useRef(R)},Ce.useState=function(R){return ze.current.useState(R)},Ce.useSyncExternalStore=function(R,F,ie){return ze.current.useSyncExternalStore(R,F,ie)},Ce.useTransition=function(){return ze.current.useTransition()},Ce.version="18.3.1",Ce}var Rm;function Cd(){return Rm||(Rm=1,Fh.exports=Dw()),Fh.exports}var Pm;function Vw(){if(Pm)return wa;Pm=1;var s=Cd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,y,v){var E,C={},V=null,B=null;v!==void 0&&(V=""+v),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(B=y.ref);for(E in y)i.call(y,E)&&!c.hasOwnProperty(E)&&(C[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)C[E]===void 0&&(C[E]=y[E]);return{$$typeof:e,type:m,key:V,ref:B,props:C,_owner:a.current}}return wa.Fragment=t,wa.jsx=h,wa.jsxs=h,wa}var Nm;function Ow(){return Nm||(Nm=1,bh.exports=Vw()),bh.exports}var H=Ow(),Rt=Cd();const Lw=ay(Rt);var pu={},Uh={exports:{}},Qt={},jh={exports:{}},zh={};var xm;function Mw(){return xm||(xm=1,(function(s){function e(J,ue){var z=J.length;J.push(ue);e:for(;0<z;){var R=z-1>>>1,F=J[R];if(0<a(F,ue))J[R]=ue,J[z]=F,z=R;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ue=J[0],z=J.pop();if(z!==ue){J[0]=z;e:for(var R=0,F=J.length,ie=F>>>1;R<ie;){var ce=2*(R+1)-1,ke=J[ce],we=ce+1,me=J[we];if(0>a(ke,z))we<F&&0>a(me,ke)?(J[R]=me,J[we]=z,R=we):(J[R]=ke,J[ce]=z,R=ce);else if(we<F&&0>a(me,z))J[R]=me,J[we]=z,R=we;else break e}}return ue}function a(J,ue){var z=J.sortIndex-ue.sortIndex;return z!==0?z:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var y=[],v=[],E=1,C=null,V=3,B=!1,ee=!1,Z=!1,Q=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ae(J){for(var ue=t(v);ue!==null;){if(ue.callback===null)i(v);else if(ue.startTime<=J)i(v),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=t(v)}}function De(J){if(Z=!1,Ae(J),!ee)if(t(y)!==null)ee=!0,_t(Qe);else{var ue=t(v);ue!==null&&ze(De,ue.startTime-J)}}function Qe(J,ue){ee=!1,Z&&(Z=!1,pe(I),I=-1),B=!0;var z=V;try{for(Ae(ue),C=t(y);C!==null&&(!(C.expirationTime>ue)||J&&!N());){var R=C.callback;if(typeof R=="function"){C.callback=null,V=C.priorityLevel;var F=R(C.expirationTime<=ue);ue=s.unstable_now(),typeof F=="function"?C.callback=F:C===t(y)&&i(y),Ae(ue)}else i(y);C=t(y)}if(C!==null)var ie=!0;else{var ce=t(v);ce!==null&&ze(De,ce.startTime-ue),ie=!1}return ie}finally{C=null,V=z,B=!1}}var Re=!1,P=null,I=-1,S=5,D=-1;function N(){return!(s.unstable_now()-D<S)}function O(){if(P!==null){var J=s.unstable_now();D=J;var ue=!0;try{ue=P(!0,J)}finally{ue?k():(Re=!1,P=null)}}else Re=!1}var k;if(typeof ye=="function")k=function(){ye(O)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,rt=Ue.port2;Ue.port1.onmessage=O,k=function(){rt.postMessage(null)}}else k=function(){Q(O,0)};function _t(J){P=J,Re||(Re=!0,k())}function ze(J,ue){I=Q(function(){J(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){ee||B||(ee=!0,_t(Qe))},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_getFirstCallbackNode=function(){return t(y)},s.unstable_next=function(J){switch(V){case 1:case 2:case 3:var ue=3;break;default:ue=V}var z=V;V=ue;try{return J()}finally{V=z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var z=V;V=J;try{return ue()}finally{V=z}},s.unstable_scheduleCallback=function(J,ue,z){var R=s.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?R+z:R):z=R,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,J={id:E++,callback:ue,priorityLevel:J,startTime:z,expirationTime:F,sortIndex:-1},z>R?(J.sortIndex=z,e(v,J),t(y)===null&&J===t(v)&&(Z?(pe(I),I=-1):Z=!0,ze(De,z-R))):(J.sortIndex=F,e(y,J),ee||B||(ee=!0,_t(Qe))),J},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(J){var ue=V;return function(){var z=V;V=ue;try{return J.apply(this,arguments)}finally{V=z}}}})(zh)),zh}var Dm;function bw(){return Dm||(Dm=1,jh.exports=Mw()),jh.exports}var Vm;function Fw(){if(Vm)return Qt;Vm=1;var s=Cd(),e=bw();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(a[n]=r,n=0;n<r.length;n++)i.add(r[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function V(n){return y.call(C,n)?!0:y.call(E,n)?!1:v.test(n)?C[n]=!0:(E[n]=!0,!1)}function B(n,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ee(n,r,o,u){if(r===null||typeof r>"u"||B(n,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Z(n,r,o,u,d,f,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=f,this.removeEmptyString=_}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Q[n]=new Z(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];Q[r]=new Z(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){Q[n]=new Z(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Q[n]=new Z(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Q[n]=new Z(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){Q[n]=new Z(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){Q[n]=new Z(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){Q[n]=new Z(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){Q[n]=new Z(n,5,!1,n.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function ye(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(pe,ye);Q[r]=new Z(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(pe,ye);Q[r]=new Z(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(pe,ye);Q[r]=new Z(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){Q[n]=new Z(n,1,!1,n.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){Q[n]=new Z(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ae(n,r,o,u){var d=Q.hasOwnProperty(r)?Q[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(ee(r,o,d,u)&&(o=null),u||d===null?V(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?n.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?n.setAttributeNS(u,r,o):n.setAttribute(r,o))))}var De=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qe=Symbol.for("react.element"),Re=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var z=Object.assign,R;function F(n){if(R===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+n}var ie=!1;function ce(n,r){if(!n||ie)return"";ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(n,[],r)}else{try{r.call()}catch(U){u=U}n.call(r.prototype)}else{try{throw Error()}catch(U){u=U}n()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),f=u.stack.split(`
`),_=d.length-1,T=f.length-1;1<=_&&0<=T&&d[_]!==f[T];)T--;for(;1<=_&&0<=T;_--,T--)if(d[_]!==f[T]){if(_!==1||T!==1)do if(_--,T--,0>T||d[_]!==f[T]){var A=`
`+d[_].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=_&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?F(n):""}function ke(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=ce(n.type,!1),n;case 11:return n=ce(n.type.render,!1),n;case 1:return n=ce(n.type,!0),n;default:return""}}function we(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case Re:return"Portal";case S:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case Ue:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case O:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case rt:return r=n.displayName||null,r!==null?r:we(n.type)||"Memo";case _t:r=n._payload,n=n._init;try{return we(n(r))}catch{}}return null}function me(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Se(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zt(n){var r=Be(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){u=""+_,f.call(this,_)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function fi(n){n._valueTracker||(n._valueTracker=zt(n))}function Ao(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Be(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pi(n,r){var o=r.checked;return z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Za(n,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Se(r.value!=null?r.value:o),n._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function mi(n,r){r=r.checked,r!=null&&Ae(n,"checked",r,!1)}function Ss(n,r){mi(n,r);var o=Se(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?lt(n,r.type,o):r.hasOwnProperty("defaultValue")&&lt(n,r.type,Se(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Co(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function lt(n,r,o){(r!=="number"||Vr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var st=Array.isArray;function _n(n,r,o,u){if(n=n.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=r.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Se(o),r=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Ro(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return z({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Po(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(t(92));if(st(o)){if(1<o.length)throw Error(t(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Se(o)}}function el(n,r){var o=Se(r.value),u=Se(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),u!=null&&(n.defaultValue=""+u)}function Or(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function No(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gi(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?No(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Lr,tl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return n(r,o,u,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Lr=Lr||document.createElement("div"),Lr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function As(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nl=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(n){nl.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Mr[r]=Mr[n]})});function br(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Mr.hasOwnProperty(n)&&Mr[n]?(""+r).trim():r+"px"}function yi(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=br(o,r[o],u);o==="float"&&(o="cssFloat"),u?n.setProperty(o,d):n[o]=d}}var xo=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(n,r){if(r){if(xo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function _i(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function vi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var or=null,ar=null,tt=null;function Do(n){if(n=ia(n)){if(typeof or!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Pl(r),or(n.stateNode,n.type,r))}}function Ur(n){ar?tt?tt.push(n):tt=[n]:ar=n}function jr(){if(ar){var n=ar,r=tt;if(tt=ar=null,Do(n),r)for(n=0;n<r.length;n++)Do(r[n])}}function rl(n,r){return n(r)}function sl(){}var Vn=!1;function il(n,r,o){if(Vn)return n(r,o);Vn=!0;try{return rl(n,r,o)}finally{Vn=!1,(ar!==null||tt!==null)&&(sl(),jr())}}function Cs(n,r){var o=n.stateNode;if(o===null)return null;var u=Pl(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,r,typeof o));return o}var zr=!1;if(m)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{zr=!1}function ol(n,r,o,u,d,f,_,T,A){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(q){this.onError(q)}}var lr=!1,On=null,wi=!1,an=null,al={onError:function(n){lr=!0,On=n}};function ll(n,r,o,u,d,f,_,T,A){lr=!1,On=null,ol.apply(al,arguments)}function Vo(n,r,o,u,d,f,_,T,A){if(ll.apply(this,arguments),lr){if(lr){var U=On;lr=!1,On=null}else throw Error(t(198));wi||(wi=!0,an=U)}}function wn(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function Oo(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function ul(n){if(wn(n)!==n)throw Error(t(188))}function cl(n){var r=n.alternate;if(!r){if(r=wn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var o=n,u=r;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return ul(d),n;if(f===u)return ul(d),r;f=f.sibling}throw Error(t(188))}if(o.return!==u.return)o=d,u=f;else{for(var _=!1,T=d.child;T;){if(T===o){_=!0,o=d,u=f;break}if(T===u){_=!0,u=d,o=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===o){_=!0,o=f,u=d;break}if(T===u){_=!0,u=f,o=d;break}T=T.sibling}if(!_)throw Error(t(189))}}if(o.alternate!==u)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:r}function hl(n){return n=cl(n),n!==null?Rs(n):null}function Rs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Rs(n);if(r!==null)return r;n=n.sibling}return null}var Lo=e.unstable_scheduleCallback,Ei=e.unstable_cancelCallback,Ps=e.unstable_shouldYield,ur=e.unstable_requestPaint,We=e.unstable_now,pc=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,Mo=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,bo=e.unstable_LowPriority,Ii=e.unstable_IdlePriority,xs=null,Jt=null;function dl(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(xs,n,void 0,(n.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Ds,Ln=Math.log,ln=Math.LN2;function Ds(n){return n>>>=0,n===0?32:31-(Ln(n)/ln|0)|0}var Mn=64,Hr=4194304;function be(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cr(n,r){var o=n.pendingLanes;if(o===0)return 0;var u=0,d=n.suspendedLanes,f=n.pingedLanes,_=o&268435455;if(_!==0){var T=_&~d;T!==0?u=be(T):(f&=_,f!==0&&(u=be(f)))}else _=o&~d,_!==0?u=be(_):f!==0&&(u=be(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=u;0<r;)o=31-Xt(r),d=1<<o,u|=n[o],r&=~d;return u}function Vs(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var _=31-Xt(f),T=1<<_,A=d[_];A===-1?((T&o)===0||(T&u)!==0)&&(d[_]=Vs(T,r)):A<=r&&(n.expiredLanes|=T),f&=~T}}function Fo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Uo(){var n=Mn;return Mn<<=1,(Mn&4194240)===0&&(Mn=64),n}function jo(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Ls(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Xt(r),n[r]=o}function mc(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Xt(o),f=1<<d;r[d]=0,u[d]=-1,n[d]=-1,o&=~f}}function zo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Xt(o),d=1<<u;d&r|n[u]&r&&(n[u]|=r),o&=~d}}var Ve=0;function bn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Bo,ki,Ho,$o,Wo,Fn=!1,Si=[],Un=null,jn=null,kt=null,Ms=new Map,hr=new Map,Zt=[],fl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $r(n,r){switch(n){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ms.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(r.pointerId)}}function En(n,r,o,u,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=ia(r),r!==null&&ki(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function pl(n,r,o,u,d){switch(r){case"focusin":return Un=En(Un,n,r,o,u,d),!0;case"dragenter":return jn=En(jn,n,r,o,u,d),!0;case"mouseover":return kt=En(kt,n,r,o,u,d),!0;case"pointerover":var f=d.pointerId;return Ms.set(f,En(Ms.get(f)||null,n,r,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,hr.set(f,En(hr.get(f)||null,n,r,o,u,d)),!0}return!1}function Ai(n){var r=js(n.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=Oo(o),r!==null){n.blockedOn=r,Wo(n.priority,function(){Ho(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function He(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Ci(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Fr=u,o.target.dispatchEvent(u),Fr=null}else return r=ia(o),r!==null&&ki(r),n.blockedOn=o,!1;r.shift()}return!0}function ml(n,r,o){He(n)&&o.delete(r)}function gc(){Fn=!1,Un!==null&&He(Un)&&(Un=null),jn!==null&&He(jn)&&(jn=null),kt!==null&&He(kt)&&(kt=null),Ms.forEach(ml),hr.forEach(ml)}function Wr(n,r){n.blockedOn===r&&(n.blockedOn=null,Fn||(Fn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gc)))}function qr(n){function r(d){return Wr(d,n)}if(0<Si.length){Wr(Si[0],n);for(var o=1;o<Si.length;o++){var u=Si[o];u.blockedOn===n&&(u.blockedOn=null)}}for(Un!==null&&Wr(Un,n),jn!==null&&Wr(jn,n),kt!==null&&Wr(kt,n),Ms.forEach(r),hr.forEach(r),o=0;o<Zt.length;o++)u=Zt[o],u.blockedOn===n&&(u.blockedOn=null);for(;0<Zt.length&&(o=Zt[0],o.blockedOn===null);)Ai(o),o.blockedOn===null&&Zt.shift()}var dr=De.ReactCurrentBatchConfig,fr=!0;function zn(n,r,o,u){var d=Ve,f=dr.transition;dr.transition=null;try{Ve=1,qo(n,r,o,u)}finally{Ve=d,dr.transition=f}}function gl(n,r,o,u){var d=Ve,f=dr.transition;dr.transition=null;try{Ve=4,qo(n,r,o,u)}finally{Ve=d,dr.transition=f}}function qo(n,r,o,u){if(fr){var d=Ci(n,r,o,u);if(d===null)Cc(n,r,u,Bn,o),$r(n,u);else if(pl(d,n,r,o,u))u.stopPropagation();else if($r(n,u),r&4&&-1<fl.indexOf(n)){for(;d!==null;){var f=ia(d);if(f!==null&&Bo(f),f=Ci(n,r,o,u),f===null&&Cc(n,r,u,Bn,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else Cc(n,r,u,null,o)}}var Bn=null;function Ci(n,r,o,u){if(Bn=null,n=vi(u),n=js(n),n!==null)if(r=wn(n),r===null)n=null;else if(o=r.tag,o===13){if(n=Oo(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Bn=n,null}function Ri(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pc()){case Ti:return 1;case Mo:return 4;case Ns:case bo:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var en=null,Pi=null,pr=null;function yl(){if(pr)return pr;var n,r=Pi,o=r.length,u,d="value"in en?en.value:en.textContent,f=d.length;for(n=0;n<o&&r[n]===d[n];n++);var _=o-n;for(u=1;u<=_&&r[o-u]===d[f-u];u++);return pr=d.slice(n,1<u?1-u:void 0)}function bs(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function Go(){return!1}function Dt(n){function r(o,u,d,f,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Go,this.isPropagationStopped=Go,this}return z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),r}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Dt($n),Gr=z({},$n,{view:0,detail:0}),Ni=Dt(Gr),xi,Di,tn,Us=z({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Te,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tn&&(tn&&n.type==="mousemove"?(xi=n.screenX-tn.screenX,Di=n.screenY-tn.screenY):Di=xi=0,tn=n),xi)},movementY:function(n){return"movementY"in n?n.movementY:Di}}),Ko=Dt(Us),_l=z({},Us,{dataTransfer:0}),vl=Dt(_l),Vi=z({},Gr,{relatedTarget:0}),St=Dt(Vi),wl=z({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),El=Dt(wl),Kr=z({},$n,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l=Dt(Kr),p=z({},$n,{data:0}),g=Dt(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=j[n])?!!r[n]:!1}function Te(){return X}var it=z({},Gr,{key:function(n){if(n.key){var r=w[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Te,charCode:function(n){return n.type==="keypress"?bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),je=Dt(it),ut=z({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=Dt(ut),mr=z({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Te}),Wn=Dt(mr),qn=z({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oi=Dt(qn),Qo=z({},Us,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Av=Dt(Qo),Cv=[9,13,27,32],yc=m&&"CompositionEvent"in window,Yo=null;m&&"documentMode"in document&&(Yo=document.documentMode);var Rv=m&&"TextEvent"in window&&!Yo,vf=m&&(!yc||Yo&&8<Yo&&11>=Yo),wf=" ",Ef=!1;function Tf(n,r){switch(n){case"keyup":return Cv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Li=!1;function Pv(n,r){switch(n){case"compositionend":return If(r);case"keypress":return r.which!==32?null:(Ef=!0,wf);case"textInput":return n=r.data,n===wf&&Ef?null:n;default:return null}}function Nv(n,r){if(Li)return n==="compositionend"||!yc&&Tf(n,r)?(n=yl(),pr=Pi=en=null,Li=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vf&&r.locale!=="ko"?null:r.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!xv[n.type]:r==="textarea"}function Sf(n,r,o,u){Ur(u),r=Al(r,"onChange"),0<r.length&&(o=new Fs("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Jo=null,Xo=null;function Dv(n){Hf(n,0)}function Tl(n){var r=ji(n);if(Ao(r))return n}function Vv(n,r){if(n==="change")return r}var Af=!1;if(m){var _c;if(m){var vc="oninput"in document;if(!vc){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),vc=typeof Cf.oninput=="function"}_c=vc}else _c=!1;Af=_c&&(!document.documentMode||9<document.documentMode)}function Rf(){Jo&&(Jo.detachEvent("onpropertychange",Pf),Xo=Jo=null)}function Pf(n){if(n.propertyName==="value"&&Tl(Xo)){var r=[];Sf(r,Xo,n,vi(n)),il(Dv,r)}}function Ov(n,r,o){n==="focusin"?(Rf(),Jo=r,Xo=o,Jo.attachEvent("onpropertychange",Pf)):n==="focusout"&&Rf()}function Lv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tl(Xo)}function Mv(n,r){if(n==="click")return Tl(r)}function bv(n,r){if(n==="input"||n==="change")return Tl(r)}function Fv(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:Fv;function Zo(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!y.call(r,d)||!Tn(n[d],r[d]))return!1}return!0}function Nf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xf(n,r){var o=Nf(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nf(o)}}function Df(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Df(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Vf(){for(var n=window,r=Vr();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Vr(n.document)}return r}function wc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Uv(n){var r=Vf(),o=n.focusedElem,u=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&Df(o.ownerDocument.documentElement,o)){if(u!==null&&wc(o)){if(r=u.start,n=u.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!n.extend&&f>u&&(d=u,u=f,f=d),d=xf(o,f);var _=xf(o,u);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),f>u?(n.addRange(r),n.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jv=m&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ec=null,ea=null,Tc=!1;function Of(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tc||Mi==null||Mi!==Vr(u)||(u=Mi,"selectionStart"in u&&wc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ea&&Zo(ea,u)||(ea=u,u=Al(Ec,"onSelect"),0<u.length&&(r=new Fs("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Mi)))}function Il(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var bi={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Ic={},Lf={};m&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function kl(n){if(Ic[n])return Ic[n];if(!bi[n])return n;var r=bi[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Lf)return Ic[n]=r[o];return n}var Mf=kl("animationend"),bf=kl("animationiteration"),Ff=kl("animationstart"),Uf=kl("transitionend"),jf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,r){jf.set(n,r),c(r,[n])}for(var kc=0;kc<zf.length;kc++){var Sc=zf[kc],zv=Sc.toLowerCase(),Bv=Sc[0].toUpperCase()+Sc.slice(1);Qr(zv,"on"+Bv)}Qr(Mf,"onAnimationEnd"),Qr(bf,"onAnimationIteration"),Qr(Ff,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Uf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function Bf(n,r,o){var u=n.type||"unknown-event";n.currentTarget=o,Vo(u,r,void 0,n),n.currentTarget=null}function Hf(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],A=T.instance,U=T.currentTarget;if(T=T.listener,A!==f&&d.isPropagationStopped())break e;Bf(d,T,U),f=A}else for(_=0;_<u.length;_++){if(T=u[_],A=T.instance,U=T.currentTarget,T=T.listener,A!==f&&d.isPropagationStopped())break e;Bf(d,T,U),f=A}}}if(wi)throw n=an,wi=!1,an=null,n}function qe(n,r){var o=r[Vc];o===void 0&&(o=r[Vc]=new Set);var u=n+"__bubble";o.has(u)||($f(r,n,2,!1),o.add(u))}function Ac(n,r,o){var u=0;r&&(u|=4),$f(o,n,u,r)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function na(n){if(!n[Sl]){n[Sl]=!0,i.forEach(function(o){o!=="selectionchange"&&(Hv.has(o)||Ac(o,!1,n),Ac(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Sl]||(r[Sl]=!0,Ac("selectionchange",!1,r))}}function $f(n,r,o,u){switch(Ri(r)){case 1:var d=zn;break;case 4:d=gl;break;default:d=qo}o=d.bind(null,r,o,n),d=void 0,!zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,o,{capture:!0,passive:d}):n.addEventListener(r,o,!0):d!==void 0?n.addEventListener(r,o,{passive:d}):n.addEventListener(r,o,!1)}function Cc(n,r,o,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(_===4)for(_=u.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;_=_.return}for(;T!==null;){if(_=js(T),_===null)return;if(A=_.tag,A===5||A===6){u=f=_;continue e}T=T.parentNode}}u=u.return}il(function(){var U=f,q=vi(o),K=[];e:{var W=jf.get(n);if(W!==void 0){var te=Fs,se=n;switch(n){case"keypress":if(bs(o)===0)break e;case"keydown":case"keyup":te=je;break;case"focusin":se="focus",te=St;break;case"focusout":se="blur",te=St;break;case"beforeblur":case"afterblur":te=St;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Wn;break;case Mf:case bf:case Ff:te=El;break;case Uf:te=Oi;break;case"scroll":te=Ni;break;case"wheel":te=Av;break;case"copy":case"cut":case"paste":te=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=nn}var oe=(r&4)!==0,ot=!oe&&n==="scroll",L=oe?W!==null?W+"Capture":null:W;oe=[];for(var x=U,b;x!==null;){b=x;var Y=b.stateNode;if(b.tag===5&&Y!==null&&(b=Y,L!==null&&(Y=Cs(x,L),Y!=null&&oe.push(ra(x,Y,b)))),ot)break;x=x.return}0<oe.length&&(W=new te(W,se,null,o,q),K.push({event:W,listeners:oe}))}}if((r&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",W&&o!==Fr&&(se=o.relatedTarget||o.fromElement)&&(js(se)||se[gr]))break e;if((te||W)&&(W=q.window===q?q:(W=q.ownerDocument)?W.defaultView||W.parentWindow:window,te?(se=o.relatedTarget||o.toElement,te=U,se=se?js(se):null,se!==null&&(ot=wn(se),se!==ot||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=U),te!==se)){if(oe=Ko,Y="onMouseLeave",L="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(oe=nn,Y="onPointerLeave",L="onPointerEnter",x="pointer"),ot=te==null?W:ji(te),b=se==null?W:ji(se),W=new oe(Y,x+"leave",te,o,q),W.target=ot,W.relatedTarget=b,Y=null,js(q)===U&&(oe=new oe(L,x+"enter",se,o,q),oe.target=b,oe.relatedTarget=ot,Y=oe),ot=Y,te&&se)t:{for(oe=te,L=se,x=0,b=oe;b;b=Fi(b))x++;for(b=0,Y=L;Y;Y=Fi(Y))b++;for(;0<x-b;)oe=Fi(oe),x--;for(;0<b-x;)L=Fi(L),b--;for(;x--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=Fi(oe),L=Fi(L)}oe=null}else oe=null;te!==null&&Wf(K,W,te,oe,!1),se!==null&&ot!==null&&Wf(K,ot,se,oe,!0)}}e:{if(W=U?ji(U):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var ae=Vv;else if(kf(W))if(Af)ae=bv;else{ae=Lv;var he=Ov}else(te=W.nodeName)&&te.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ae=Mv);if(ae&&(ae=ae(n,U))){Sf(K,ae,o,q);break e}he&&he(n,W,U),n==="focusout"&&(he=W._wrapperState)&&he.controlled&&W.type==="number"&&lt(W,"number",W.value)}switch(he=U?ji(U):window,n){case"focusin":(kf(he)||he.contentEditable==="true")&&(Mi=he,Ec=U,ea=null);break;case"focusout":ea=Ec=Mi=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Of(K,o,q);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Of(K,o,q)}var de;if(yc)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Li?Tf(n,o)&&(_e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(vf&&o.locale!=="ko"&&(Li||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Li&&(de=yl()):(en=q,Pi="value"in en?en.value:en.textContent,Li=!0)),he=Al(U,_e),0<he.length&&(_e=new g(_e,n,null,o,q),K.push({event:_e,listeners:he}),de?_e.data=de:(de=If(o),de!==null&&(_e.data=de)))),(de=Rv?Pv(n,o):Nv(n,o))&&(U=Al(U,"onBeforeInput"),0<U.length&&(q=new g("onBeforeInput","beforeinput",null,o,q),K.push({event:q,listeners:U}),q.data=de))}Hf(K,r)})}function ra(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Al(n,r){for(var o=r+"Capture",u=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Cs(n,o),f!=null&&u.unshift(ra(n,f,d)),f=Cs(n,r),f!=null&&u.push(ra(n,f,d))),n=n.return}return u}function Fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Wf(n,r,o,u,d){for(var f=r._reactName,_=[];o!==null&&o!==u;){var T=o,A=T.alternate,U=T.stateNode;if(A!==null&&A===u)break;T.tag===5&&U!==null&&(T=U,d?(A=Cs(o,f),A!=null&&_.unshift(ra(o,A,T))):d||(A=Cs(o,f),A!=null&&_.push(ra(o,A,T)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var $v=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function qf(n){return(typeof n=="string"?n:""+n).replace($v,`
`).replace(Wv,"")}function Cl(n,r,o){if(r=qf(r),qf(n)!==r&&o)throw Error(t(425))}function Rl(){}var Rc=null,Pc=null;function Nc(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(n){return Gf.resolve(null).then(n).catch(Kv)}:xc;function Kv(n){setTimeout(function(){throw n})}function Dc(n,r){var o=r,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){n.removeChild(d),qr(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);qr(r)}function Yr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Kf(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ui,sa="__reactProps$"+Ui,gr="__reactContainer$"+Ui,Vc="__reactEvents$"+Ui,Qv="__reactListeners$"+Ui,Yv="__reactHandles$"+Ui;function js(n){var r=n[Gn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[gr]||o[Gn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Kf(n);n!==null;){if(o=n[Gn])return o;n=Kf(n)}return r}n=o,o=n.parentNode}return null}function ia(n){return n=n[Gn]||n[gr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ji(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Pl(n){return n[sa]||null}var Oc=[],zi=-1;function Jr(n){return{current:n}}function Ge(n){0>zi||(n.current=Oc[zi],Oc[zi]=null,zi--)}function $e(n,r){zi++,Oc[zi]=n.current,n.current=r}var Xr={},Vt=Jr(Xr),$t=Jr(!1),zs=Xr;function Bi(n,r){var o=n.type.contextTypes;if(!o)return Xr;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=r[f];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Wt(n){return n=n.childContextTypes,n!=null}function Nl(){Ge($t),Ge(Vt)}function Qf(n,r,o){if(Vt.current!==Xr)throw Error(t(168));$e(Vt,r),$e($t,o)}function Yf(n,r,o){var u=n.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(t(108,me(n)||"Unknown",d));return z({},o,u)}function xl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xr,zs=Vt.current,$e(Vt,n),$e($t,$t.current),!0}function Jf(n,r,o){var u=n.stateNode;if(!u)throw Error(t(169));o?(n=Yf(n,r,zs),u.__reactInternalMemoizedMergedChildContext=n,Ge($t),Ge(Vt),$e(Vt,n)):Ge($t),$e($t,o)}var yr=null,Dl=!1,Lc=!1;function Xf(n){yr===null?yr=[n]:yr.push(n)}function Jv(n){Dl=!0,Xf(n)}function Zr(){if(!Lc&&yr!==null){Lc=!0;var n=0,r=Ve;try{var o=yr;for(Ve=1;n<o.length;n++){var u=o[n];do u=u(!0);while(u!==null)}yr=null,Dl=!1}catch(d){throw yr!==null&&(yr=yr.slice(n+1)),Lo(Ti,Zr),d}finally{Ve=r,Lc=!1}}return null}var Hi=[],$i=0,Vl=null,Ol=0,un=[],cn=0,Bs=null,_r=1,vr="";function Hs(n,r){Hi[$i++]=Ol,Hi[$i++]=Vl,Vl=n,Ol=r}function Zf(n,r,o){un[cn++]=_r,un[cn++]=vr,un[cn++]=Bs,Bs=n;var u=_r;n=vr;var d=32-Xt(u)-1;u&=~(1<<d),o+=1;var f=32-Xt(r)+d;if(30<f){var _=d-d%5;f=(u&(1<<_)-1).toString(32),u>>=_,d-=_,_r=1<<32-Xt(r)+d|o<<d|u,vr=f+n}else _r=1<<f|o<<d|u,vr=n}function Mc(n){n.return!==null&&(Hs(n,1),Zf(n,1,0))}function bc(n){for(;n===Vl;)Vl=Hi[--$i],Hi[$i]=null,Ol=Hi[--$i],Hi[$i]=null;for(;n===Bs;)Bs=un[--cn],un[cn]=null,vr=un[--cn],un[cn]=null,_r=un[--cn],un[cn]=null}var rn=null,sn=null,Ye=!1,In=null;function ep(n,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function tp(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,rn=n,sn=Yr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,rn=n,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Bs!==null?{id:_r,overflow:vr}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,rn=n,sn=null,!0):!1;default:return!1}}function Fc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Uc(n){if(Ye){var r=sn;if(r){var o=r;if(!tp(n,r)){if(Fc(n))throw Error(t(418));r=Yr(o.nextSibling);var u=rn;r&&tp(n,r)?ep(u,o):(n.flags=n.flags&-4097|2,Ye=!1,rn=n)}}else{if(Fc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,rn=n}}}function np(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Ll(n){if(n!==rn)return!1;if(!Ye)return np(n),Ye=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Nc(n.type,n.memoizedProps)),r&&(r=sn)){if(Fc(n))throw rp(),Error(t(418));for(;r;)ep(n,r),r=Yr(r.nextSibling)}if(np(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){sn=Yr(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}sn=null}}else sn=rn?Yr(n.stateNode.nextSibling):null;return!0}function rp(){for(var n=sn;n;)n=Yr(n.nextSibling)}function Wi(){sn=rn=null,Ye=!1}function jc(n){In===null?In=[n]:In.push(n)}var Xv=De.ReactCurrentBatchConfig;function oa(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var u=o.stateNode}if(!u)throw Error(t(147,n));var d=u,f=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(_){var T=d.refs;_===null?delete T[f]:T[f]=_},r._stringRef=f,r)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function Ml(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function sp(n){var r=n._init;return r(n._payload)}function ip(n){function r(L,x){if(n){var b=L.deletions;b===null?(L.deletions=[x],L.flags|=16):b.push(x)}}function o(L,x){if(!n)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function u(L,x){for(L=new Map;x!==null;)x.key!==null?L.set(x.key,x):L.set(x.index,x),x=x.sibling;return L}function d(L,x){return L=as(L,x),L.index=0,L.sibling=null,L}function f(L,x,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<x?(L.flags|=2,x):b):(L.flags|=2,x)):(L.flags|=1048576,x)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,x,b,Y){return x===null||x.tag!==6?(x=xh(b,L.mode,Y),x.return=L,x):(x=d(x,b),x.return=L,x)}function A(L,x,b,Y){var ae=b.type;return ae===P?q(L,x,b.props.children,Y,b.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===_t&&sp(ae)===x.type)?(Y=d(x,b.props),Y.ref=oa(L,x,b),Y.return=L,Y):(Y=ou(b.type,b.key,b.props,null,L.mode,Y),Y.ref=oa(L,x,b),Y.return=L,Y)}function U(L,x,b,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Dh(b,L.mode,Y),x.return=L,x):(x=d(x,b.children||[]),x.return=L,x)}function q(L,x,b,Y,ae){return x===null||x.tag!==7?(x=Js(b,L.mode,Y,ae),x.return=L,x):(x=d(x,b),x.return=L,x)}function K(L,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xh(""+x,L.mode,b),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qe:return b=ou(x.type,x.key,x.props,null,L.mode,b),b.ref=oa(L,null,x),b.return=L,b;case Re:return x=Dh(x,L.mode,b),x.return=L,x;case _t:var Y=x._init;return K(L,Y(x._payload),b)}if(st(x)||ue(x))return x=Js(x,L.mode,b,null),x.return=L,x;Ml(L,x)}return null}function W(L,x,b,Y){var ae=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ae!==null?null:T(L,x,""+b,Y);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qe:return b.key===ae?A(L,x,b,Y):null;case Re:return b.key===ae?U(L,x,b,Y):null;case _t:return ae=b._init,W(L,x,ae(b._payload),Y)}if(st(b)||ue(b))return ae!==null?null:q(L,x,b,Y,null);Ml(L,b)}return null}function te(L,x,b,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return L=L.get(b)||null,T(x,L,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Qe:return L=L.get(Y.key===null?b:Y.key)||null,A(x,L,Y,ae);case Re:return L=L.get(Y.key===null?b:Y.key)||null,U(x,L,Y,ae);case _t:var he=Y._init;return te(L,x,b,he(Y._payload),ae)}if(st(Y)||ue(Y))return L=L.get(b)||null,q(x,L,Y,ae,null);Ml(x,Y)}return null}function se(L,x,b,Y){for(var ae=null,he=null,de=x,_e=x=0,Et=null;de!==null&&_e<b.length;_e++){de.index>_e?(Et=de,de=null):Et=de.sibling;var Me=W(L,de,b[_e],Y);if(Me===null){de===null&&(de=Et);break}n&&de&&Me.alternate===null&&r(L,de),x=f(Me,x,_e),he===null?ae=Me:he.sibling=Me,he=Me,de=Et}if(_e===b.length)return o(L,de),Ye&&Hs(L,_e),ae;if(de===null){for(;_e<b.length;_e++)de=K(L,b[_e],Y),de!==null&&(x=f(de,x,_e),he===null?ae=de:he.sibling=de,he=de);return Ye&&Hs(L,_e),ae}for(de=u(L,de);_e<b.length;_e++)Et=te(de,L,_e,b[_e],Y),Et!==null&&(n&&Et.alternate!==null&&de.delete(Et.key===null?_e:Et.key),x=f(Et,x,_e),he===null?ae=Et:he.sibling=Et,he=Et);return n&&de.forEach(function(ls){return r(L,ls)}),Ye&&Hs(L,_e),ae}function oe(L,x,b,Y){var ae=ue(b);if(typeof ae!="function")throw Error(t(150));if(b=ae.call(b),b==null)throw Error(t(151));for(var he=ae=null,de=x,_e=x=0,Et=null,Me=b.next();de!==null&&!Me.done;_e++,Me=b.next()){de.index>_e?(Et=de,de=null):Et=de.sibling;var ls=W(L,de,Me.value,Y);if(ls===null){de===null&&(de=Et);break}n&&de&&ls.alternate===null&&r(L,de),x=f(ls,x,_e),he===null?ae=ls:he.sibling=ls,he=ls,de=Et}if(Me.done)return o(L,de),Ye&&Hs(L,_e),ae;if(de===null){for(;!Me.done;_e++,Me=b.next())Me=K(L,Me.value,Y),Me!==null&&(x=f(Me,x,_e),he===null?ae=Me:he.sibling=Me,he=Me);return Ye&&Hs(L,_e),ae}for(de=u(L,de);!Me.done;_e++,Me=b.next())Me=te(de,L,_e,Me.value,Y),Me!==null&&(n&&Me.alternate!==null&&de.delete(Me.key===null?_e:Me.key),x=f(Me,x,_e),he===null?ae=Me:he.sibling=Me,he=Me);return n&&de.forEach(function(xw){return r(L,xw)}),Ye&&Hs(L,_e),ae}function ot(L,x,b,Y){if(typeof b=="object"&&b!==null&&b.type===P&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qe:e:{for(var ae=b.key,he=x;he!==null;){if(he.key===ae){if(ae=b.type,ae===P){if(he.tag===7){o(L,he.sibling),x=d(he,b.props.children),x.return=L,L=x;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===_t&&sp(ae)===he.type){o(L,he.sibling),x=d(he,b.props),x.ref=oa(L,he,b),x.return=L,L=x;break e}o(L,he);break}else r(L,he);he=he.sibling}b.type===P?(x=Js(b.props.children,L.mode,Y,b.key),x.return=L,L=x):(Y=ou(b.type,b.key,b.props,null,L.mode,Y),Y.ref=oa(L,x,b),Y.return=L,L=Y)}return _(L);case Re:e:{for(he=b.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){o(L,x.sibling),x=d(x,b.children||[]),x.return=L,L=x;break e}else{o(L,x);break}else r(L,x);x=x.sibling}x=Dh(b,L.mode,Y),x.return=L,L=x}return _(L);case _t:return he=b._init,ot(L,x,he(b._payload),Y)}if(st(b))return se(L,x,b,Y);if(ue(b))return oe(L,x,b,Y);Ml(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(o(L,x.sibling),x=d(x,b),x.return=L,L=x):(o(L,x),x=xh(b,L.mode,Y),x.return=L,L=x),_(L)):o(L,x)}return ot}var qi=ip(!0),op=ip(!1),bl=Jr(null),Fl=null,Gi=null,zc=null;function Bc(){zc=Gi=Fl=null}function Hc(n){var r=bl.current;Ge(bl),n._currentValue=r}function $c(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function Ki(n,r){Fl=n,zc=Gi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(qt=!0),n.firstContext=null)}function hn(n){var r=n._currentValue;if(zc!==n)if(n={context:n,memoizedValue:r,next:null},Gi===null){if(Fl===null)throw Error(t(308));Gi=n,Fl.dependencies={lanes:0,firstContext:n}}else Gi=Gi.next=n;return r}var $s=null;function Wc(n){$s===null?$s=[n]:$s.push(n)}function ap(n,r,o,u){var d=r.interleaved;return d===null?(o.next=o,Wc(r)):(o.next=d.next,d.next=o),r.interleaved=o,wr(n,u)}function wr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var es=!1;function qc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Er(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function ts(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,wr(n,o)}return d=u.interleaved,d===null?(r.next=r,Wc(u)):(r.next=d.next,d.next=r),u.interleaved=r,wr(n,o)}function Ul(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,zo(n,o)}}function up(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=_:f=f.next=_,o=o.next}while(o!==null);f===null?d=f=r:f=f.next=r}else d=f=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function jl(n,r,o,u){var d=n.updateQueue;es=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var A=T,U=A.next;A.next=null,_===null?f=U:_.next=U,_=A;var q=n.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==_&&(T===null?q.firstBaseUpdate=U:T.next=U,q.lastBaseUpdate=A))}if(f!==null){var K=d.baseState;_=0,q=U=A=null,T=f;do{var W=T.lane,te=T.eventTime;if((u&W)===W){q!==null&&(q=q.next={eventTime:te,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var se=n,oe=T;switch(W=r,te=o,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){K=se.call(te,K,W);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,W=typeof se=="function"?se.call(te,K,W):se,W==null)break e;K=z({},K,W);break e;case 2:es=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,W=d.effects,W===null?d.effects=[T]:W.push(T))}else te={eventTime:te,lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(U=q=te,A=K):q=q.next=te,_|=W;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;W=T,T=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);if(q===null&&(A=K),d.baseState=A,d.firstBaseUpdate=U,d.lastBaseUpdate=q,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);Gs|=_,n.lanes=_,n.memoizedState=K}}function cp(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var u=n[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(t(191,d));d.call(u)}}}var aa={},Kn=Jr(aa),la=Jr(aa),ua=Jr(aa);function Ws(n){if(n===aa)throw Error(t(174));return n}function Gc(n,r){switch($e(ua,r),$e(la,n),$e(Kn,aa),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:gi(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=gi(r,n)}Ge(Kn),$e(Kn,r)}function Qi(){Ge(Kn),Ge(la),Ge(ua)}function hp(n){Ws(ua.current);var r=Ws(Kn.current),o=gi(r,n.type);r!==o&&($e(la,n),$e(Kn,o))}function Kc(n){la.current===n&&(Ge(Kn),Ge(la))}var Je=Jr(0);function zl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qc=[];function Yc(){for(var n=0;n<Qc.length;n++)Qc[n]._workInProgressVersionPrimary=null;Qc.length=0}var Bl=De.ReactCurrentDispatcher,Jc=De.ReactCurrentBatchConfig,qs=0,Xe=null,pt=null,vt=null,Hl=!1,ca=!1,ha=0,Zv=0;function Ot(){throw Error(t(321))}function Xc(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Tn(n[o],r[o]))return!1;return!0}function Zc(n,r,o,u,d,f){if(qs=f,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Bl.current=n===null||n.memoizedState===null?rw:sw,n=o(u,d),ca){f=0;do{if(ca=!1,ha=0,25<=f)throw Error(t(301));f+=1,vt=pt=null,r.updateQueue=null,Bl.current=iw,n=o(u,d)}while(ca)}if(Bl.current=ql,r=pt!==null&&pt.next!==null,qs=0,vt=pt=Xe=null,Hl=!1,r)throw Error(t(300));return n}function eh(){var n=ha!==0;return ha=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=n:vt=vt.next=n,vt}function dn(){if(pt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var r=vt===null?Xe.memoizedState:vt.next;if(r!==null)vt=r,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?Xe.memoizedState=vt=n:vt=vt.next=n}return vt}function da(n,r){return typeof r=="function"?r(n):r}function th(n){var r=dn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var u=pt,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var T=_=null,A=null,U=f;do{var q=U.lane;if((qs&q)===q)A!==null&&(A=A.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:n(u,U.action);else{var K={lane:q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};A===null?(T=A=K,_=u):A=A.next=K,Xe.lanes|=q,Gs|=q}U=U.next}while(U!==null&&U!==f);A===null?_=u:A.next=T,Tn(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=A,o.lastRenderedState=u}if(n=o.interleaved,n!==null){d=n;do f=d.lane,Xe.lanes|=f,Gs|=f,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function nh(n){var r=dn(),o=r.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,f=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);Tn(f,r.memoizedState)||(qt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function dp(){}function fp(n,r){var o=Xe,u=dn(),d=r(),f=!Tn(u.memoizedState,d);if(f&&(u.memoizedState=d,qt=!0),u=u.queue,rh(gp.bind(null,o,u,n),[n]),u.getSnapshot!==r||f||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,fa(9,mp.bind(null,o,u,d,r),void 0,null),wt===null)throw Error(t(349));(qs&30)!==0||pp(o,r,d)}return d}function pp(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function mp(n,r,o,u){r.value=o,r.getSnapshot=u,yp(r)&&_p(n)}function gp(n,r,o){return o(function(){yp(r)&&_p(n)})}function yp(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Tn(n,o)}catch{return!0}}function _p(n){var r=wr(n,1);r!==null&&Cn(r,n,1,-1)}function vp(n){var r=Qn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:n},r.queue=n,n=n.dispatch=nw.bind(null,Xe,n),[r.memoizedState,n]}function fa(n,r,o,u){return n={tag:n,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n)),n}function wp(){return dn().memoizedState}function $l(n,r,o,u){var d=Qn();Xe.flags|=n,d.memoizedState=fa(1|r,o,void 0,u===void 0?null:u)}function Wl(n,r,o,u){var d=dn();u=u===void 0?null:u;var f=void 0;if(pt!==null){var _=pt.memoizedState;if(f=_.destroy,u!==null&&Xc(u,_.deps)){d.memoizedState=fa(r,o,f,u);return}}Xe.flags|=n,d.memoizedState=fa(1|r,o,f,u)}function Ep(n,r){return $l(8390656,8,n,r)}function rh(n,r){return Wl(2048,8,n,r)}function Tp(n,r){return Wl(4,2,n,r)}function Ip(n,r){return Wl(4,4,n,r)}function kp(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Sp(n,r,o){return o=o!=null?o.concat([n]):null,Wl(4,4,kp.bind(null,r,n),o)}function sh(){}function Ap(n,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Xc(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function Cp(n,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Xc(r,u[1])?u[0]:(n=n(),o.memoizedState=[n,r],n)}function Rp(n,r,o){return(qs&21)===0?(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=o):(Tn(o,r)||(o=Uo(),Xe.lanes|=o,Gs|=o,n.baseState=!0),r)}function ew(n,r){var o=Ve;Ve=o!==0&&4>o?o:4,n(!0);var u=Jc.transition;Jc.transition={};try{n(!1),r()}finally{Ve=o,Jc.transition=u}}function Pp(){return dn().memoizedState}function tw(n,r,o){var u=is(n);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Np(n))xp(r,o);else if(o=ap(n,r,o,u),o!==null){var d=Ht();Cn(o,n,u,d),Dp(o,r,u)}}function nw(n,r,o){var u=is(n),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Np(n))xp(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,T=f(_,o);if(d.hasEagerState=!0,d.eagerState=T,Tn(T,_)){var A=r.interleaved;A===null?(d.next=d,Wc(r)):(d.next=A.next,A.next=d),r.interleaved=d;return}}catch{}o=ap(n,r,d,u),o!==null&&(d=Ht(),Cn(o,n,u,d),Dp(o,r,u))}}function Np(n){var r=n.alternate;return n===Xe||r!==null&&r===Xe}function xp(n,r){ca=Hl=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Dp(n,r,o){if((o&4194240)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,zo(n,o)}}var ql={readContext:hn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},rw={readContext:hn,useCallback:function(n,r){return Qn().memoizedState=[n,r===void 0?null:r],n},useContext:hn,useEffect:Ep,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,$l(4194308,4,kp.bind(null,r,n),o)},useLayoutEffect:function(n,r){return $l(4194308,4,n,r)},useInsertionEffect:function(n,r){return $l(4,2,n,r)},useMemo:function(n,r){var o=Qn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var u=Qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},u.queue=n,n=n.dispatch=tw.bind(null,Xe,n),[u.memoizedState,n]},useRef:function(n){var r=Qn();return n={current:n},r.memoizedState=n},useState:vp,useDebugValue:sh,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=vp(!1),r=n[0];return n=ew.bind(null,n[1]),Qn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var u=Xe,d=Qn();if(Ye){if(o===void 0)throw Error(t(407));o=o()}else{if(o=r(),wt===null)throw Error(t(349));(qs&30)!==0||pp(u,r,o)}d.memoizedState=o;var f={value:o,getSnapshot:r};return d.queue=f,Ep(gp.bind(null,u,f,n),[n]),u.flags|=2048,fa(9,mp.bind(null,u,f,o,r),void 0,null),o},useId:function(){var n=Qn(),r=wt.identifierPrefix;if(Ye){var o=vr,u=_r;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ha++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Zv++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},sw={readContext:hn,useCallback:Ap,useContext:hn,useEffect:rh,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ip,useMemo:Cp,useReducer:th,useRef:wp,useState:function(){return th(da)},useDebugValue:sh,useDeferredValue:function(n){var r=dn();return Rp(r,pt.memoizedState,n)},useTransition:function(){var n=th(da)[0],r=dn().memoizedState;return[n,r]},useMutableSource:dp,useSyncExternalStore:fp,useId:Pp,unstable_isNewReconciler:!1},iw={readContext:hn,useCallback:Ap,useContext:hn,useEffect:rh,useImperativeHandle:Sp,useInsertionEffect:Tp,useLayoutEffect:Ip,useMemo:Cp,useReducer:nh,useRef:wp,useState:function(){return nh(da)},useDebugValue:sh,useDeferredValue:function(n){var r=dn();return pt===null?r.memoizedState=n:Rp(r,pt.memoizedState,n)},useTransition:function(){var n=nh(da)[0],r=dn().memoizedState;return[n,r]},useMutableSource:dp,useSyncExternalStore:fp,useId:Pp,unstable_isNewReconciler:!1};function kn(n,r){if(n&&n.defaultProps){r=z({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function ih(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:z({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Gl={isMounted:function(n){return(n=n._reactInternals)?wn(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Ht(),d=is(n),f=Er(u,d);f.payload=r,o!=null&&(f.callback=o),r=ts(n,f,d),r!==null&&(Cn(r,n,d,u),Ul(r,n,d))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Ht(),d=is(n),f=Er(u,d);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ts(n,f,d),r!==null&&(Cn(r,n,d,u),Ul(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ht(),u=is(n),d=Er(o,u);d.tag=2,r!=null&&(d.callback=r),r=ts(n,d,u),r!==null&&(Cn(r,n,u,o),Ul(r,n,u))}};function Vp(n,r,o,u,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,f,_):r.prototype&&r.prototype.isPureReactComponent?!Zo(o,u)||!Zo(d,f):!0}function Op(n,r,o){var u=!1,d=Xr,f=r.contextType;return typeof f=="object"&&f!==null?f=hn(f):(d=Wt(r)?zs:Vt.current,u=r.contextTypes,f=(u=u!=null)?Bi(n,d):Xr),r=new r(o,f),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gl,n.stateNode=r,r._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),r}function Lp(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Gl.enqueueReplaceState(r,r.state,null)}function oh(n,r,o,u){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},qc(n);var f=r.contextType;typeof f=="object"&&f!==null?d.context=hn(f):(f=Wt(r)?zs:Vt.current,d.context=Bi(n,f)),d.state=n.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(ih(n,r,f,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Gl.enqueueReplaceState(d,d.state,null),jl(n,o,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Yi(n,r){try{var o="",u=r;do o+=ke(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:r,stack:d,digest:null}}function ah(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function lh(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var ow=typeof WeakMap=="function"?WeakMap:Map;function Mp(n,r,o){o=Er(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){eu||(eu=!0,Ih=u),lh(n,r)},o}function bp(n,r,o){o=Er(-1,o),o.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){lh(n,r)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){lh(n,r),typeof u!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Fp(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new ow;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),n=ww.bind(null,n,r,o),r.then(n,n))}function Up(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function jp(n,r,o,u,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Er(-1,1),r.tag=2,ts(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var aw=De.ReactCurrentOwner,qt=!1;function Bt(n,r,o,u){r.child=n===null?op(r,null,o,u):qi(r,n.child,o,u)}function zp(n,r,o,u,d){o=o.render;var f=r.ref;return Ki(r,d),u=Zc(n,r,o,u,f,d),o=eh(),n!==null&&!qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Tr(n,r,d)):(Ye&&o&&Mc(r),r.flags|=1,Bt(n,r,u,d),r.child)}function Bp(n,r,o,u,d){if(n===null){var f=o.type;return typeof f=="function"&&!Nh(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,Hp(n,r,f,u,d)):(n=ou(o.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,(n.lanes&d)===0){var _=f.memoizedProps;if(o=o.compare,o=o!==null?o:Zo,o(_,u)&&n.ref===r.ref)return Tr(n,r,d)}return r.flags|=1,n=as(f,u),n.ref=r.ref,n.return=r,r.child=n}function Hp(n,r,o,u,d){if(n!==null){var f=n.memoizedProps;if(Zo(f,u)&&n.ref===r.ref)if(qt=!1,r.pendingProps=u=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,Tr(n,r,d)}return uh(n,r,o,u,d)}function $p(n,r,o){var u=r.pendingProps,d=u.children,f=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Xi,on),on|=o;else{if((o&1073741824)===0)return n=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,$e(Xi,on),on|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,$e(Xi,on),on|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,$e(Xi,on),on|=u;return Bt(n,r,d,o),r.child}function Wp(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function uh(n,r,o,u,d){var f=Wt(o)?zs:Vt.current;return f=Bi(r,f),Ki(r,d),o=Zc(n,r,o,u,f,d),u=eh(),n!==null&&!qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,Tr(n,r,d)):(Ye&&u&&Mc(r),r.flags|=1,Bt(n,r,o,d),r.child)}function qp(n,r,o,u,d){if(Wt(o)){var f=!0;xl(r)}else f=!1;if(Ki(r,d),r.stateNode===null)Ql(n,r),Op(r,o,u),oh(r,o,u,d),u=!0;else if(n===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var A=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=hn(U):(U=Wt(o)?zs:Vt.current,U=Bi(r,U));var q=o.getDerivedStateFromProps,K=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||A!==U)&&Lp(r,_,u,U),es=!1;var W=r.memoizedState;_.state=W,jl(r,u,_,d),A=r.memoizedState,T!==u||W!==A||$t.current||es?(typeof q=="function"&&(ih(r,o,q,u),A=r.memoizedState),(T=es||Vp(r,o,T,u,W,A,U))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),_.props=u,_.state=A,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,lp(n,r),T=r.memoizedProps,U=r.type===r.elementType?T:kn(r.type,T),_.props=U,K=r.pendingProps,W=_.context,A=o.contextType,typeof A=="object"&&A!==null?A=hn(A):(A=Wt(o)?zs:Vt.current,A=Bi(r,A));var te=o.getDerivedStateFromProps;(q=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==K||W!==A)&&Lp(r,_,u,A),es=!1,W=r.memoizedState,_.state=W,jl(r,u,_,d);var se=r.memoizedState;T!==K||W!==se||$t.current||es?(typeof te=="function"&&(ih(r,o,te,u),se=r.memoizedState),(U=es||Vp(r,o,U,u,W,se,A)||!1)?(q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,se,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,se,A)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),_.props=u,_.state=se,_.context=A,u=U):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),u=!1)}return ch(n,r,o,u,f,d)}function ch(n,r,o,u,d,f){Wp(n,r);var _=(r.flags&128)!==0;if(!u&&!_)return d&&Jf(r,o,!1),Tr(n,r,f);u=r.stateNode,aw.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,n!==null&&_?(r.child=qi(r,n.child,null,f),r.child=qi(r,null,T,f)):Bt(n,r,T,f),r.memoizedState=u.state,d&&Jf(r,o,!0),r.child}function Gp(n){var r=n.stateNode;r.pendingContext?Qf(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Qf(n,r.context,!1),Gc(n,r.containerInfo)}function Kp(n,r,o,u,d){return Wi(),jc(d),r.flags|=256,Bt(n,r,o,u),r.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function dh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qp(n,r,o){var u=r.pendingProps,d=Je.current,f=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(d&2)!==0),T?(f=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),$e(Je,d&1),n===null)return Uc(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,n=u.fallback,f?(u=r.mode,f=r.child,_={mode:"hidden",children:_},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=_):f=au(_,u,0,null),n=Js(n,u,o,null),f.return=r,n.return=r,f.sibling=n,r.child=f,r.child.memoizedState=dh(o),r.memoizedState=hh,n):fh(r,_));if(d=n.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return lw(n,r,_,u,T,d,o);if(f){f=u.fallback,_=r.mode,d=n.child,T=d.sibling;var A={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=as(d,A),u.subtreeFlags=d.subtreeFlags&14680064),T!==null?f=as(T,f):(f=Js(f,_,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,_=n.child.memoizedState,_=_===null?dh(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},f.memoizedState=_,f.childLanes=n.childLanes&~o,r.memoizedState=hh,u}return f=n.child,n=f.sibling,u=as(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=u,r.memoizedState=null,u}function fh(n,r){return r=au({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Kl(n,r,o,u){return u!==null&&jc(u),qi(r,n.child,null,o),n=fh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lw(n,r,o,u,d,f,_){if(o)return r.flags&256?(r.flags&=-257,u=ah(Error(t(422))),Kl(n,r,_,u)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(f=u.fallback,d=r.mode,u=au({mode:"visible",children:u.children},d,0,null),f=Js(f,d,_,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&qi(r,n.child,null,_),r.child.memoizedState=dh(_),r.memoizedState=hh,f);if((r.mode&1)===0)return Kl(n,r,_,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var T=u.dgst;return u=T,f=Error(t(419)),u=ah(f,u,void 0),Kl(n,r,_,u)}if(T=(_&n.childLanes)!==0,qt||T){if(u=wt,u!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|_))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,wr(n,d),Cn(u,n,d,-1))}return Ph(),u=ah(Error(t(421))),Kl(n,r,_,u)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=Ew.bind(null,n),d._reactRetry=r,null):(n=f.treeContext,sn=Yr(d.nextSibling),rn=r,Ye=!0,In=null,n!==null&&(un[cn++]=_r,un[cn++]=vr,un[cn++]=Bs,_r=n.id,vr=n.overflow,Bs=r),r=fh(r,u.children),r.flags|=4096,r)}function Yp(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),$c(n.return,r,o)}function ph(n,r,o,u,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function Jp(n,r,o){var u=r.pendingProps,d=u.revealOrder,f=u.tail;if(Bt(n,r,u.children,o),u=Je.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Yp(n,o,r);else if(n.tag===19)Yp(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if($e(Je,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)n=o.alternate,n!==null&&zl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),ph(r,!1,d,o,f);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&zl(n)===null){r.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}ph(r,!0,o,null,f);break;case"together":ph(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ql(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Tr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Gs|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,o=as(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=as(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function uw(n,r,o){switch(r.tag){case 3:Gp(r),Wi();break;case 5:hp(r);break;case 1:Wt(r.type)&&xl(r);break;case 4:Gc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;$e(bl,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Je,Je.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Qp(n,r,o):($e(Je,Je.current&1),n=Tr(n,r,o),n!==null?n.sibling:null);$e(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(n.flags&128)!==0){if(u)return Jp(n,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,$p(n,r,o)}return Tr(n,r,o)}var Xp,mh,Zp,em;Xp=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},mh=function(){},Zp=function(n,r,o,u){var d=n.memoizedProps;if(d!==u){n=r.stateNode,Ws(Kn.current);var f=null;switch(o){case"input":d=pi(n,d),u=pi(n,u),f=[];break;case"select":d=z({},d,{value:void 0}),u=z({},u,{value:void 0}),f=[];break;case"textarea":d=Ro(n,d),u=Ro(n,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=Rl)}vn(o,u);var _;o=null;for(U in d)if(!u.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var T=d[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?f||(f=[]):(f=f||[]).push(U,null));for(U in u){var A=u[U];if(T=d?.[U],u.hasOwnProperty(U)&&A!==T&&(A!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in A)A.hasOwnProperty(_)&&T[_]!==A[_]&&(o||(o={}),o[_]=A[_])}else o||(f||(f=[]),f.push(U,o)),o=A;else U==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,T=T?T.__html:void 0,A!=null&&T!==A&&(f=f||[]).push(U,A)):U==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(U,""+A):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(A!=null&&U==="onScroll"&&qe("scroll",n),f||T===A||(f=[])):(f=f||[]).push(U,A))}o&&(f=f||[]).push("style",o);var U=f;(r.updateQueue=U)&&(r.flags|=4)}},em=function(n,r,o,u){o!==u&&(r.flags|=4)};function pa(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function cw(n,r,o){var u=r.pendingProps;switch(bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Wt(r.type)&&Nl(),Lt(r),null;case 3:return u=r.stateNode,Qi(),Ge($t),Ge(Vt),Yc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(Ll(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,In!==null&&(Ah(In),In=null))),mh(n,r),Lt(r),null;case 5:Kc(r);var d=Ws(ua.current);if(o=r.type,n!==null&&r.stateNode!=null)Zp(n,r,o,u,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(t(166));return Lt(r),null}if(n=Ws(Kn.current),Ll(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[Gn]=r,u[sa]=f,n=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(d=0;d<ta.length;d++)qe(ta[d],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":Za(u,f),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},qe("invalid",u);break;case"textarea":Po(u,f),qe("invalid",u)}vn(o,f),d=null;for(var _ in f)if(f.hasOwnProperty(_)){var T=f[_];_==="children"?typeof T=="string"?u.textContent!==T&&(f.suppressHydrationWarning!==!0&&Cl(u.textContent,T,n),d=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(f.suppressHydrationWarning!==!0&&Cl(u.textContent,T,n),d=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&qe("scroll",u)}switch(o){case"input":fi(u),Co(u,f,!0);break;case"textarea":fi(u),Or(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Rl)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=No(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=_.createElement(o,{is:u.is}):(n=_.createElement(o),o==="select"&&(_=n,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):n=_.createElementNS(n,o),n[Gn]=r,n[sa]=u,Xp(n,r,!1,!1),r.stateNode=n;e:{switch(_=_i(o,u),o){case"dialog":qe("cancel",n),qe("close",n),d=u;break;case"iframe":case"object":case"embed":qe("load",n),d=u;break;case"video":case"audio":for(d=0;d<ta.length;d++)qe(ta[d],n);d=u;break;case"source":qe("error",n),d=u;break;case"img":case"image":case"link":qe("error",n),qe("load",n),d=u;break;case"details":qe("toggle",n),d=u;break;case"input":Za(n,u),d=pi(n,u),qe("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=z({},u,{value:void 0}),qe("invalid",n);break;case"textarea":Po(n,u),d=Ro(n,u),qe("invalid",n);break;default:d=u}vn(o,d),T=d;for(f in T)if(T.hasOwnProperty(f)){var A=T[f];f==="style"?yi(n,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&tl(n,A)):f==="children"?typeof A=="string"?(o!=="textarea"||A!=="")&&As(n,A):typeof A=="number"&&As(n,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?A!=null&&f==="onScroll"&&qe("scroll",n):A!=null&&Ae(n,f,A,_))}switch(o){case"input":fi(n),Co(n,u,!1);break;case"textarea":fi(n),Or(n);break;case"option":u.value!=null&&n.setAttribute("value",""+Se(u.value));break;case"select":n.multiple=!!u.multiple,f=u.value,f!=null?_n(n,!!u.multiple,f,!1):u.defaultValue!=null&&_n(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Rl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(n&&r.stateNode!=null)em(n,r,n.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(t(166));if(o=Ws(ua.current),Ws(Kn.current),Ll(r)){if(u=r.stateNode,o=r.memoizedProps,u[Gn]=r,(f=u.nodeValue!==o)&&(n=rn,n!==null))switch(n.tag){case 3:Cl(u.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cl(u.nodeValue,o,(n.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Gn]=r,r.stateNode=u}return Lt(r),null;case 13:if(Ge(Je),u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)rp(),Wi(),r.flags|=98560,f=!1;else if(f=Ll(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Gn]=r}else Wi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),f=!1}else In!==null&&(Ah(In),In=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Je.current&1)!==0?mt===0&&(mt=3):Ph())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Qi(),mh(n,r),n===null&&na(r.stateNode.containerInfo),Lt(r),null;case 10:return Hc(r.type._context),Lt(r),null;case 17:return Wt(r.type)&&Nl(),Lt(r),null;case 19:if(Ge(Je),f=r.memoizedState,f===null)return Lt(r),null;if(u=(r.flags&128)!==0,_=f.rendering,_===null)if(u)pa(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=zl(n),_!==null){for(r.flags|=128,pa(f,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,n=u,f.flags&=14680066,_=f.alternate,_===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,n=_.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return $e(Je,Je.current&1|2),r.child}n=n.sibling}f.tail!==null&&We()>Zi&&(r.flags|=128,u=!0,pa(f,!1),r.lanes=4194304)}else{if(!u)if(n=zl(_),n!==null){if(r.flags|=128,u=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),pa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(r),null}else 2*We()-f.renderingStartTime>Zi&&o!==1073741824&&(r.flags|=128,u=!0,pa(f,!1),r.lanes=4194304);f.isBackwards?(_.sibling=r.child,r.child=_):(o=f.last,o!==null?o.sibling=_:r.child=_,f.last=_)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=We(),r.sibling=null,o=Je.current,$e(Je,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return Rh(),u=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(on&1073741824)!==0&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function hw(n,r){switch(bc(r),r.tag){case 1:return Wt(r.type)&&Nl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qi(),Ge($t),Ge(Vt),Yc(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Kc(r),null;case 13:if(Ge(Je),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Wi()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ge(Je),null;case 4:return Qi(),null;case 10:return Hc(r.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var Yl=!1,Mt=!1,dw=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ji(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(n,r,u)}else o.current=null}function gh(n,r,o){try{o()}catch(u){nt(n,r,u)}}var tm=!1;function fw(n,r){if(Rc=fr,n=Vf(),wc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var _=0,T=-1,A=-1,U=0,q=0,K=n,W=null;t:for(;;){for(var te;K!==o||d!==0&&K.nodeType!==3||(T=_+d),K!==f||u!==0&&K.nodeType!==3||(A=_+u),K.nodeType===3&&(_+=K.nodeValue.length),(te=K.firstChild)!==null;)W=K,K=te;for(;;){if(K===n)break t;if(W===o&&++U===d&&(T=_),W===f&&++q===u&&(A=_),(te=K.nextSibling)!==null)break;K=W,W=K.parentNode}K=te}o=T===-1||A===-1?null:{start:T,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pc={focusedElem:n,selectionRange:o},fr=!1,re=r;re!==null;)if(r=re,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,re=n;else for(;re!==null;){r=re;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,ot=se.memoizedState,L=r.stateNode,x=L.getSnapshotBeforeUpdate(r.elementType===r.type?oe:kn(r.type,oe),ot);L.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Y){nt(r,r.return,Y)}if(n=r.sibling,n!==null){n.return=r.return,re=n;break}re=r.return}return se=tm,tm=!1,se}function ma(n,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&gh(r,o,f)}d=d.next}while(d!==u)}}function Jl(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function yh(n){var r=n.ref;if(r!==null){var o=n.stateNode;n.tag,n=o,typeof r=="function"?r(n):r.current=n}}function nm(n){var r=n.alternate;r!==null&&(n.alternate=null,nm(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Gn],delete r[sa],delete r[Vc],delete r[Qv],delete r[Yv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rm(n){return n.tag===5||n.tag===3||n.tag===4}function sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _h(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Rl));else if(u!==4&&(n=n.child,n!==null))for(_h(n,r,o),n=n.sibling;n!==null;)_h(n,r,o),n=n.sibling}function vh(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(vh(n,r,o),n=n.sibling;n!==null;)vh(n,r,o),n=n.sibling}var At=null,Sn=!1;function ns(n,r,o){for(o=o.child;o!==null;)im(n,r,o),o=o.sibling}function im(n,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(xs,o)}catch{}switch(o.tag){case 5:Mt||Ji(o,r);case 6:var u=At,d=Sn;At=null,ns(n,r,o),At=u,Sn=d,At!==null&&(Sn?(n=At,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):At.removeChild(o.stateNode));break;case 18:At!==null&&(Sn?(n=At,o=o.stateNode,n.nodeType===8?Dc(n.parentNode,o):n.nodeType===1&&Dc(n,o),qr(n)):Dc(At,o.stateNode));break;case 4:u=At,d=Sn,At=o.stateNode.containerInfo,Sn=!0,ns(n,r,o),At=u,Sn=d;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,_=f.destroy;f=f.tag,_!==void 0&&((f&2)!==0||(f&4)!==0)&&gh(o,r,_),d=d.next}while(d!==u)}ns(n,r,o);break;case 1:if(!Mt&&(Ji(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){nt(o,r,T)}ns(n,r,o);break;case 21:ns(n,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,ns(n,r,o),Mt=u):ns(n,r,o);break;default:ns(n,r,o)}}function om(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new dw),r.forEach(function(u){var d=Tw.bind(null,n,u);o.has(u)||(o.add(u),u.then(d,d))})}}function An(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:At=T.stateNode,Sn=!1;break e;case 3:At=T.stateNode.containerInfo,Sn=!0;break e;case 4:At=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(At===null)throw Error(t(160));im(f,_,d),At=null,Sn=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(U){nt(d,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)am(r,n),r=r.sibling}function am(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(An(r,n),Yn(n),u&4){try{ma(3,n,n.return),Jl(3,n)}catch(oe){nt(n,n.return,oe)}try{ma(5,n,n.return)}catch(oe){nt(n,n.return,oe)}}break;case 1:An(r,n),Yn(n),u&512&&o!==null&&Ji(o,o.return);break;case 5:if(An(r,n),Yn(n),u&512&&o!==null&&Ji(o,o.return),n.flags&32){var d=n.stateNode;try{As(d,"")}catch(oe){nt(n,n.return,oe)}}if(u&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,_=o!==null?o.memoizedProps:f,T=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{T==="input"&&f.type==="radio"&&f.name!=null&&mi(d,f),_i(T,_);var U=_i(T,f);for(_=0;_<A.length;_+=2){var q=A[_],K=A[_+1];q==="style"?yi(d,K):q==="dangerouslySetInnerHTML"?tl(d,K):q==="children"?As(d,K):Ae(d,q,K,U)}switch(T){case"input":Ss(d,f);break;case"textarea":el(d,f);break;case"select":var W=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var te=f.value;te!=null?_n(d,!!f.multiple,te,!1):W!==!!f.multiple&&(f.defaultValue!=null?_n(d,!!f.multiple,f.defaultValue,!0):_n(d,!!f.multiple,f.multiple?[]:"",!1))}d[sa]=f}catch(oe){nt(n,n.return,oe)}}break;case 6:if(An(r,n),Yn(n),u&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(oe){nt(n,n.return,oe)}}break;case 3:if(An(r,n),Yn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{qr(r.containerInfo)}catch(oe){nt(n,n.return,oe)}break;case 4:An(r,n),Yn(n);break;case 13:An(r,n),Yn(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Th=We())),u&4&&om(n);break;case 22:if(q=o!==null&&o.memoizedState!==null,n.mode&1?(Mt=(U=Mt)||q,An(r,n),Mt=U):An(r,n),Yn(n),u&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!q&&(n.mode&1)!==0)for(re=n,q=n.child;q!==null;){for(K=re=q;re!==null;){switch(W=re,te=W.child,W.tag){case 0:case 11:case 14:case 15:ma(4,W,W.return);break;case 1:Ji(W,W.return);var se=W.stateNode;if(typeof se.componentWillUnmount=="function"){u=W,o=W.return;try{r=u,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(oe){nt(u,o,oe)}}break;case 5:Ji(W,W.return);break;case 22:if(W.memoizedState!==null){cm(K);continue}}te!==null?(te.return=W,re=te):cm(K)}q=q.sibling}e:for(q=null,K=n;;){if(K.tag===5){if(q===null){q=K;try{d=K.stateNode,U?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(T=K.stateNode,A=K.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,T.style.display=br("display",_))}catch(oe){nt(n,n.return,oe)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=U?"":K.memoizedProps}catch(oe){nt(n,n.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:An(r,n),Yn(n),u&4&&om(n);break;case 21:break;default:An(r,n),Yn(n)}}function Yn(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(rm(o)){var u=o;break e}o=o.return}throw Error(t(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(As(d,""),u.flags&=-33);var f=sm(n);vh(n,f,d);break;case 3:case 4:var _=u.stateNode.containerInfo,T=sm(n);_h(n,T,_);break;default:throw Error(t(161))}}catch(A){nt(n,n.return,A)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function pw(n,r,o){re=n,lm(n)}function lm(n,r,o){for(var u=(n.mode&1)!==0;re!==null;){var d=re,f=d.child;if(d.tag===22&&u){var _=d.memoizedState!==null||Yl;if(!_){var T=d.alternate,A=T!==null&&T.memoizedState!==null||Mt;T=Yl;var U=Mt;if(Yl=_,(Mt=A)&&!U)for(re=d;re!==null;)_=re,A=_.child,_.tag===22&&_.memoizedState!==null?hm(d):A!==null?(A.return=_,re=A):hm(d);for(;f!==null;)re=f,lm(f),f=f.sibling;re=d,Yl=T,Mt=U}um(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,re=f):um(n)}}function um(n){for(;re!==null;){var r=re;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Mt||Jl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:kn(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&cp(r,f,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}cp(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&o.focus();break;case"img":A.src&&(o.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var q=U.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&qr(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||r.flags&512&&yh(r)}catch(W){nt(r,r.return,W)}}if(r===n){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function cm(n){for(;re!==null;){var r=re;if(r===n){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function hm(n){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Jl(4,r)}catch(A){nt(r,o,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(A){nt(r,d,A)}}var f=r.return;try{yh(r)}catch(A){nt(r,f,A)}break;case 5:var _=r.return;try{yh(r)}catch(A){nt(r,_,A)}}}catch(A){nt(r,r.return,A)}if(r===n){re=null;break}var T=r.sibling;if(T!==null){T.return=r.return,re=T;break}re=r.return}}var mw=Math.ceil,Xl=De.ReactCurrentDispatcher,wh=De.ReactCurrentOwner,fn=De.ReactCurrentBatchConfig,Le=0,wt=null,ct=null,Ct=0,on=0,Xi=Jr(0),mt=0,ga=null,Gs=0,Zl=0,Eh=0,ya=null,Gt=null,Th=0,Zi=1/0,Ir=null,eu=!1,Ih=null,rs=null,tu=!1,ss=null,nu=0,_a=0,kh=null,ru=-1,su=0;function Ht(){return(Le&6)!==0?We():ru!==-1?ru:ru=We()}function is(n){return(n.mode&1)===0?1:(Le&2)!==0&&Ct!==0?Ct&-Ct:Xv.transition!==null?(su===0&&(su=Uo()),su):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Ri(n.type)),n)}function Cn(n,r,o,u){if(50<_a)throw _a=0,kh=null,Error(t(185));Ls(n,o,u),((Le&2)===0||n!==wt)&&(n===wt&&((Le&2)===0&&(Zl|=o),mt===4&&os(n,Ct)),Kt(n,u),o===1&&Le===0&&(r.mode&1)===0&&(Zi=We()+500,Dl&&Zr()))}function Kt(n,r){var o=n.callbackNode;Os(n,r);var u=cr(n,n===wt?Ct:0);if(u===0)o!==null&&Ei(o),n.callbackNode=null,n.callbackPriority=0;else if(r=u&-u,n.callbackPriority!==r){if(o!=null&&Ei(o),r===1)n.tag===0?Jv(fm.bind(null,n)):Xf(fm.bind(null,n)),Gv(function(){(Le&6)===0&&Zr()}),o=null;else{switch(bn(u)){case 1:o=Ti;break;case 4:o=Mo;break;case 16:o=Ns;break;case 536870912:o=Ii;break;default:o=Ns}o=Em(o,dm.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function dm(n,r){if(ru=-1,su=0,(Le&6)!==0)throw Error(t(327));var o=n.callbackNode;if(eo()&&n.callbackNode!==o)return null;var u=cr(n,n===wt?Ct:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||r)r=iu(n,u);else{r=u;var d=Le;Le|=2;var f=mm();(wt!==n||Ct!==r)&&(Ir=null,Zi=We()+500,Qs(n,r));do try{_w();break}catch(T){pm(n,T)}while(!0);Bc(),Xl.current=f,Le=d,ct!==null?r=0:(wt=null,Ct=0,r=mt)}if(r!==0){if(r===2&&(d=Fo(n),d!==0&&(u=d,r=Sh(n,d))),r===1)throw o=ga,Qs(n,0),os(n,u),Kt(n,We()),o;if(r===6)os(n,u);else{if(d=n.current.alternate,(u&30)===0&&!gw(d)&&(r=iu(n,u),r===2&&(f=Fo(n),f!==0&&(u=f,r=Sh(n,f))),r===1))throw o=ga,Qs(n,0),os(n,u),Kt(n,We()),o;switch(n.finishedWork=d,n.finishedLanes=u,r){case 0:case 1:throw Error(t(345));case 2:Ys(n,Gt,Ir);break;case 3:if(os(n,u),(u&130023424)===u&&(r=Th+500-We(),10<r)){if(cr(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){Ht(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=xc(Ys.bind(null,n,Gt,Ir),r);break}Ys(n,Gt,Ir);break;case 4:if(os(n,u),(u&4194240)===u)break;for(r=n.eventTimes,d=-1;0<u;){var _=31-Xt(u);f=1<<_,_=r[_],_>d&&(d=_),u&=~f}if(u=d,u=We()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*mw(u/1960))-u,10<u){n.timeoutHandle=xc(Ys.bind(null,n,Gt,Ir),u);break}Ys(n,Gt,Ir);break;case 5:Ys(n,Gt,Ir);break;default:throw Error(t(329))}}}return Kt(n,We()),n.callbackNode===o?dm.bind(null,n):null}function Sh(n,r){var o=ya;return n.current.memoizedState.isDehydrated&&(Qs(n,r).flags|=256),n=iu(n,r),n!==2&&(r=Gt,Gt=o,r!==null&&Ah(r)),n}function Ah(n){Gt===null?Gt=n:Gt.push.apply(Gt,n)}function gw(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(n,r){for(r&=~Eh,r&=~Zl,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Xt(r),u=1<<o;n[o]=-1,r&=~u}}function fm(n){if((Le&6)!==0)throw Error(t(327));eo();var r=cr(n,0);if((r&1)===0)return Kt(n,We()),null;var o=iu(n,r);if(n.tag!==0&&o===2){var u=Fo(n);u!==0&&(r=u,o=Sh(n,u))}if(o===1)throw o=ga,Qs(n,0),os(n,r),Kt(n,We()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ys(n,Gt,Ir),Kt(n,We()),null}function Ch(n,r){var o=Le;Le|=1;try{return n(r)}finally{Le=o,Le===0&&(Zi=We()+500,Dl&&Zr())}}function Ks(n){ss!==null&&ss.tag===0&&(Le&6)===0&&eo();var r=Le;Le|=1;var o=fn.transition,u=Ve;try{if(fn.transition=null,Ve=1,n)return n()}finally{Ve=u,fn.transition=o,Le=r,(Le&6)===0&&Zr()}}function Rh(){on=Xi.current,Ge(Xi)}function Qs(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,qv(o)),ct!==null)for(o=ct.return;o!==null;){var u=o;switch(bc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Nl();break;case 3:Qi(),Ge($t),Ge(Vt),Yc();break;case 5:Kc(u);break;case 4:Qi();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Hc(u.type._context);break;case 22:case 23:Rh()}o=o.return}if(wt=n,ct=n=as(n.current,null),Ct=on=r,mt=0,ga=null,Eh=Zl=Gs=0,Gt=ya=null,$s!==null){for(r=0;r<$s.length;r++)if(o=$s[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var _=f.next;f.next=d,u.next=_}o.pending=u}$s=null}return n}function pm(n,r){do{var o=ct;try{if(Bc(),Bl.current=ql,Hl){for(var u=Xe.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Hl=!1}if(qs=0,vt=pt=Xe=null,ca=!1,ha=0,wh.current=null,o===null||o.return===null){mt=1,ga=r,ct=null;break}e:{var f=n,_=o.return,T=o,A=r;if(r=Ct,T.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var U=A,q=T,K=q.tag;if((q.mode&1)===0&&(K===0||K===11||K===15)){var W=q.alternate;W?(q.updateQueue=W.updateQueue,q.memoizedState=W.memoizedState,q.lanes=W.lanes):(q.updateQueue=null,q.memoizedState=null)}var te=Up(_);if(te!==null){te.flags&=-257,jp(te,_,T,f,r),te.mode&1&&Fp(f,U,r),r=te,A=U;var se=r.updateQueue;if(se===null){var oe=new Set;oe.add(A),r.updateQueue=oe}else se.add(A);break e}else{if((r&1)===0){Fp(f,U,r),Ph();break e}A=Error(t(426))}}else if(Ye&&T.mode&1){var ot=Up(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),jp(ot,_,T,f,r),jc(Yi(A,T));break e}}f=A=Yi(A,T),mt!==4&&(mt=2),ya===null?ya=[f]:ya.push(f),f=_;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var L=Mp(f,A,r);up(f,L);break e;case 1:T=A;var x=f.type,b=f.stateNode;if((f.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(rs===null||!rs.has(b)))){f.flags|=65536,r&=-r,f.lanes|=r;var Y=bp(f,T,r);up(f,Y);break e}}f=f.return}while(f!==null)}ym(o)}catch(ae){r=ae,ct===o&&o!==null&&(ct=o=o.return);continue}break}while(!0)}function mm(){var n=Xl.current;return Xl.current=ql,n===null?ql:n}function Ph(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||(Gs&268435455)===0&&(Zl&268435455)===0||os(wt,Ct)}function iu(n,r){var o=Le;Le|=2;var u=mm();(wt!==n||Ct!==r)&&(Ir=null,Qs(n,r));do try{yw();break}catch(d){pm(n,d)}while(!0);if(Bc(),Le=o,Xl.current=u,ct!==null)throw Error(t(261));return wt=null,Ct=0,mt}function yw(){for(;ct!==null;)gm(ct)}function _w(){for(;ct!==null&&!Ps();)gm(ct)}function gm(n){var r=wm(n.alternate,n,on);n.memoizedProps=n.pendingProps,r===null?ym(n):ct=r,wh.current=null}function ym(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=cw(o,r,on),o!==null){ct=o;return}}else{if(o=hw(o,r),o!==null){o.flags&=32767,ct=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,ct=null;return}}if(r=r.sibling,r!==null){ct=r;return}ct=r=n}while(r!==null);mt===0&&(mt=5)}function Ys(n,r,o){var u=Ve,d=fn.transition;try{fn.transition=null,Ve=1,vw(n,r,o,u)}finally{fn.transition=d,Ve=u}return null}function vw(n,r,o,u){do eo();while(ss!==null);if((Le&6)!==0)throw Error(t(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=o.lanes|o.childLanes;if(mc(n,f),n===wt&&(ct=wt=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||tu||(tu=!0,Em(Ns,function(){return eo(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=fn.transition,fn.transition=null;var _=Ve;Ve=1;var T=Le;Le|=4,wh.current=null,fw(n,o),am(o,n),Uv(Pc),fr=!!Rc,Pc=Rc=null,n.current=o,pw(o),ur(),Le=T,Ve=_,fn.transition=f}else n.current=o;if(tu&&(tu=!1,ss=n,nu=d),f=n.pendingLanes,f===0&&(rs=null),dl(o.stateNode),Kt(n,We()),r!==null)for(u=n.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(eu)throw eu=!1,n=Ih,Ih=null,n;return(nu&1)!==0&&n.tag!==0&&eo(),f=n.pendingLanes,(f&1)!==0?n===kh?_a++:(_a=0,kh=n):_a=0,Zr(),null}function eo(){if(ss!==null){var n=bn(nu),r=fn.transition,o=Ve;try{if(fn.transition=null,Ve=16>n?16:n,ss===null)var u=!1;else{if(n=ss,ss=null,nu=0,(Le&6)!==0)throw Error(t(331));var d=Le;for(Le|=4,re=n.current;re!==null;){var f=re,_=f.child;if((re.flags&16)!==0){var T=f.deletions;if(T!==null){for(var A=0;A<T.length;A++){var U=T[A];for(re=U;re!==null;){var q=re;switch(q.tag){case 0:case 11:case 15:ma(8,q,f)}var K=q.child;if(K!==null)K.return=q,re=K;else for(;re!==null;){q=re;var W=q.sibling,te=q.return;if(nm(q),q===U){re=null;break}if(W!==null){W.return=te,re=W;break}re=te}}}var se=f.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var ot=oe.sibling;oe.sibling=null,oe=ot}while(oe!==null)}}re=f}}if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,re=_;else e:for(;re!==null;){if(f=re,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ma(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,re=L;break e}re=f.return}}var x=n.current;for(re=x;re!==null;){_=re;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,re=b;else e:for(_=x;re!==null;){if(T=re,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Jl(9,T)}}catch(ae){nt(T,T.return,ae)}if(T===_){re=null;break e}var Y=T.sibling;if(Y!==null){Y.return=T.return,re=Y;break e}re=T.return}}if(Le=d,Zr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(xs,n)}catch{}u=!0}return u}finally{Ve=o,fn.transition=r}}return!1}function _m(n,r,o){r=Yi(o,r),r=Mp(n,r,1),n=ts(n,r,1),r=Ht(),n!==null&&(Ls(n,1,r),Kt(n,r))}function nt(n,r,o){if(n.tag===3)_m(n,n,o);else for(;r!==null;){if(r.tag===3){_m(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){n=Yi(o,n),n=bp(r,n,1),r=ts(r,n,1),n=Ht(),r!==null&&(Ls(r,1,n),Kt(r,n));break}}r=r.return}}function ww(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),r=Ht(),n.pingedLanes|=n.suspendedLanes&o,wt===n&&(Ct&o)===o&&(mt===4||mt===3&&(Ct&130023424)===Ct&&500>We()-Th?Qs(n,0):Eh|=o),Kt(n,r)}function vm(n,r){r===0&&((n.mode&1)===0?r=1:(r=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var o=Ht();n=wr(n,r),n!==null&&(Ls(n,r,o),Kt(n,o))}function Ew(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),vm(n,o)}function Tw(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(r),vm(n,o)}var wm;wm=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||$t.current)qt=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return qt=!1,uw(n,r,o);qt=(n.flags&131072)!==0}else qt=!1,Ye&&(r.flags&1048576)!==0&&Zf(r,Ol,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Ql(n,r),n=r.pendingProps;var d=Bi(r,Vt.current);Ki(r,o),d=Zc(null,r,u,n,d,o);var f=eh();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(u)?(f=!0,xl(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qc(r),d.updater=Gl,r.stateNode=d,d._reactInternals=r,oh(r,u,n,o),r=ch(null,r,u,!0,f,o)):(r.tag=0,Ye&&f&&Mc(r),Bt(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Ql(n,r),n=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=kw(u),n=kn(u,n),d){case 0:r=uh(null,r,u,n,o);break e;case 1:r=qp(null,r,u,n,o);break e;case 11:r=zp(null,r,u,n,o);break e;case 14:r=Bp(null,r,u,kn(u.type,n),o);break e}throw Error(t(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:kn(u,d),uh(n,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:kn(u,d),qp(n,r,u,d,o);case 3:e:{if(Gp(r),n===null)throw Error(t(387));u=r.pendingProps,f=r.memoizedState,d=f.element,lp(n,r),jl(r,u,null,o);var _=r.memoizedState;if(u=_.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=Yi(Error(t(423)),r),r=Kp(n,r,u,o,d);break e}else if(u!==d){d=Yi(Error(t(424)),r),r=Kp(n,r,u,o,d);break e}else for(sn=Yr(r.stateNode.containerInfo.firstChild),rn=r,Ye=!0,In=null,o=op(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Wi(),u===d){r=Tr(n,r,o);break e}Bt(n,r,u,o)}r=r.child}return r;case 5:return hp(r),n===null&&Uc(r),u=r.type,d=r.pendingProps,f=n!==null?n.memoizedProps:null,_=d.children,Nc(u,d)?_=null:f!==null&&Nc(u,f)&&(r.flags|=32),Wp(n,r),Bt(n,r,_,o),r.child;case 6:return n===null&&Uc(r),null;case 13:return Qp(n,r,o);case 4:return Gc(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=qi(r,null,u,o):Bt(n,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:kn(u,d),zp(n,r,u,d,o);case 7:return Bt(n,r,r.pendingProps,o),r.child;case 8:return Bt(n,r,r.pendingProps.children,o),r.child;case 12:return Bt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,f=r.memoizedProps,_=d.value,$e(bl,u._currentValue),u._currentValue=_,f!==null)if(Tn(f.value,_)){if(f.children===d.children&&!$t.current){r=Tr(n,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var T=f.dependencies;if(T!==null){_=f.child;for(var A=T.firstContext;A!==null;){if(A.context===u){if(f.tag===1){A=Er(-1,o&-o),A.tag=2;var U=f.updateQueue;if(U!==null){U=U.shared;var q=U.pending;q===null?A.next=A:(A.next=q.next,q.next=A),U.pending=A}}f.lanes|=o,A=f.alternate,A!==null&&(A.lanes|=o),$c(f.return,o,r),T.lanes|=o;break}A=A.next}}else if(f.tag===10)_=f.type===r.type?null:f.child;else if(f.tag===18){if(_=f.return,_===null)throw Error(t(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),$c(_,o,r),_=f.sibling}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}Bt(n,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Ki(r,o),d=hn(d),u=u(d),r.flags|=1,Bt(n,r,u,o),r.child;case 14:return u=r.type,d=kn(u,r.pendingProps),d=kn(u.type,d),Bp(n,r,u,d,o);case 15:return Hp(n,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:kn(u,d),Ql(n,r),r.tag=1,Wt(u)?(n=!0,xl(r)):n=!1,Ki(r,o),Op(r,u,d),oh(r,u,d,o),ch(null,r,u,!0,n,o);case 19:return Jp(n,r,o);case 22:return $p(n,r,o)}throw Error(t(156,r.tag))};function Em(n,r){return Lo(n,r)}function Iw(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,r,o,u){return new Iw(n,r,o,u)}function Nh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kw(n){if(typeof n=="function")return Nh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===rt)return 14}return 2}function as(n,r){var o=n.alternate;return o===null?(o=pn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function ou(n,r,o,u,d,f){var _=2;if(u=n,typeof n=="function")Nh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return Js(o.children,d,f,r);case I:_=8,d|=8;break;case S:return n=pn(12,o,r,d|2),n.elementType=S,n.lanes=f,n;case k:return n=pn(13,o,r,d),n.elementType=k,n.lanes=f,n;case Ue:return n=pn(19,o,r,d),n.elementType=Ue,n.lanes=f,n;case ze:return au(o,d,f,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:_=10;break e;case N:_=9;break e;case O:_=11;break e;case rt:_=14;break e;case _t:_=16,u=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=pn(_,o,r,d),r.elementType=n,r.type=u,r.lanes=f,r}function Js(n,r,o,u){return n=pn(7,n,u,r),n.lanes=o,n}function au(n,r,o,u){return n=pn(22,n,u,r),n.elementType=ze,n.lanes=o,n.stateNode={isHidden:!1},n}function xh(n,r,o){return n=pn(6,n,null,r),n.lanes=o,n}function Dh(n,r,o){return r=pn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Sw(n,r,o,u,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Vh(n,r,o,u,d,f,_,T,A){return n=new Sw(n,r,o,T,A),r===1?(r=1,f===!0&&(r|=8)):r=0,f=pn(3,null,null,r),n.current=f,f.stateNode=n,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(f),n}function Aw(n,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:u==null?null:""+u,children:n,containerInfo:r,implementation:o}}function Tm(n){if(!n)return Xr;n=n._reactInternals;e:{if(wn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(Wt(o))return Yf(n,o,r)}return r}function Im(n,r,o,u,d,f,_,T,A){return n=Vh(o,u,!0,n,d,f,_,T,A),n.context=Tm(null),o=n.current,u=Ht(),d=is(o),f=Er(u,d),f.callback=r??null,ts(o,f,d),n.current.lanes=d,Ls(n,d,u),Kt(n,u),n}function lu(n,r,o,u){var d=r.current,f=Ht(),_=is(d);return o=Tm(o),r.context===null?r.context=o:r.pendingContext=o,r=Er(f,_),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=ts(d,r,_),n!==null&&(Cn(n,d,_,f),Ul(n,d,_)),_}function uu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function km(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Oh(n,r){km(n,r),(n=n.alternate)&&km(n,r)}function Cw(){return null}var Sm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lh(n){this._internalRoot=n}cu.prototype.render=Lh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));lu(n,r,null,null)},cu.prototype.unmount=Lh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ks(function(){lu(null,n,null,null)}),r[gr]=null}};function cu(n){this._internalRoot=n}cu.prototype.unstable_scheduleHydration=function(n){if(n){var r=$o();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Zt.length&&r!==0&&r<Zt[o].priority;o++);Zt.splice(o,0,n),o===0&&Ai(n)}};function Mh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Am(){}function Rw(n,r,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var U=uu(_);f.call(U)}}var _=Im(r,u,n,0,null,!1,!1,"",Am);return n._reactRootContainer=_,n[gr]=_.current,na(n.nodeType===8?n.parentNode:n),Ks(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var T=u;u=function(){var U=uu(A);T.call(U)}}var A=Vh(n,0,!1,null,null,!1,!1,"",Am);return n._reactRootContainer=A,n[gr]=A.current,na(n.nodeType===8?n.parentNode:n),Ks(function(){lu(r,A,o,u)}),A}function du(n,r,o,u,d){var f=o._reactRootContainer;if(f){var _=f;if(typeof d=="function"){var T=d;d=function(){var A=uu(_);T.call(A)}}lu(r,_,n,d)}else _=Rw(o,r,n,d,u);return uu(_)}Bo=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=be(r.pendingLanes);o!==0&&(zo(r,o|1),Kt(r,We()),(Le&6)===0&&(Zi=We()+500,Zr()))}break;case 13:Ks(function(){var u=wr(n,1);if(u!==null){var d=Ht();Cn(u,n,1,d)}}),Oh(n,1)}},ki=function(n){if(n.tag===13){var r=wr(n,134217728);if(r!==null){var o=Ht();Cn(r,n,134217728,o)}Oh(n,134217728)}},Ho=function(n){if(n.tag===13){var r=is(n),o=wr(n,r);if(o!==null){var u=Ht();Cn(o,n,r,u)}Oh(n,r)}},$o=function(){return Ve},Wo=function(n,r){var o=Ve;try{return Ve=n,r()}finally{Ve=o}},or=function(n,r,o){switch(r){case"input":if(Ss(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var d=Pl(u);if(!d)throw Error(t(90));Ao(u),Ss(u,d)}}}break;case"textarea":el(n,o);break;case"select":r=o.value,r!=null&&_n(n,!!o.multiple,r,!1)}},rl=Ch,sl=Ks;var Pw={usingClientEntryPoint:!1,Events:[ia,ji,Pl,Ur,jr,Ch]},va={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nw={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hl(n),n===null?null:n.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{xs=fu.inject(Nw),Jt=fu}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw,Qt.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(r))throw Error(t(200));return Aw(n,r,null,o)},Qt.createRoot=function(n,r){if(!Mh(n))throw Error(t(299));var o=!1,u="",d=Sm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Vh(n,1,!1,null,null,o,!1,u,d),n[gr]=r.current,na(n.nodeType===8?n.parentNode:n),new Lh(r)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=hl(r),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Ks(n)},Qt.hydrate=function(n,r,o){if(!hu(r))throw Error(t(200));return du(null,n,r,!0,o)},Qt.hydrateRoot=function(n,r,o){if(!Mh(n))throw Error(t(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",_=Sm;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Im(r,null,n,1,o??null,d,!1,f,_),n[gr]=r.current,na(n),u)for(n=0;n<u.length;n++)o=u[n],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new cu(r)},Qt.render=function(n,r,o){if(!hu(r))throw Error(t(200));return du(null,n,r,!1,o)},Qt.unmountComponentAtNode=function(n){if(!hu(n))throw Error(t(40));return n._reactRootContainer?(Ks(function(){du(null,null,n,!1,function(){n._reactRootContainer=null,n[gr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Ch,Qt.unstable_renderSubtreeIntoContainer=function(n,r,o,u){if(!hu(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return du(n,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Om;function Uw(){if(Om)return Uh.exports;Om=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Uh.exports=Fw(),Uh.exports}var Lm;function jw(){if(Lm)return pu;Lm=1;var s=Uw();return pu.createRoot=s.createRoot,pu.hydrateRoot=s.hydrateRoot,pu}var zw=jw();const Bw=ay(zw);var Hw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $w=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ww=(s,e)=>{const t=Rt.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:h,children:m,...y},v)=>Rt.createElement("svg",{ref:v,...Hw,width:a,height:a,stroke:i,strokeWidth:h?Number(c)*24/Number(a):c,className:`lucide lucide-${$w(s)}`,...y},[...e.map(([E,C])=>Rt.createElement(E,C)),...(Array.isArray(m)?m:[m])||[]]));return t.displayName=`${s}`,t};var ir=Ww;const qw=ir("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),Mm=ir("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Gw=ir("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Kw=ir("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qw=ir("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Yw=ir("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),mu=ir("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Jw=ir("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xw=ir("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Zw=ir("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eE=()=>{};var bm={};const ly=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},tE=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const a=s[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=s[t++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=s[t++],h=s[t++],m=s[t++],y=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(y>>10)),e[i++]=String.fromCharCode(56320+(y&1023))}else{const c=s[t++],h=s[t++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},uy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const c=s[a],h=a+1<s.length,m=h?s[a+1]:0,y=a+2<s.length,v=y?s[a+2]:0,E=c>>2,C=(c&3)<<4|m>>4;let V=(m&15)<<2|v>>6,B=v&63;y||(B=64,h||(V=64)),i.push(t[E],t[C],t[V],t[B])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ly(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):tE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const c=t[s.charAt(a++)],m=a<s.length?t[s.charAt(a)]:0;++a;const v=a<s.length?t[s.charAt(a)]:64;++a;const C=a<s.length?t[s.charAt(a)]:64;if(++a,c==null||m==null||v==null||C==null)throw new nE;const V=c<<2|m>>4;if(i.push(V),v!==64){const B=m<<4&240|v>>2;if(i.push(B),C!==64){const ee=v<<6&192|C;i.push(ee)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(s){const e=ly(s);return uy.encodeByteArray(e,!0)},Du=function(s){return rE(s).replace(/\./g,"")},cy=function(s){try{return uy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iE=()=>sE().__FIREBASE_DEFAULTS__,oE=()=>{if(typeof process>"u"||typeof bm>"u")return;const s=bm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&cy(s[1]);return e&&JSON.parse(e)},Xu=()=>{try{return eE()||iE()||oE()||aE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hy=s=>Xu()?.emulatorHosts?.[s],lE=s=>{const e=hy(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dy=()=>Xu()?.config,fy=s=>Xu()?.[`_${s}`];class uE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function py(s){return(await fetch(s,{credentials:"include"})).ok}function cE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Du(JSON.stringify(t)),Du(JSON.stringify(h)),""].join(".")}const Aa={};function hE(){const s={prod:[],emulator:[]};for(const e of Object.keys(Aa))Aa[e]?s.emulator.push(e):s.prod.push(e);return s}function dE(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Fm=!1;function my(s,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Aa[s]===e||Aa[s]||Fm)return;Aa[s]=e;function t(V){return`__firebase__banner__${V}`}const i="__firebase__banner",c=hE().prod.length>0;function h(){const V=document.getElementById(i);V&&V.remove()}function m(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,B){V.setAttribute("width","24"),V.setAttribute("id",B),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Fm=!0,h()},V}function E(V,B){V.setAttribute("id",B),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=dE(i),B=t("text"),ee=document.getElementById(B)||document.createElement("span"),Z=t("learnmore"),Q=document.getElementById(Z)||document.createElement("a"),pe=t("preprendIcon"),ye=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const Ae=V.element;m(Ae),E(Q,Z);const De=v();y(ye,pe),Ae.append(ye,ee,Q,De),document.body.appendChild(Ae)}c?(ee.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function pE(){const s=Xu()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function yE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _E(){const s=jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function vE(){return!pE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const TE="FirebaseError";class Dr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=TE,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?IE(c,i):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Dr(a,m,i)}}function IE(s,e){return s.replace(kE,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const kE=/\{\$([^}]+)}/g;function SE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ri(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const c=s[a],h=e[a];if(Um(c)&&Um(h)){if(!ri(c,h))return!1}else if(c!==h)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Um(s){return s!==null&&typeof s=="object"}function $a(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function AE(s,e){const t=new CE(s,e);return t.subscribe.bind(t)}class CE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");RE(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Bh),a.error===void 0&&(a.error=Bh),a.complete===void 0&&(a.complete=Bh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RE(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Bh(){}function yn(s){return s&&s._delegate?s._delegate:s}class si{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class PE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new uE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xE(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NE(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NE(s){return s===Xs?void 0:s}function xE(s){return s.instantiationMode==="EAGER"}class DE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const VE={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},OE=Pe.INFO,LE={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},ME=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=LE[e];if(a)console[a](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const bE=(s,e)=>e.some(t=>s instanceof t);let jm,zm;function FE(){return jm||(jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UE(){return zm||(zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gy=new WeakMap,rd=new WeakMap,yy=new WeakMap,Hh=new WeakMap,Pd=new WeakMap;function jE(s){const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{t(ps(s.result)),a()},h=()=>{i(s.error),a()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&gy.set(t,s)}).catch(()=>{}),Pd.set(e,s),e}function zE(s){if(rd.has(s))return;const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{t(),a()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});rd.set(s,e)}let sd={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return rd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||yy.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function BE(s){sd=s(sd)}function HE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call($h(this),e,...t);return yy.set(i,e.sort?e.sort():[e]),ps(i)}:UE().includes(s)?function(...e){return s.apply($h(this),e),ps(gy.get(this))}:function(...e){return ps(s.apply($h(this),e))}}function $E(s){return typeof s=="function"?HE(s):(s instanceof IDBTransaction&&zE(s),bE(s,FE())?new Proxy(s,sd):s)}function ps(s){if(s instanceof IDBRequest)return jE(s);if(Hh.has(s))return Hh.get(s);const e=$E(s);return e!==s&&(Hh.set(s,e),Pd.set(e,s)),e}const $h=s=>Pd.get(s);function WE(s,e,{blocked:t,upgrade:i,blocking:a,terminated:c}={}){const h=indexedDB.open(s,e),m=ps(h);return i&&h.addEventListener("upgradeneeded",y=>{i(ps(h.result),y.oldVersion,y.newVersion,ps(h.transaction),y)}),t&&h.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const qE=["get","getKey","getAll","getAllKeys","count"],GE=["put","add","delete","clear"],Wh=new Map;function Bm(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=GE.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||qE.includes(t)))return;const c=async function(h,...m){const y=this.transaction(h,a?"readwrite":"readonly");let v=y.store;return i&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&y.done]))[0]};return Wh.set(e,c),c}BE(s=>({...s,get:(e,t,i)=>Bm(e,t)||s.get(e,t,i),has:(e,t)=>!!Bm(e,t)||s.has(e,t)}));class KE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QE(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QE(s){return s.getComponent()?.type==="VERSION"}const id="@firebase/app",Hm="0.14.8";const Rr=new Rd("@firebase/app"),YE="@firebase/app-compat",JE="@firebase/analytics-compat",XE="@firebase/analytics",ZE="@firebase/app-check-compat",e0="@firebase/app-check",t0="@firebase/auth",n0="@firebase/auth-compat",r0="@firebase/database",s0="@firebase/data-connect",i0="@firebase/database-compat",o0="@firebase/functions",a0="@firebase/functions-compat",l0="@firebase/installations",u0="@firebase/installations-compat",c0="@firebase/messaging",h0="@firebase/messaging-compat",d0="@firebase/performance",f0="@firebase/performance-compat",p0="@firebase/remote-config",m0="@firebase/remote-config-compat",g0="@firebase/storage",y0="@firebase/storage-compat",_0="@firebase/firestore",v0="@firebase/ai",w0="@firebase/firestore-compat",E0="firebase",T0="12.9.0";const od="[DEFAULT]",I0={[id]:"fire-core",[YE]:"fire-core-compat",[XE]:"fire-analytics",[JE]:"fire-analytics-compat",[e0]:"fire-app-check",[ZE]:"fire-app-check-compat",[t0]:"fire-auth",[n0]:"fire-auth-compat",[r0]:"fire-rtdb",[s0]:"fire-data-connect",[i0]:"fire-rtdb-compat",[o0]:"fire-fn",[a0]:"fire-fn-compat",[l0]:"fire-iid",[u0]:"fire-iid-compat",[c0]:"fire-fcm",[h0]:"fire-fcm-compat",[d0]:"fire-perf",[f0]:"fire-perf-compat",[p0]:"fire-rc",[m0]:"fire-rc-compat",[g0]:"fire-gcs",[y0]:"fire-gcs-compat",[_0]:"fire-fst",[w0]:"fire-fst-compat",[v0]:"fire-vertex","fire-js":"fire-js",[E0]:"fire-js-all"};const Vu=new Map,k0=new Map,ad=new Map;function $m(s,e){try{s.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function ho(s){const e=s.name;if(ad.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;ad.set(e,s);for(const t of Vu.values())$m(t,s);for(const t of k0.values())$m(t,s);return!0}function Nd(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Rn(s){return s==null?!1:s.settings!==void 0}const S0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Ha("app","Firebase",S0);class A0{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const wo=T0;function _y(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i={name:od,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ms.create("bad-app-name",{appName:String(a)});if(t||(t=dy()),!t)throw ms.create("no-options");const c=Vu.get(a);if(c){if(ri(t,c.options)&&ri(i,c.config))return c;throw ms.create("duplicate-app",{appName:a})}const h=new DE(a);for(const y of ad.values())h.addComponent(y);const m=new A0(t,i,h);return Vu.set(a,m),m}function vy(s=od){const e=Vu.get(s);if(!e&&s===od&&dy())return _y();if(!e)throw ms.create("no-app",{appName:s});return e}function gs(s,e,t){let i=I0[s]??s;t&&(i+=`-${t}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(h.join(" "));return}ho(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const C0="firebase-heartbeat-database",R0=1,Va="firebase-heartbeat-store";let qh=null;function wy(){return qh||(qh=WE(C0,R0,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Va)}catch(t){console.warn(t)}}}}).catch(s=>{throw ms.create("idb-open",{originalErrorMessage:s.message})})),qh}async function P0(s){try{const t=(await wy()).transaction(Va),i=await t.objectStore(Va).get(Ey(s));return await t.done,i}catch(e){if(e instanceof Dr)Rr.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function Wm(s,e){try{const i=(await wy()).transaction(Va,"readwrite");await i.objectStore(Va).put(e,Ey(s)),await i.done}catch(t){if(t instanceof Dr)Rr.warn(t.message);else{const i=ms.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(i.message)}}}function Ey(s){return`${s.name}!${s.options.appId}`}const N0=1024,x0=30;class D0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>x0){const a=L0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qm(),{heartbeatsToSend:t,unsentEntries:i}=V0(this._heartbeatsCache.heartbeats),a=Du(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rr.warn(e),""}}}function qm(){return new Date().toISOString().substring(0,10)}function V0(s,e=N0){const t=[];let i=s.slice();for(const a of s){const c=t.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Gm(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Gm(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class O0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P0(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gm(s){return Du(JSON.stringify({version:2,heartbeats:s})).length}function L0(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}function M0(s){ho(new si("platform-logger",e=>new KE(e),"PRIVATE")),ho(new si("heartbeat",e=>new D0(e),"PRIVATE")),gs(id,Hm,s),gs(id,Hm,"esm2020"),gs("fire-js","")}M0("");var b0="firebase",F0="12.9.0";gs(b0,F0,"app");function Ty(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U0=Ty,Iy=new Ha("auth","Firebase",Ty());const Ou=new Rd("@firebase/auth");function j0(s,...e){Ou.logLevel<=Pe.WARN&&Ou.warn(`Auth (${wo}): ${s}`,...e)}function Tu(s,...e){Ou.logLevel<=Pe.ERROR&&Ou.error(`Auth (${wo}): ${s}`,...e)}function nr(s,...e){throw Dd(s,...e)}function xn(s,...e){return Dd(s,...e)}function xd(s,e,t){const i={...U0(),[e]:t};return new Ha("auth","Firebase",i).create(e,{appName:s.name})}function ti(s){return xd(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z0(s,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nr(s,"argument-error"),xd(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dd(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return Iy.create(s,...e)}function ve(s,e,...t){if(!s)throw Dd(e,...t)}function Sr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Tu(e),new Error(e)}function Pr(s,e){s||Sr(e)}function ld(){return typeof self<"u"&&self.location?.href||""}function B0(){return Km()==="http:"||Km()==="https:"}function Km(){return typeof self<"u"&&self.location?.protocol||null}function H0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B0()||gE()||"connection"in navigator)?navigator.onLine:!0}function $0(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wa{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=fE()||yE()}get(){return H0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vd(s,e){Pr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ky{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const q0=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G0=new Wa(3e4,6e4);function Od(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Eo(s,e,t,i,a={}){return Sy(s,a,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=$a({key:s.config.apiKey,...h}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:y,...c};return mE()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(v.credentials="include"),ky.fetch()(await Ay(s,s.config.apiHost,t,m),v)})}async function Sy(s,e,t){s._canInitEmulator=!1;const i={...W0,...e};try{const a=new Q0(s),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw gu(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[y,v]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(s,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw gu(s,"email-already-in-use",h);if(y==="USER_DISABLED")throw gu(s,"user-disabled",h);const E=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw xd(s,E,v);nr(s,E)}}catch(a){if(a instanceof Dr)throw a;nr(s,"network-request-failed",{message:String(a)})}}async function K0(s,e,t,i,a={}){const c=await Eo(s,e,t,i,a);return"mfaPendingCredential"in c&&nr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ay(s,e,t,i){const a=`${e}${t}?${i}`,c=s,h=c.config.emulator?Vd(s.config,a):`${s.config.apiScheme}://${a}`;return q0.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class Q0{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(xn(this.auth,"network-request-failed")),G0.get())})}}function gu(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=xn(s,e,i);return a.customData._tokenResponse=t,a}async function Y0(s,e){return Eo(s,"POST","/v1/accounts:delete",e)}async function Lu(s,e){return Eo(s,"POST","/v1/accounts:lookup",e)}function Ca(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J0(s,e=!1){const t=yn(s),i=await t.getIdToken(e),a=Ld(i);ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,h=c?.sign_in_provider;return{claims:a,token:i,authTime:Ca(Gh(a.auth_time)),issuedAtTime:Ca(Gh(a.iat)),expirationTime:Ca(Gh(a.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gh(s){return Number(s)*1e3}function Ld(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const a=cy(t);return a?JSON.parse(a):(Tu("Failed to decode base64 JWT payload"),null)}catch(a){return Tu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Qm(s){const e=Ld(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Oa(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Dr&&X0(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function X0({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Z0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ud{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mu(s){const e=s.auth,t=await s.getIdToken(),i=await Oa(s,Lu(e,{idToken:t}));ve(i?.users.length,e,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const c=a.providerUserInfo?.length?Cy(a.providerUserInfo):[],h=tT(s.providerData,c),m=s.isAnonymous,y=!(s.email&&a.passwordHash)&&!h?.length,v=m?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new ud(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function eT(s){const e=yn(s);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tT(s,e){return[...s.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Cy(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function nT(s,e){const t=await Sy(s,{},async()=>{const i=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=s.config,h=await Ay(s,a,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:i};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(y.credentials="include"),ky.fetch()(h,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rT(s,e){return Eo(s,"POST","/v2/accounts:revokeToken",Od(s,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=Qm(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:c}=await nT(e,t);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,h=new oo;return i&&(ve(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),a&&(ve(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),c&&(ve(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function us(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new Z0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ud(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J0(this,e)}reload(){return eT(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await Oa(this,Y0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,y=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:C,emailVerified:V,isAnonymous:B,providerData:ee,stsTokenManager:Z}=t;ve(C&&Z,e,"internal-error");const Q=oo.fromJSON(this.name,Z);ve(typeof C=="string",e,"internal-error"),us(i,e.name),us(a,e.name),ve(typeof V=="boolean",e,"internal-error"),ve(typeof B=="boolean",e,"internal-error"),us(c,e.name),us(h,e.name),us(m,e.name),us(y,e.name),us(v,e.name),us(E,e.name);const pe=new Pn({uid:C,auth:e,email:a,emailVerified:V,displayName:i,isAnonymous:B,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:v,lastLoginAt:E});return ee&&Array.isArray(ee)&&(pe.providerData=ee.map(ye=>({...ye}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,t,i=!1){const a=new oo;a.updateFromServerResponse(t);const c=new Pn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Mu(c),c}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];ve(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?Cy(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!c?.length,m=new oo;m.updateFromIdToken(i);const y=new Pn({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ud(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const Ym=new Map;function Ar(s){Pr(s instanceof Function,"Expected a class definition");let e=Ym.get(s);return e?(Pr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Ym.set(s,e),e)}class Ry{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ry.type="NONE";const Jm=Ry;function Iu(s,e,t){return`firebase:${s}:${e}:${t}`}class ao{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Iu(this.userKey,a.apiKey,c),this.fullPersistenceKey=Iu("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lu(this.auth,{idToken:e}).catch(()=>{});return t?Pn._fromGetAccountInfoResponse(this.auth,t,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ao(Ar(Jm),e,i);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=a[0]||Ar(Jm);const h=Iu(i,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){let C;if(typeof E=="string"){const V=await Lu(e,{idToken:E}).catch(()=>{});if(!V)break;C=await Pn._fromGetAccountInfoResponse(e,V,E)}else C=Pn._fromJSON(e,E);v!==c&&(m=C),c=v;break}}catch{}const y=a.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ao(c,e,i):(c=y[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new ao(c,e,i))}}function Xm(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Py(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Oy(e))return"Blackberry";if(Ly(e))return"Webos";if(Ny(e))return"Safari";if((e.includes("chrome/")||xy(e))&&!e.includes("edge/"))return"Chrome";if(Vy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if(i?.length===2)return i[1]}return"Other"}function Py(s=jt()){return/firefox\//i.test(s)}function Ny(s=jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xy(s=jt()){return/crios\//i.test(s)}function Dy(s=jt()){return/iemobile/i.test(s)}function Vy(s=jt()){return/android/i.test(s)}function Oy(s=jt()){return/blackberry/i.test(s)}function Ly(s=jt()){return/webos/i.test(s)}function Md(s=jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function sT(s=jt()){return Md(s)&&!!window.navigator?.standalone}function iT(){return _E()&&document.documentMode===10}function My(s=jt()){return Md(s)||Vy(s)||Ly(s)||Oy(s)||/windows phone/i.test(s)||Dy(s)}function by(s,e=[]){let t;switch(s){case"Browser":t=Xm(jt());break;case"Worker":t=`${Xm(jt())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wo}/${i}`}class oT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,m)=>{try{const y=e(c);h(y)}catch(y){m(y)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function aT(s,e={}){return Eo(s,"GET","/v2/passwordPolicy",Od(s,e))}const lT=6;class uT{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class cT{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zm(this),this.idTokenSubscription=new Zm(this),this.beforeStateQueue=new oT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lu(this,{idToken:e}),i=await Pn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(ti(this));const t=e?yn(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aT(this),t=new uT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ha("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rT(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,i,a);return()=>{h=!0,y()}}else{const y=e.addObserver(t);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=by(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j0(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zu(s){return yn(s)}class Zm{constructor(e){this.auth=e,this.observer=null,this.addObserver=AE(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hT(s){bd=s}function dT(s){return bd.loadJS(s)}function fT(){return bd.gapiScript}function pT(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function mT(s,e){const t=Nd(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(ri(c,e??{}))return a;nr(a,"already-initialized")}return t.initialize({options:e})}function gT(s,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function yT(s,e,t){const i=Zu(s);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=Fy(e),{host:h,port:m}=_T(e),y=m===null?"":`:${m}`,v={url:`${c}//${h}${y}/`},E=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(ri(v,i.config.emulator)&&ri(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,vo(h)?(py(`${c}//${h}${y}`),my("Auth",!0)):vT()}function Fy(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function _T(s){const e=Fy(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:eg(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:eg(h)}}}function eg(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function vT(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function lo(s,e){return K0(s,"POST","/v1/accounts:signInWithIdp",Od(s,e))}const wT="http://localhost";class ii extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=t;if(!i||!a)return null;const h=new ii(i,a);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lo(e,t)}buildRequest(){const e={requestUri:wT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$a(t)}return e}}class Fd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class qa extends Fd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cs extends qa{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";class kr extends qa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ii._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return kr.credential(t,i)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class hs extends qa{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";class ds extends qa{constructor(){super("twitter.com")}static credential(e,t){return ii._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ds.credential(t,i)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const c=await Pn._fromIdTokenResponse(e,i,a),h=tg(i);return new fo({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=tg(i);return new fo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function tg(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class bu extends Dr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,bu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new bu(e,t,i,a)}}function jy(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?bu._fromErrorAndOperation(s,c,e,i):c})}async function ET(s,e,t=!1){const i=await Oa(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return fo._forOperation(s,"link",i)}async function TT(s,e,t=!1){const{auth:i}=s;if(Rn(i.app))return Promise.reject(ti(i));const a="reauthenticate";try{const c=await Oa(s,jy(i,a,e,s),t);ve(c.idToken,i,"internal-error");const h=Ld(c.idToken);ve(h,i,"internal-error");const{sub:m}=h;return ve(s.uid===m,i,"user-mismatch"),fo._forOperation(s,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&nr(i,"user-mismatch"),c}}async function IT(s,e,t=!1){if(Rn(s.app))return Promise.reject(ti(s));const i="signIn",a=await jy(s,i,e),c=await fo._fromIdTokenResponse(s,i,a);return t||await s._updateCurrentUser(c.user),c}function kT(s,e,t,i){return yn(s).onIdTokenChanged(e,t,i)}function ST(s,e,t){return yn(s).beforeAuthStateChanged(e,t)}function AT(s,e,t,i){return yn(s).onAuthStateChanged(e,t,i)}function CT(s){return yn(s).signOut()}const Fu="__sak";class zy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RT=1e3,PT=10;class By extends zy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=My(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,y)=>{this.notifyListeners(h,y)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);iT()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PT):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},RT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}By.type="LOCAL";const NT=By;class Hy extends zy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hy.type="SESSION";const $y=Hy;function xT(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ec(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:c}=t.data,h=this.handlersMap[a];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,c)),y=await xT(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ec.receivers=[];function Ud(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}class DT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,h;return new Promise((m,y)=>{const v=Ud("",20);a.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},i);h={messageChannel:a,onMessage(C){const V=C;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(V.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Xn(){return window}function VT(s){Xn().location.href=s}function Wy(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function OT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LT(){return navigator?.serviceWorker?.controller||null}function MT(){return Wy()?self:null}const qy="firebaseLocalStorageDb",bT=1,Uu="firebaseLocalStorage",Gy="fbase_key";class Ga{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tc(s,e){return s.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function FT(){const s=indexedDB.deleteDatabase(qy);return new Ga(s).toPromise()}function cd(){const s=indexedDB.open(qy,bT);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Uu,{keyPath:Gy})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Uu)?e(i):(i.close(),await FT(),e(await cd()))})})}async function ng(s,e,t){const i=tc(s,!0).put({[Gy]:e,value:t});return new Ga(i).toPromise()}async function UT(s,e){const t=tc(s,!1).get(e),i=await new Ga(t).toPromise();return i===void 0?null:i.value}function rg(s,e){const t=tc(s,!0).delete(e);return new Ga(t).toPromise()}const jT=800,zT=3;class Ky{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ec._getInstance(MT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OT(),!this.activeServiceWorker)return;this.sender=new DT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cd();return await ng(e,Fu,"1"),await rg(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ng(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>UT(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=tc(a,!1).getAll();return new Ga(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ky.type="LOCAL";const BT=Ky;new Wa(3e4,6e4);function Qy(s,e){return e?Ar(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class jd extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HT(s){return IT(s.auth,new jd(s),s.bypassAuthState)}function $T(s){const{auth:e,user:t}=s;return ve(t,e,"internal-error"),TT(t,new jd(s),s.bypassAuthState)}async function WT(s){const{auth:e,user:t}=s;return ve(t,e,"internal-error"),ET(t,new jd(s),s.bypassAuthState)}class Yy{constructor(e,t,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HT;case"linkViaPopup":case"linkViaRedirect":return WT;case"reauthViaPopup":case"reauthViaRedirect":return $T;default:nr(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qT=new Wa(2e3,1e4);async function GT(s,e,t){if(Rn(s.app))return Promise.reject(xn(s,"operation-not-supported-in-this-environment"));const i=Zu(s);z0(s,e,Fd);const a=Qy(i,t);return new Zs(i,"signInViaPopup",e,a).executeNotNull()}class Zs extends Yy{constructor(e,t,i,a,c){super(e,t,a,c),this.provider=i,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Ud();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qT.get())};e()}}Zs.currentPopupAction=null;const KT="pendingRedirect",ku=new Map;class QT extends Yy{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const i=await YT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YT(s,e){const t=ZT(e),i=XT(s);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function JT(s,e){ku.set(s._key(),e)}function XT(s){return Ar(s._redirectPersistence)}function ZT(s){return Iu(KT,s.config.apiKey,s.name)}async function eI(s,e,t=!1){if(Rn(s.app))return Promise.reject(ti(s));const i=Zu(s),a=Qy(i,e),h=await new QT(i,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const tI=600*1e3;class nI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Jy(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tI&&this.cachedEventUids.clear(),this.cachedEventUids.has(sg(e))}saveEventToCache(e){this.cachedEventUids.add(sg(e)),this.lastProcessedEventTime=Date.now()}}function sg(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Jy({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function rI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jy(s);default:return!1}}async function sI(s,e={}){return Eo(s,"GET","/v1/projects",e)}const iI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oI=/^https?/;async function aI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await sI(s);for(const t of e)try{if(lI(t))return}catch{}nr(s,"unauthorized-domain")}function lI(s){const e=ld(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!oI.test(t))return!1;if(iI.test(s))return i===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const uI=new Wa(3e4,6e4);function ig(){const s=Xn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function cI(s){return new Promise((e,t)=>{function i(){ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ig(),t(xn(s,"network-request-failed"))},timeout:uI.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)i();else{const a=pT("iframefcb");return Xn()[a]=()=>{gapi.load?i():t(xn(s,"network-request-failed"))},dT(`${fT()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Su=null,e})}let Su=null;function hI(s){return Su=Su||cI(s),Su}const dI=new Wa(5e3,15e3),fI="__/auth/iframe",pI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yI(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Vd(e,pI):`https://${s.config.authDomain}/${fI}`,i={apiKey:e.apiKey,appName:s.name,v:wo},a=gI.get(s.config.apiHost);a&&(i.eid=a);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${$a(i).slice(1)}`}async function _I(s){const e=await hI(s),t=Xn().gapi;return ve(t,s,"internal-error"),e.open({where:document.body,url:yI(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const h=xn(s,"network-request-failed"),m=Xn().setTimeout(()=>{c(h)},dI.get());function y(){Xn().clearTimeout(m),a(i)}i.ping(y).then(y,()=>{c(h)})}))}const vI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wI=500,EI=600,TI="_blank",II="http://localhost";class og{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kI(s,e,t,i=wI,a=EI){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const y={...vI,width:i.toString(),height:a.toString(),top:c,left:h},v=jt().toLowerCase();t&&(m=xy(v)?TI:t),Py(v)&&(e=e||II,y.scrollbars="yes");const E=Object.entries(y).reduce((V,[B,ee])=>`${V}${B}=${ee},`,"");if(sT(v)&&m!=="_self")return SI(e||"",m),new og(null);const C=window.open(e||"",m,E);ve(C,s,"popup-blocked");try{C.focus()}catch{}return new og(C)}function SI(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const AI="__/auth/handler",CI="emulator/auth/handler",RI=encodeURIComponent("fac");async function ag(s,e,t,i,a,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:wo,eventId:a};if(e instanceof Fd){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",SE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))h[E]=C}if(e instanceof qa){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await s._getAppCheckToken(),v=y?`#${RI}=${encodeURIComponent(y)}`:"";return`${PI(s)}?${$a(m).slice(1)}${v}`}function PI({config:s}){return s.emulator?Vd(s,CI):`https://${s.authDomain}/${AI}`}const Kh="webStorageSupport";class NI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$y,this._completeRedirectFn=eI,this._overrideRedirectResult=JT}async _openPopup(e,t,i,a){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ag(e,t,i,ld(),a);return kI(e,c,Ud())}async _openRedirect(e,t,i,a){await this._originValidation(e);const c=await ag(e,t,i,ld(),a);return VT(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(Pr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _I(e),i=new nI(e);return t.register("authEvent",a=>(ve(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kh,{type:Kh},a=>{const c=a?.[0]?.[Kh];c!==void 0&&t(!!c),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return My()||Ny()||Md()}}const xI=NI;var lg="@firebase/auth",ug="1.12.0";class DI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OI(s){ho(new si("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:by(s)},v=new cT(i,a,c,y);return gT(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ho(new si("auth-internal",e=>{const t=Zu(e.getProvider("auth").getImmediate());return(i=>new DI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(lg,ug,VI(s)),gs(lg,ug,"esm2020")}const LI=300,MI=fy("authIdTokenMaxAge")||LI;let cg=null;const bI=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>MI)return;const a=t?.token;cg!==a&&(cg=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FI(s=vy()){const e=Nd(s,"auth");if(e.isInitialized())return e.getImmediate();const t=mT(s,{popupRedirectResolver:xI,persistence:[BT,NT,$y]}),i=fy("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=bI(c.toString());ST(t,h,()=>h(t.currentUser)),kT(t,m=>h(m))}}const a=hy("auth");return a&&yT(t,`http://${a}`),t}function UI(){return document.getElementsByTagName("head")?.[0]??document}hT({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=a=>{const c=xn("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",UI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OI("Browser");var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,Xy;(function(){var s;function e(P,I){function S(){}S.prototype=I.prototype,P.F=I.prototype,P.prototype=new S,P.prototype.constructor=P,P.D=function(D,N,O){for(var k=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)k[Ue-2]=arguments[Ue];return I.prototype[N].apply(D,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,I,S){S||(S=0);const D=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)D[N]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(N=0;N<16;++N)D[N]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=P.g[0],S=P.g[1],N=P.g[2];let O=P.g[3],k;k=I+(O^S&(N^O))+D[0]+3614090360&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(N^I&(S^N))+D[1]+3905402710&4294967295,O=I+(k<<12&4294967295|k>>>20),k=N+(S^O&(I^S))+D[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=S+(I^N&(O^I))+D[3]+3250441966&4294967295,S=N+(k<<22&4294967295|k>>>10),k=I+(O^S&(N^O))+D[4]+4118548399&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(N^I&(S^N))+D[5]+1200080426&4294967295,O=I+(k<<12&4294967295|k>>>20),k=N+(S^O&(I^S))+D[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=S+(I^N&(O^I))+D[7]+4249261313&4294967295,S=N+(k<<22&4294967295|k>>>10),k=I+(O^S&(N^O))+D[8]+1770035416&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(N^I&(S^N))+D[9]+2336552879&4294967295,O=I+(k<<12&4294967295|k>>>20),k=N+(S^O&(I^S))+D[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=S+(I^N&(O^I))+D[11]+2304563134&4294967295,S=N+(k<<22&4294967295|k>>>10),k=I+(O^S&(N^O))+D[12]+1804603682&4294967295,I=S+(k<<7&4294967295|k>>>25),k=O+(N^I&(S^N))+D[13]+4254626195&4294967295,O=I+(k<<12&4294967295|k>>>20),k=N+(S^O&(I^S))+D[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=S+(I^N&(O^I))+D[15]+1236535329&4294967295,S=N+(k<<22&4294967295|k>>>10),k=I+(N^O&(S^N))+D[1]+4129170786&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^N&(I^S))+D[6]+3225465664&4294967295,O=I+(k<<9&4294967295|k>>>23),k=N+(I^S&(O^I))+D[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(N^O))+D[0]+3921069994&4294967295,S=N+(k<<20&4294967295|k>>>12),k=I+(N^O&(S^N))+D[5]+3593408605&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^N&(I^S))+D[10]+38016083&4294967295,O=I+(k<<9&4294967295|k>>>23),k=N+(I^S&(O^I))+D[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(N^O))+D[4]+3889429448&4294967295,S=N+(k<<20&4294967295|k>>>12),k=I+(N^O&(S^N))+D[9]+568446438&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^N&(I^S))+D[14]+3275163606&4294967295,O=I+(k<<9&4294967295|k>>>23),k=N+(I^S&(O^I))+D[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(N^O))+D[8]+1163531501&4294967295,S=N+(k<<20&4294967295|k>>>12),k=I+(N^O&(S^N))+D[13]+2850285829&4294967295,I=S+(k<<5&4294967295|k>>>27),k=O+(S^N&(I^S))+D[2]+4243563512&4294967295,O=I+(k<<9&4294967295|k>>>23),k=N+(I^S&(O^I))+D[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=S+(O^I&(N^O))+D[12]+2368359562&4294967295,S=N+(k<<20&4294967295|k>>>12),k=I+(S^N^O)+D[5]+4294588738&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^N)+D[8]+2272392833&4294967295,O=I+(k<<11&4294967295|k>>>21),k=N+(O^I^S)+D[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=S+(N^O^I)+D[14]+4259657740&4294967295,S=N+(k<<23&4294967295|k>>>9),k=I+(S^N^O)+D[1]+2763975236&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^N)+D[4]+1272893353&4294967295,O=I+(k<<11&4294967295|k>>>21),k=N+(O^I^S)+D[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=S+(N^O^I)+D[10]+3200236656&4294967295,S=N+(k<<23&4294967295|k>>>9),k=I+(S^N^O)+D[13]+681279174&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^N)+D[0]+3936430074&4294967295,O=I+(k<<11&4294967295|k>>>21),k=N+(O^I^S)+D[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=S+(N^O^I)+D[6]+76029189&4294967295,S=N+(k<<23&4294967295|k>>>9),k=I+(S^N^O)+D[9]+3654602809&4294967295,I=S+(k<<4&4294967295|k>>>28),k=O+(I^S^N)+D[12]+3873151461&4294967295,O=I+(k<<11&4294967295|k>>>21),k=N+(O^I^S)+D[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=S+(N^O^I)+D[2]+3299628645&4294967295,S=N+(k<<23&4294967295|k>>>9),k=I+(N^(S|~O))+D[0]+4096336452&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~N))+D[7]+1126891415&4294967295,O=I+(k<<10&4294967295|k>>>22),k=N+(I^(O|~S))+D[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=S+(O^(N|~I))+D[5]+4237533241&4294967295,S=N+(k<<21&4294967295|k>>>11),k=I+(N^(S|~O))+D[12]+1700485571&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~N))+D[3]+2399980690&4294967295,O=I+(k<<10&4294967295|k>>>22),k=N+(I^(O|~S))+D[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=S+(O^(N|~I))+D[1]+2240044497&4294967295,S=N+(k<<21&4294967295|k>>>11),k=I+(N^(S|~O))+D[8]+1873313359&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~N))+D[15]+4264355552&4294967295,O=I+(k<<10&4294967295|k>>>22),k=N+(I^(O|~S))+D[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=S+(O^(N|~I))+D[13]+1309151649&4294967295,S=N+(k<<21&4294967295|k>>>11),k=I+(N^(S|~O))+D[4]+4149444226&4294967295,I=S+(k<<6&4294967295|k>>>26),k=O+(S^(I|~N))+D[11]+3174756917&4294967295,O=I+(k<<10&4294967295|k>>>22),k=N+(I^(O|~S))+D[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=S+(O^(N|~I))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.v=function(P,I){I===void 0&&(I=P.length);const S=I-this.blockSize,D=this.C;let N=this.h,O=0;for(;O<I;){if(N==0)for(;O<=S;)a(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<I;)if(D[N++]=P.charCodeAt(O++),N==this.blockSize){a(this,D),N=0;break}}else for(;O<I;)if(D[N++]=P[O++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=I},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;I=this.o*8;for(var S=P.length-8;S<P.length;++S)P[S]=I&255,I/=256;for(this.v(P),P=Array(16),I=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)P[I++]=this.g[S]>>>D&255;return P};function c(P,I){var S=m;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=I(P)}function h(P,I){this.h=I;const S=[];let D=!0;for(let N=P.length-1;N>=0;N--){const O=P[N]|0;D&&O==I||(S[N]=O,D=!1)}this.g=S}var m={};function y(P){return-128<=P&&P<128?c(P,function(I){return new h([I|0],I<0?-1:0)}):new h([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return C;if(P<0)return Q(v(-P));const I=[];let S=1;for(let D=0;P>=S;D++)I[D]=P/S|0,S*=4294967296;return new h(I,0)}function E(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return Q(E(P.substring(1),I));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=v(Math.pow(I,8));let D=C;for(let O=0;O<P.length;O+=8){var N=Math.min(8,P.length-O);const k=parseInt(P.substring(O,O+N),I);N<8?(N=v(Math.pow(I,N)),D=D.j(N).add(v(k))):(D=D.j(S),D=D.add(v(k)))}return D}var C=y(0),V=y(1),B=y(16777216);s=h.prototype,s.m=function(){if(Z(this))return-Q(this).m();let P=0,I=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);P+=(D>=0?D:4294967296+D)*I,I*=4294967296}return P},s.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(ee(this))return"0";if(Z(this))return"-"+Q(this).toString(P);const I=v(Math.pow(P,6));var S=this;let D="";for(;;){const N=De(S,I).g;S=pe(S,N.j(I));let O=((S.g.length>0?S.g[0]:S.h)>>>0).toString(P);if(S=N,ee(S))return O+D;for(;O.length<6;)O="0"+O;D=O+D}},s.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function ee(P){if(P.h!=0)return!1;for(let I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function Z(P){return P.h==-1}s.l=function(P){return P=pe(this,P),Z(P)?-1:ee(P)?0:1};function Q(P){const I=P.g.length,S=[];for(let D=0;D<I;D++)S[D]=~P.g[D];return new h(S,~P.h).add(V)}s.abs=function(){return Z(this)?Q(this):this},s.add=function(P){const I=Math.max(this.g.length,P.g.length),S=[];let D=0;for(let N=0;N<=I;N++){let O=D+(this.i(N)&65535)+(P.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);D=k>>>16,O&=65535,k&=65535,S[N]=k<<16|O}return new h(S,S[S.length-1]&-2147483648?-1:0)};function pe(P,I){return P.add(Q(I))}s.j=function(P){if(ee(this)||ee(P))return C;if(Z(this))return Z(P)?Q(this).j(Q(P)):Q(Q(this).j(P));if(Z(P))return Q(this.j(Q(P)));if(this.l(B)<0&&P.l(B)<0)return v(this.m()*P.m());const I=this.g.length+P.g.length,S=[];for(var D=0;D<2*I;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<P.g.length;N++){const O=this.i(D)>>>16,k=this.i(D)&65535,Ue=P.i(N)>>>16,rt=P.i(N)&65535;S[2*D+2*N]+=k*rt,ye(S,2*D+2*N),S[2*D+2*N+1]+=O*rt,ye(S,2*D+2*N+1),S[2*D+2*N+1]+=k*Ue,ye(S,2*D+2*N+1),S[2*D+2*N+2]+=O*Ue,ye(S,2*D+2*N+2)}for(P=0;P<I;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=I;P<2*I;P++)S[P]=0;return new h(S,0)};function ye(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function Ae(P,I){this.g=P,this.h=I}function De(P,I){if(ee(I))throw Error("division by zero");if(ee(P))return new Ae(C,C);if(Z(P))return I=De(Q(P),I),new Ae(Q(I.g),Q(I.h));if(Z(I))return I=De(P,Q(I)),new Ae(Q(I.g),I.h);if(P.g.length>30){if(Z(P)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var S=V,D=I;D.l(P)<=0;)S=Qe(S),D=Qe(D);var N=Re(S,1),O=Re(D,1);for(D=Re(D,2),S=Re(S,2);!ee(D);){var k=O.add(D);k.l(P)<=0&&(N=N.add(S),O=k),D=Re(D,1),S=Re(S,1)}return I=pe(P,N.j(I)),new Ae(N,I)}for(N=C;P.l(I)>=0;){for(S=Math.max(1,Math.floor(P.m()/I.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),O=v(S),k=O.j(I);Z(k)||k.l(P)>0;)S-=D,O=v(S),k=O.j(I);ee(O)&&(O=V),N=N.add(O),P=pe(P,k)}return new Ae(N,P)}s.B=function(P){return De(this,P).h},s.and=function(P){const I=Math.max(this.g.length,P.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)&P.i(D);return new h(S,this.h&P.h)},s.or=function(P){const I=Math.max(this.g.length,P.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)|P.i(D);return new h(S,this.h|P.h)},s.xor=function(P){const I=Math.max(this.g.length,P.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)^P.i(D);return new h(S,this.h^P.h)};function Qe(P){const I=P.g.length+1,S=[];for(let D=0;D<I;D++)S[D]=P.i(D)<<1|P.i(D-1)>>>31;return new h(S,P.h)}function Re(P,I){const S=I>>5;I%=32;const D=P.g.length-S,N=[];for(let O=0;O<D;O++)N[O]=I>0?P.i(O+S)>>>I|P.i(O+S+1)<<32-I:P.i(O+S);return new h(N,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Xy=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ys=h}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zy,Ta,e_,Au,hd,t_,n_,r_;(function(){var s,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof yu=="object"&&yu];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=t(this);function a(l,p){if(p)e:{var g=i;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in g))break e;g=g[M]}l=l[l.length-1],w=g[l],p=p(w),p!=w&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var g=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&g.push([w,p[w]]);return g}});var c=c||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,g){return l.call.apply(l.bind,arguments)}function v(l,p,g){return v=y,v.apply(null,arguments)}function E(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function C(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(w,M,j){for(var X=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)X[Te-2]=arguments[Te];return p.prototype[M].apply(w,X)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function B(l){const p=l.length;if(p>0){const g=Array(p);for(let w=0;w<p;w++)g[w]=l[w];return g}return[]}function ee(l,p){for(let w=1;w<arguments.length;w++){const M=arguments[w];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const j=M.length||0;l.length=g+j;for(let X=0;X<j;X++)l[g+X]=M[X]}else l.push(M)}}class Z{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(l){h.setTimeout(()=>{throw l},0)}function pe(){var l=P;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,g){const w=Ae.get();w.set(p,g),this.h?this.h.next=w:this.g=w,this.h=w}}var Ae=new Z(()=>new De,l=>l.reset());class De{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,Re=!1,P=new ye,I=()=>{const l=Promise.resolve(void 0);Qe=()=>{l.then(S)}};function S(){for(var l;l=pe();){try{l.h.call(l.g)}catch(g){Q(g)}var p=Ae;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Re=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};h.addEventListener("test",g,p),h.removeEventListener("test",g,p)}catch{}return l})();function k(l){return/^[\s\xa0]*$/.test(l)}function Ue(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}C(Ue,N),Ue.prototype.init=function(l,p){const g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),_t=0;function ze(l,p,g,w,M){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!w,this.ha=M,this.key=++_t,this.da=this.fa=!1}function J(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l,p,g){for(const w in l)p.call(g,l[w],w,l)}function z(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function R(l){const p={};for(const g in l)p[g]=l[g];return p}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(l,p){let g,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(g in w)l[g]=w[g];for(let j=0;j<F.length;j++)g=F[j],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,p,g,w,M){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const X=we(l,p,w,M);return X>-1?(p=l[X],g||(p.fa=!1)):(p=new ze(p,this.src,j,!!w,M),p.fa=g,l.push(p)),p};function ke(l,p){const g=p.type;if(g in l.g){var w=l.g[g],M=Array.prototype.indexOf.call(w,p,void 0),j;(j=M>=0)&&Array.prototype.splice.call(w,M,1),j&&(J(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function we(l,p,g,w){for(let M=0;M<l.length;++M){const j=l[M];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==w)return M}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Se={};function Be(l,p,g,w,M){if(Array.isArray(p)){for(let j=0;j<p.length;j++)Be(l,p[j],g,w,M);return null}return g=Co(g),l&&l[rt]?l.J(p,g,m(w)?!!w.capture:!1,M):zt(l,p,g,!1,w,M)}function zt(l,p,g,w,M,j){if(!p)throw Error("Invalid event type");const X=m(M)?!!M.capture:!!M;let Te=mi(l);if(Te||(l[me]=Te=new ce(l)),g=Te.add(p,g,w,X,j),g.proxy)return g;if(w=fi(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)O||(M=X),M===void 0&&(M=!1),l.addEventListener(p.toString(),w,M);else if(l.attachEvent)l.attachEvent(pi(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fi(){function l(g){return p.call(l.src,l.listener,g)}const p=Za;return l}function Ao(l,p,g,w,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)Ao(l,p[j],g,w,M);else w=m(w)?!!w.capture:!!w,g=Co(g),l&&l[rt]?(l=l.i,j=String(p).toString(),j in l.g&&(p=l.g[j],g=we(p,g,w,M),g>-1&&(J(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[j],l.h--)))):l&&(l=mi(l))&&(p=l.g[p.toString()],l=-1,p&&(l=we(p,g,w,M)),(g=l>-1?p[l]:null)&&Vr(g))}function Vr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[rt])ke(p.i,l);else{var g=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(g,w,l.capture):p.detachEvent?p.detachEvent(pi(g),w):p.addListener&&p.removeListener&&p.removeListener(w),(g=mi(p))?(ke(g,l),g.h==0&&(g.src=null,p[me]=null)):J(l)}}}function pi(l){return l in Se?Se[l]:Se[l]="on"+l}function Za(l,p){if(l.da)l=!0;else{p=new Ue(p,this);const g=l.listener,w=l.ha||l.src;l.fa&&Vr(l),l=g.call(w,p)}return l}function mi(l){return l=l[me],l instanceof ce?l:null}var Ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(l){return typeof l=="function"?l:(l[Ss]||(l[Ss]=function(p){return l.handleEvent(p)}),l[Ss])}function lt(){D.call(this),this.i=new ce(this),this.M=this,this.G=null}C(lt,D),lt.prototype[rt]=!0,lt.prototype.removeEventListener=function(l,p,g,w){Ao(this,l,p,g,w)};function st(l,p){var g,w=l.G;if(w)for(g=[];w;w=w.G)g.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var M=p;p=new N(w,l),ie(p,M)}M=!0;let j,X;if(g)for(X=g.length-1;X>=0;X--)j=p.g=g[X],M=_n(j,w,!0,p)&&M;if(j=p.g=l,M=_n(j,w,!0,p)&&M,M=_n(j,w,!1,p)&&M,g)for(X=0;X<g.length;X++)j=p.g=g[X],M=_n(j,w,!1,p)&&M}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let w=0;w<g.length;w++)J(g[w]);delete l.g[p],l.h--}}this.G=null},lt.prototype.J=function(l,p,g,w){return this.i.add(String(l),p,!1,g,w)},lt.prototype.K=function(l,p,g,w){return this.i.add(String(l),p,!0,g,w)};function _n(l,p,g,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let j=0;j<p.length;++j){const X=p[j];if(X&&!X.da&&X.capture==g){const Te=X.listener,it=X.ha||X.src;X.fa&&ke(l.i,X),M=Te.call(it,w)!==!1&&M}}return M&&!w.defaultPrevented}function Ro(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function Po(l){l.g=Ro(()=>{l.g=null,l.i&&(l.i=!1,Po(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class el extends D{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(l){D.call(this),this.h=l,this.g={}}C(Or,D);var No=[];function gi(l){ue(l.g,function(p,g){this.g.hasOwnProperty(g)&&Vr(p)},l),l.g={}}Or.prototype.N=function(){Or.Z.N.call(this),gi(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=h.JSON.stringify,tl=h.JSON.parse,As=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Mr(){}function nl(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yi(){N.call(this,"d")}C(yi,N);function xo(){N.call(this,"c")}C(xo,N);var vn={},_i=null;function Fr(){return _i=_i||new lt}vn.Ia="serverreachability";function vi(l){N.call(this,vn.Ia,l)}C(vi,N);function or(l){const p=Fr();st(p,new vi(p))}vn.STAT_EVENT="statevent";function ar(l,p){N.call(this,vn.STAT_EVENT,l),this.stat=p}C(ar,N);function tt(l){const p=Fr();st(p,new ar(p,l))}vn.Ja="timingevent";function Do(l,p){N.call(this,vn.Ja,l),this.size=p}C(Do,N);function Ur(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function jr(){this.g=!0}jr.prototype.ua=function(){this.g=!1};function rl(l,p,g,w,M,j){l.info(function(){if(l.g)if(j){var X="",Te=j.split("&");for(let je=0;je<Te.length;je++){var it=Te[je].split("=");if(it.length>1){const ut=it[0];it=it[1];const nn=ut.split("_");X=nn.length>=2&&nn[1]=="type"?X+(ut+"="+it+"&"):X+(ut+"=redacted&")}}}else X=null;else X=j;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+p+`
`+g+`
`+X})}function sl(l,p,g,w,M,j,X){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+p+`
`+g+`
`+j+" "+X})}function Vn(l,p,g,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Cs(l,g)+(w?" "+w:"")})}function il(l,p){l.info(function(){return"TIMEOUT: "+p})}jr.prototype.info=function(){};function Cs(l,p){if(!l.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var g=j[l];if(!(g.length<2)){var w=g[1];if(Array.isArray(w)&&!(w.length<1)){var M=w[0];if(M!="noop"&&M!="stop"&&M!="close")for(let X=1;X<w.length;X++)w[X]=""}}}}return Lr(j)}catch{return p}}var zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function lr(){}C(lr,Mr),lr.prototype.g=function(){return new XMLHttpRequest},ol=new lr;function On(l){return encodeURIComponent(String(l))}function wi(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function an(l,p,g,w){this.j=l,this.i=p,this.l=g,this.S=w||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}var ll={},Vo={};function wn(l,p,g){l.M=1,l.A=cr(ln(p)),l.u=g,l.R=!0,Oo(l,null)}function Oo(l,p){l.F=Date.now(),Rs(l),l.B=ln(l.A);var g=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),$o(g.i,"t",w),l.C=0,g=l.j.L,l.h=new al,l.g=_l(l.j,g?p:null,!l.u),l.P>0&&(l.O=new el(v(l.Y,l,l.g),l.P)),p=l.V,g=l.g,w=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(No[0]=M.toString()),M=No);for(let j=0;j<M.length;j++){const X=Be(g,M[j],w||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=l.J?R(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),or(),rl(l.i,l.v,l.B,l.l,l.S,l.u)}an.prototype.ba=function(l){l=l.target;const p=this.O;p&&zn(l)==3?p.j():this.Y(l)},an.prototype.Y=function(l){try{if(l==this.g)e:{const Te=zn(this.g),it=this.g.ya(),je=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||gl(this.g)))){this.K||Te!=4||it==7||(it==8||je<=0?or(3):or(2)),Ei(this);var p=this.g.ca();this.X=p;var g=ul(this);if(this.o=p==200,sl(this.i,this.v,this.B,this.l,this.S,Te,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(w)){var j=w;break t}}j=null}if(l=j)Vn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,We(this,l);else{this.o=!1,this.m=3,tt(12),ur(this),Ps(this);break e}}if(this.R){l=!0;let ut;for(;!this.K&&this.C<g.length;)if(ut=hl(this,g),ut==Vo){Te==4&&(this.m=4,tt(14),l=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==ll){this.m=4,tt(15),Vn(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Vn(this.i,this.l,ut,null),We(this,ut);if(cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||g.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)Vn(this.i,this.l,g,"[Invalid Chunked Response]"),ur(this),Ps(this);else if(g.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Fs(X),X.P=!0,tt(11))}}else Vn(this.i,this.l,g,null),We(this,g);Te==4&&ur(this),this.o&&!this.K&&(Te==4?xi(this.j,this):(this.o=!1,Rs(this)))}else qo(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),ur(this),Ps(this)}}}catch{}};function ul(l){if(!cl(l))return l.g.la();const p=gl(l.g);if(p==="")return"";let g="";const w=p.length,M=zn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ur(l),Ps(l),"";l.h.i=new h.TextDecoder}for(let j=0;j<w;j++)l.h.h=!0,g+=l.h.i.decode(p[j],{stream:!(M&&j==w-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function cl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function hl(l,p){var g=l.C,w=p.indexOf(`
`,g);return w==-1?Vo:(g=Number(p.substring(g,w)),isNaN(g)?ll:(w+=1,w+g>p.length?Vo:(p=p.slice(w,w+g),l.C=w+g,p)))}an.prototype.cancel=function(){this.K=!0,ur(this)};function Rs(l){l.T=Date.now()+l.H,Lo(l,l.H)}function Lo(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ur(v(l.aa,l),p)}function Ei(l){l.D&&(h.clearTimeout(l.D),l.D=null)}an.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(il(this.i,this.B),this.M!=2&&(or(),tt(17)),ur(this),this.m=2,Ps(this)):Lo(this,this.T-l)};function Ps(l){l.j.I==0||l.K||xi(l.j,l)}function ur(l){Ei(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,gi(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function We(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||bo(g.h,l))){if(!l.L&&bo(g.h,l)&&g.I==3){try{var w=g.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Ni(g),en(g);else break e;$n(g),tt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ur(v(g.Va,g),6e3));Ns(g.h)<=1&&g.ta&&(g.ta=void 0)}else tn(g,11)}else if((l.L||g.g==l)&&Ni(g),!k(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let je=M[p];const ut=je[0];if(!(ut<=g.K))if(g.K=ut,je=je[1],g.I==2)if(je[0]=="c"){g.M=je[1],g.ba=je[2];const nn=je[3];nn!=null&&(g.ka=nn,g.j.info("VER="+g.ka));const mr=je[4];mr!=null&&(g.za=mr,g.j.info("SVER="+g.za));const Wn=je[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(w=1.5*Wn,g.O=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const qn=l.g;if(qn){const Oi=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var j=w.h;j.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ii(j,j.h),j.h=null))}if(w.G){const Qo=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(w.wa=Qo,be(w.J,w.G,Qo))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),w=g;var X=l;if(w.na=Ko(w,w.L?w.ba:null,w.W),X.L){xs(w.h,X);var Te=X,it=w.O;it&&(Te.H=it),Te.D&&(Ei(Te),Rs(Te)),w.g=X}else Dt(w);g.i.length>0&&pr(g)}else je[0]!="stop"&&je[0]!="close"||tn(g,7);else g.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?tn(g,7):Ri(g):je[0]!="noop"&&g.l&&g.l.qa(je),g.A=0)}}or(4)}catch{}}var pc=class{constructor(l,p){this.g=l,this.map=p}};function Ti(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ns(l){return l.h?1:l.g?l.g.size:0}function bo(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Ii(l,p){l.g?l.g.add(p):l.h=p}function xs(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ti.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return B(l.i)}var dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const w=l[g].indexOf("=");let M,j=null;w>=0?(M=l[g].substring(0,w),j=l[g].substring(w+1)):M=l[g],p(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ln(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Ln?(this.l=l.l,Ds(this,l.j),this.o=l.o,this.g=l.g,Mn(this,l.u),this.h=l.h,Hr(this,Wo(l.i)),this.m=l.m):l&&(p=String(l).match(dl))?(this.l=!1,Ds(this,p[1]||"",!0),this.o=Vs(p[2]||""),this.g=Vs(p[3]||"",!0),Mn(this,p[4]),this.h=Vs(p[5]||"",!0),Hr(this,p[6]||"",!0),this.m=Vs(p[7]||"")):(this.l=!1,this.i=new Ve(null,this.l))}Ln.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Os(p,Uo,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Os(p,Uo,!0),"@"),l.push(On(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Os(g,g.charAt(0)=="/"?Ls:jo,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Os(g,zo)),l.join("")},Ln.prototype.resolve=function(l){const p=ln(this);let g=!!l.j;g?Ds(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var w=l.h;if(g)Mn(p,l.u);else if(g=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var M=p.h.lastIndexOf("/");M!=-1&&(w=p.h.slice(0,M+1)+w)}if(M=w,M==".."||M==".")w="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){w=M.lastIndexOf("/",0)==0,M=M.split("/");const j=[];for(let X=0;X<M.length;){const Te=M[X++];Te=="."?w&&X==M.length&&j.push(""):Te==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),w&&X==M.length&&j.push("")):(j.push(Te),w=!0)}w=j.join("/")}else w=M}return g?p.h=w:g=l.i.toString()!=="",g?Hr(p,Wo(l.i)):g=!!l.m,g&&(p.m=l.m),p};function ln(l){return new Ln(l)}function Ds(l,p,g){l.j=g?Vs(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Mn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Hr(l,p,g){p instanceof Ve?(l.i=p,Si(l.i,l.l)):(g||(p=Os(p,mc)),l.i=new Ve(p,l.l))}function be(l,p,g){l.i.set(p,g)}function cr(l){return be(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Vs(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Os(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,Fo),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Fo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,Ls=/[#\?]/g,mc=/[#\?@]/g,zo=/#/g;function Ve(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function bn(l){l.g||(l.g=new Map,l.h=0,l.i&&Xt(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}s=Ve.prototype,s.add=function(l,p){bn(this),this.i=null,l=Fn(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function Bo(l,p){bn(l),p=Fn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ki(l,p){return bn(l),p=Fn(l,p),l.g.has(p)}s.forEach=function(l,p){bn(this),this.g.forEach(function(g,w){g.forEach(function(M){l.call(p,M,w,this)},this)},this)};function Ho(l,p){bn(l);let g=[];if(typeof p=="string")ki(l,p)&&(g=g.concat(l.g.get(Fn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}s.set=function(l,p){return bn(this),this.i=null,l=Fn(this,l),ki(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},s.get=function(l,p){return l?(l=Ho(this,l),l.length>0?String(l[0]):p):p};function $o(l,p,g){Bo(l,p),g.length>0&&(l.i=null,l.g.set(Fn(l,p),B(g)),l.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var g=p[w];const M=On(g);g=Ho(this,g);for(let j=0;j<g.length;j++){let X=M;g[j]!==""&&(X+="="+On(g[j])),l.push(X)}}return this.i=l.join("&")};function Wo(l){const p=new Ve;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Fn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Si(l,p){p&&!l.j&&(bn(l),l.i=null,l.g.forEach(function(g,w){const M=w.toLowerCase();w!=M&&(Bo(this,w),$o(this,M,g))},l)),l.j=p}function Un(l,p){const g=new jr;if(h.Image){const w=new Image;w.onload=E(kt,g,"TestLoadImage: loaded",!0,p,w),w.onerror=E(kt,g,"TestLoadImage: error",!1,p,w),w.onabort=E(kt,g,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(kt,g,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function jn(l,p){const g=new jr,w=new AbortController,M=setTimeout(()=>{w.abort(),kt(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(j=>{clearTimeout(M),j.ok?kt(g,"TestPingServer: ok",!0,p):kt(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),kt(g,"TestPingServer: error",!1,p)})}function kt(l,p,g,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(g)}catch{}}function Ms(){this.g=new As}function hr(l){this.i=l.Sb||null,this.h=l.ab||!1}C(hr,Mr),hr.prototype.g=function(){return new Zt(this.i,this.h)};function Zt(l,p){lt.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Zt,lt),s=Zt.prototype,s.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,En(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},s.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fl(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function fl(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}s.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?$r(this):En(this),this.readyState==3&&fl(this)}},s.Oa=function(l){this.g&&(this.response=this.responseText=l,$r(this))},s.Na=function(l){this.g&&(this.response=l,$r(this))},s.ga=function(){this.g&&$r(this)};function $r(l){l.readyState=4,l.l=null,l.j=null,l.B=null,En(l)}s.setRequestHeader=function(l,p){this.A.append(l,p)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function En(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function pl(l){let p="";return ue(l,function(g,w){p+=w,p+=":",p+=g,p+=`\r
`}),p}function Ai(l,p,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=pl(g),typeof l=="string"?g!=null&&On(g):be(l,p,g))}function He(l){lt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(He,lt);var ml=/^https?$/i,gc=["POST","PUT"];s=He.prototype,s.Fa=function(l){this.H=l},s.ea=function(l,p,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){Wr(this,j);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)g.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())g.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call(gc,p,void 0)>=0)||w||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of g)this.g.setRequestHeader(j,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){Wr(this,j)}};function Wr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,qr(l),fr(l)}function qr(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,st(this,"complete"),st(this,"abort"),fr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),He.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},s.Xa=function(){dr(this)};function dr(l){if(l.h&&typeof c<"u"){if(l.v&&zn(l)==4)setTimeout(l.Ca.bind(l),0);else if(st(l,"readystatechange"),zn(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var w;if(w=j===0){let X=String(l.D).match(dl)[1]||null;!X&&h.self&&h.self.location&&(X=h.self.location.protocol.slice(0,-1)),w=!ml.test(X?X.toLowerCase():"")}g=w}if(g)st(l,"complete"),st(l,"success");else{l.o=6;try{var M=zn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",qr(l)}}finally{fr(l)}}}}function fr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||st(l,"ready");try{g.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function zn(l){return l.g?l.g.readyState:0}s.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),tl(p)}};function gl(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qo(l){const p={};l=(l.g&&zn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(k(l[w]))continue;var g=wi(l[w]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[M]||[];p[M]=j,j.push(g)}z(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function Ci(l){this.za=0,this.i=[],this.j=new jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bn("baseRetryDelayMs",5e3,l),this.Za=Bn("retryDelaySeedMs",1e4,l),this.Ta=Bn("forwardChannelMaxRetries",2,l),this.va=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ti(l&&l.concurrentRequestLimit),this.Ba=new Ms,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ci.prototype,s.ka=8,s.I=1,s.connect=function(l,p,g,w){tt(0),this.W=l,this.H=p||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.J=Ko(this,null,this.W),pr(this)};function Ri(l){if(Pi(l),l.I==3){var p=l.V++,g=ln(l.J);if(be(g,"SID",l.M),be(g,"RID",p),be(g,"TYPE","terminate"),Hn(l,g),p=new an(l,l.j,p),p.M=2,p.A=cr(ln(g)),g=!1,h.navigator&&h.navigator.sendBeacon)try{g=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&h.Image&&(new Image().src=p.A,g=!0),g||(p.g=_l(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Rs(p)}Us(l)}function en(l){l.g&&(Fs(l),l.g.cancel(),l.g=null)}function Pi(l){en(l),l.v&&(h.clearTimeout(l.v),l.v=null),Ni(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function pr(l){if(!Mo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Qe||I(),Re||(Qe(),Re=!0),P.add(p,l),l.D=0}}function yl(l,p){return Ns(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ur(v(l.Ea,l,p),Di(l,l.D)),l.D++,!0)}s.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new an(this,this.j,l);let j=this.o;if(this.U&&(j?(j=R(j),ie(j,this.U)):j=this.U),this.u!==null||this.R||(M.J=j,j=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Go(this,M,p),g=ln(this.J),be(g,"RID",l),be(g,"CVER",22),this.G&&be(g,"X-HTTP-Session-Id",this.G),Hn(this,g),j&&(this.R?p="headers="+On(pl(j))+"&"+p:this.u&&Ai(g,this.u,j)),Ii(this.h,M),this.Ra&&be(g,"TYPE","init"),this.S?(be(g,"$req",p),be(g,"SID","null"),M.U=!0,wn(M,g,null)):wn(M,g,p),this.I=2}}else this.I==3&&(l?bs(this,l):this.i.length==0||Mo(this.h)||bs(this))};function bs(l,p){var g;p?g=p.l:g=l.V++;const w=ln(l.J);be(w,"SID",l.M),be(w,"RID",g),be(w,"AID",l.K),Hn(l,w),l.u&&l.o&&Ai(w,l.u,l.o),g=new an(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Go(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ii(l.h,g),wn(g,w,p)}function Hn(l,p){l.H&&ue(l.H,function(g,w){be(p,w,g)}),l.l&&ue({},function(g,w){be(p,w,g)})}function Go(l,p,g){g=Math.min(l.i.length,g);const w=l.l?v(l.l.Ka,l.l,l):null;e:{var M=l.i;let Te=-1;for(;;){const it=["count="+g];Te==-1?g>0?(Te=M[0].g,it.push("ofs="+Te)):Te=0:it.push("ofs="+Te);let je=!0;for(let ut=0;ut<g;ut++){var j=M[ut].g;const nn=M[ut].map;if(j-=Te,j<0)Te=Math.max(0,M[ut].g-100),je=!1;else try{j="req"+j+"_"||"";try{var X=nn instanceof Map?nn:Object.entries(nn);for(const[mr,Wn]of X){let qn=Wn;m(Wn)&&(qn=Lr(Wn)),it.push(j+mr+"="+encodeURIComponent(qn))}}catch(mr){throw it.push(j+"type="+encodeURIComponent("_badmap")),mr}}catch{w&&w(nn)}}if(je){X=it.join("&");break e}}X=void 0}return l=l.i.splice(0,g),p.G=l,X}function Dt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Qe||I(),Re||(Qe(),Re=!0),P.add(p,l),l.A=0}}function $n(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ur(v(l.Da,l),Di(l,l.A)),l.A++,!0)}s.Da=function(){if(this.v=null,Gr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ur(v(this.Wa,this),l)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),en(this),Gr(this))};function Fs(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function Gr(l){l.g=new an(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=ln(l.na);be(p,"RID","rpc"),be(p,"SID",l.M),be(p,"AID",l.K),be(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&be(p,"TO",l.ia),be(p,"TYPE","xmlhttp"),Hn(l,p),l.u&&l.o&&Ai(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=cr(ln(p)),g.u=null,g.R=!0,Oo(g,l)}s.Va=function(){this.C!=null&&(this.C=null,en(this),$n(this),tt(19))};function Ni(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function xi(l,p){var g=null;if(l.g==p){Ni(l),Fs(l),l.g=null;var w=2}else if(bo(l.h,p))g=p.G,xs(l.h,p),w=1;else return;if(l.I!=0){if(p.o)if(w==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;w=Fr(),st(w,new Do(w,g)),pr(l)}else Dt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(w==1&&yl(l,p)||w==2&&$n(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),M){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function Di(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function tn(l,p){if(l.j.info("Error code "+p),p==2){var g=v(l.bb,l),w=l.Ua;const M=!w;w=new Ln(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ds(w,"https"),cr(w),M?Un(w.toString(),g):jn(w.toString(),g)}else tt(2);l.I=0,l.l&&l.l.pa(p),Us(l),Pi(l)}s.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Us(l){if(l.I=0,l.ja=[],l.l){const p=Jt(l.h);(p.length!=0||l.i.length!=0)&&(ee(l.ja,p),ee(l.ja,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.oa()}}function Ko(l,p,g){var w=g instanceof Ln?ln(g):new Ln(g);if(w.g!="")p&&(w.g=p+"."+w.g),Mn(w,w.u);else{var M=h.location;w=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const j=new Ln(null);w&&Ds(j,w),p&&(j.g=p),M&&Mn(j,M),g&&(j.h=g),w=j}return g=l.G,p=l.wa,g&&p&&be(w,g,p),be(w,"VER",l.ka),Hn(l,w),w}function _l(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new He(new hr({ab:g})):new He(l.ma),p.Fa(l.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vl(){}s=vl.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vi(){}Vi.prototype.g=function(l,p){return new St(l,p)};function St(l,p){lt.call(this),this.g=new Ci(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!k(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Kr(this)}C(St,lt),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Ri(this.g)},St.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Lr(l),l=g);p.i.push(new pc(p.Ya++,l)),p.I==3&&pr(p)},St.prototype.N=function(){this.g.l=null,delete this.j,Ri(this.g),delete this.g,St.Z.N.call(this)};function wl(l){yi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}C(wl,yi);function El(){xo.call(this),this.status=1}C(El,xo);function Kr(l){this.g=l}C(Kr,vl),Kr.prototype.ra=function(){st(this.g,"a")},Kr.prototype.qa=function(l){st(this.g,new wl(l))},Kr.prototype.pa=function(l){st(this.g,new El)},Kr.prototype.oa=function(){st(this.g,"b")},Vi.prototype.createWebChannel=Vi.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,r_=function(){return new Vi},n_=function(){return Fr()},t_=vn,hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,Au=zr,Br.COMPLETE="complete",e_=Br,nl.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Ta=nl,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,Zy=He}).apply(typeof yu<"u"?yu:typeof self<"u"?self:typeof window<"u"?window:{});class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let To="12.9.0";function jI(s){To=s}const oi=new Rd("@firebase/firestore");function to(){return oi.logLevel}function ne(s,...e){if(oi.logLevel<=Pe.DEBUG){const t=e.map(zd);oi.debug(`Firestore (${To}): ${s}`,...t)}}function Nr(s,...e){if(oi.logLevel<=Pe.ERROR){const t=e.map(zd);oi.error(`Firestore (${To}): ${s}`,...t)}}function ai(s,...e){if(oi.logLevel<=Pe.WARN){const t=e.map(zd);oi.warn(`Firestore (${To}): ${s}`,...t)}}function zd(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function ge(s,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,s_(s,i,t)}function s_(s,e,t){let i=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Nr(i),new Error(i)}function Fe(s,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,s||s_(e,a,i)}function Ie(s,e){return s}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class i_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ft.UNAUTHENTICATED)))}shutdown(){}}class BI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class HI{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let i=this.i;const a=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let c=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _s,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},m=y=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _s)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string",31837,{l:i}),new i_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class $I{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WI{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const i=c=>{c.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ne("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const a=c=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}class Bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=GI(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+=e.charAt(a[c]%62))}return i}}function Ne(s,e){return s<e?-1:s>e?1:0}function dd(s,e){const t=Math.min(s.length,e.length);for(let i=0;i<t;i++){const a=s.charAt(i),c=e.charAt(i);if(a!==c)return Qh(a)===Qh(c)?Ne(a,c):Qh(a)?1:-1}return Ne(s.length,e.length)}const KI=55296,QI=57343;function Qh(s){const e=s.charCodeAt(0);return e>=KI&&e<=QI}function po(s,e,t){return s.length===e.length&&s.every(((i,a)=>t(i,e[a])))}const fg="__name__";class Jn{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ge(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=Jn.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return Ne(e.length,t.length)}static compareSegments(e,t){const i=Jn.isNumericId(e),a=Jn.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Jn.extractNumericId(e).compare(Jn.extractNumericId(t)):dd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class Ze extends Jn{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const YI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Jn{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return YI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fg}static keyField(){return new Nt([fg])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(i.length===0)throw new le(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new le(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(i+=m,a++):(c(),a++)}if(c(),h)throw new le(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ze.fromString(e))}static fromName(e){return new fe(Ze.fromString(e).popFirst(5))}static empty(){return new fe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ze(e.slice()))}}function JI(s,e,t){if(!t)throw new le(G.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function XI(s,e,t,i){if(e===!0&&i===!0)throw new le(G.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function pg(s){if(!fe.isDocumentKey(s))throw new le(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ge(12329,{type:typeof s})}function La(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hd(s);throw new le(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ft(s,e){const t={typeString:s};return e&&(t.value=e),t}function Ka(s,e){if(!o_(s))throw new le(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){t=`JSON missing required field: '${i}'`;break}const h=s[i];if(a&&typeof h!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new le(G.INVALID_ARGUMENT,t);return!0}const mg=-62135596800,gg=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*gg);return new Ke(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mg)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gg}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ka(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:ft("string",Ke._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Ke(0,0))}static max(){return new Ee(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ma=-1;function ZI(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(i===1e9?new Ke(t+1,0):new Ke(t,i));return new vs(a,fe.empty(),e)}function ek(s){return new vs(s.readTime,s.key,Ma)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(Ee.min(),fe.empty(),Ma)}static max(){return new vs(Ee.max(),fe.empty(),Ma)}}function tk(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(s.documentKey,e.documentKey),t!==0?t:Ne(s.largestBatchId,e.largestBatchId))}const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(s){if(s.code!==G.FAILED_PRECONDITION||s.message!==nk)throw s;ne("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $(((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$.reject(t)}static resolve(e){return new $(((t,i)=>{t(e)}))}static reject(e){return new $(((t,i)=>{i(e)}))}static waitFor(e){return new $(((t,i)=>{let a=0,c=0,h=!1;e.forEach((m=>{++a,m.next((()=>{++c,h&&c===a&&t()}),(y=>i(y)))})),h=!0,c===a&&t()}))}static or(e){let t=$.resolve(!1);for(const i of e)t=t.next((a=>a?$.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,c)=>{i.push(t.call(this,a,c))})),this.waitFor(i)}static mapArray(e,t){return new $(((i,a)=>{const c=e.length,h=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;t(e[v]).next((E=>{h[v]=E,++m,m===c&&i(h)}),(E=>a(E)))}}))}static doWhile(e,t){return new $(((i,a)=>{const c=()=>{e()===!0?t().next((()=>{c()}),a):i()};c()}))}}function sk(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ko(s){return s.name==="IndexedDbTransactionError"}class nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nc.ce=-1;const $d=-1;function rc(s){return s==null}function ju(s){return s===0&&1/s==-1/0}function ik(s){return typeof s=="number"&&Number.isInteger(s)&&!ju(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const a_="";function ok(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=yg(e)),e=ak(s.get(t),e);return yg(e)}function ak(s,e){let t=e;const i=s.length;for(let a=0;a<i;a++){const c=s.charAt(a);switch(c){case"\0":t+="";break;case a_:t+="";break;default:t+=c}}return t}function yg(s){return s+a_+""}function _g(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ui(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function l_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class et{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??Pt.RED,this.left=a??Pt.EMPTY,this.right=c??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new Pt(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,i,a,c){return this}insert(e,t,i){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vg(this.data.getIterator())}getIteratorFrom(e){return new vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class vg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new yt(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class u_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new u_("Invalid base64 string: "+c):c}})(e);return new xt(t)}static fromUint8Array(e){const t=(function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c})(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const t=lk.exec(s);if(Fe(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(s.seconds),nanos:at(s.nanos)}}function at(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Es(s){return typeof s=="string"?xt.fromBase64String(s):xt.fromUint8Array(s)}const c_="server_timestamp",h_="__type__",d_="__previous_value__",f_="__local_write_time__";function Wd(s){return(s?.mapValue?.fields||{})[h_]?.stringValue===c_}function sc(s){const e=s.mapValue.fields[d_];return Wd(e)?sc(e):e}function ba(s){const e=ws(s.mapValue.fields[f_].timestampValue);return new Ke(e.seconds,e.nanos)}class uk{constructor(e,t,i,a,c,h,m,y,v,E,C){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E,this.apiKey=C}}const zu="(default)";class Fa{constructor(e,t){this.projectId=e,this.database=t||zu}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database===zu}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}function ck(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new le(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(s.options.projectId,e)}const p_="__type__",hk="__max__",vu={mapValue:{}},m_="__vector__",Bu="value";function Ts(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Wd(s)?4:fk(s)?9007199254740991:dk(s)?10:11:ge(28295,{value:s})}function rr(s,e){if(s===e)return!0;const t=Ts(s);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ba(s).isEqual(ba(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=ws(a.timestampValue),m=ws(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,c){return Es(a.bytesValue).isEqual(Es(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,c){return at(a.geoPointValue.latitude)===at(c.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(c.geoPointValue.longitude)})(s,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return at(a.integerValue)===at(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=at(a.doubleValue),m=at(c.doubleValue);return h===m?ju(h)===ju(m):isNaN(h)&&isNaN(m)}return!1})(s,e);case 9:return po(s.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(_g(h)!==_g(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!rr(h[y],m[y])))return!1;return!0})(s,e);default:return ge(52216,{left:s})}}function Ua(s,e){return(s.values||[]).find((t=>rr(t,e)))!==void 0}function mo(s,e){if(s===e)return 0;const t=Ts(s),i=Ts(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(s.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=at(c.integerValue||c.doubleValue),y=at(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,e);case 3:return wg(s.timestampValue,e.timestampValue);case 4:return wg(ba(s),ba(e));case 5:return dd(s.stringValue,e.stringValue);case 6:return(function(c,h){const m=Es(c),y=Es(h);return m.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),y=h.split("/");for(let v=0;v<m.length&&v<y.length;v++){const E=Ne(m[v],y[v]);if(E!==0)return E}return Ne(m.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ne(at(c.latitude),at(h.latitude));return m!==0?m:Ne(at(c.longitude),at(h.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Eg(s.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},y=h.fields||{},v=m[Bu]?.arrayValue,E=y[Bu]?.arrayValue,C=Ne(v?.values?.length||0,E?.values?.length||0);return C!==0?C:Eg(v,E)})(s.mapValue,e.mapValue);case 11:return(function(c,h){if(c===vu.mapValue&&h===vu.mapValue)return 0;if(c===vu.mapValue)return 1;if(h===vu.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=h.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let C=0;C<y.length&&C<E.length;++C){const V=dd(y[C],E[C]);if(V!==0)return V;const B=mo(m[y[C]],v[E[C]]);if(B!==0)return B}return Ne(y.length,E.length)})(s.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function wg(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ne(s,e);const t=ws(s),i=ws(e),a=Ne(t.seconds,i.seconds);return a!==0?a:Ne(t.nanos,i.nanos)}function Eg(s,e){const t=s.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const c=mo(t[a],i[a]);if(c)return c}return Ne(t.length,i.length)}function go(s){return fd(s)}function fd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const i=ws(t);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return Es(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return fe.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=fd(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${fd(t.fields[h])}`;return a+"}"})(s.mapValue):ge(61005,{value:s})}function Cu(s){switch(Ts(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(s);return e?16+Cu(e):16;case 5:return 2*s.stringValue.length;case 6:return Es(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,c)=>a+Cu(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let a=0;return ui(i.fields,((c,h)=>{a+=c.length+Cu(h)})),a})(s.mapValue);default:throw ge(13486,{value:s})}}function pd(s){return!!s&&"integerValue"in s}function qd(s){return!!s&&"arrayValue"in s}function Tg(s){return!!s&&"nullValue"in s}function Ig(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ru(s){return!!s&&"mapValue"in s}function dk(s){return(s?.mapValue?.fields||{})[p_]?.stringValue===m_}function Ra(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ui(s.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ra(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ra(s.arrayValue.values[t]);return e}return{...s}}function fk(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hk}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ra(t)}setAll(e){let t=Nt.emptyPath(),i={},a=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const y=this.getFieldsMap(t);this.applyChanges(y,i,a),i={},a=[],t=m.popLast()}h?i[m.lastSegment()]=Ra(h):a.push(m.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());Ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ru(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ui(t,((a,c)=>e[a]=c));for(const a of i)delete e[a]}clone(){return new mn(Ra(this.value))}}function g_(s){const e=[];return ui(s.fields,((t,i)=>{const a=new Nt([t]);if(Ru(i)){const c=g_(i.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)})),new Nn(e)}class Ut{constructor(e,t,i,a,c,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,t,i,a){return new Ut(e,1,t,Ee.min(),i,a,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function kg(s,e,t){let i=0;for(let a=0;a<s.position.length;a++){const c=e[a],h=s.position[a];if(c.field.isKeyField()?i=fe.comparator(fe.fromName(h.referenceValue),t.key):i=mo(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sg(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!rr(s.position[t],e.position[t]))return!1;return!0}class $u{constructor(e,t="asc"){this.field=e,this.dir=t}}function pk(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class y_{}class gt extends y_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new gk(e,t,i):t==="array-contains"?new vk(e,i):t==="in"?new wk(e,i):t==="not-in"?new Ek(e,i):t==="array-contains-any"?new Tk(e,i):new gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new yk(e,i):new _k(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mo(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends y_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new sr(e,t)}matches(e){return __(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function __(s){return s.op==="and"}function v_(s){return mk(s)&&__(s)}function mk(s){for(const e of s.filters)if(e instanceof sr)return!1;return!0}function md(s){if(s instanceof gt)return s.field.canonicalString()+s.op.toString()+go(s.value);if(v_(s))return s.filters.map((e=>md(e))).join(",");{const e=s.filters.map((t=>md(t))).join(",");return`${s.op}(${e})`}}function w_(s,e){return s instanceof gt?(function(i,a){return a instanceof gt&&i.op===a.op&&i.field.isEqual(a.field)&&rr(i.value,a.value)})(s,e):s instanceof sr?(function(i,a){return a instanceof sr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((c,h,m)=>c&&w_(h,a.filters[m])),!0):!1})(s,e):void ge(19439)}function E_(s){return s instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`})(s):s instanceof sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(E_).join(" ,")+"}"})(s):"Filter"}class gk extends gt{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class yk extends gt{constructor(e,t){super(e,"in",t),this.keys=T_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _k extends gt{constructor(e,t){super(e,"not-in",t),this.keys=T_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function T_(s,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class vk extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qd(t)&&Ua(t.arrayValue,this.value)}}class wk extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ua(this.value.arrayValue,t)}}class Ek extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ua(this.value.arrayValue,t)}}class Tk extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ua(this.value.arrayValue,i)))}}class Ik{constructor(e,t=null,i=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Ag(s,e=null,t=[],i=[],a=null,c=null,h=null){return new Ik(s,e,t,i,a,c,h)}function Gd(s){const e=Ie(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>md(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>go(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>go(i))).join(",")),e.Te=t}return e.Te}function Kd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!pk(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!w_(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Sg(s.startAt,e.startAt)&&Sg(s.endAt,e.endAt)}function gd(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ic{constructor(e,t=null,i=[],a=[],c=null,h="F",m=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kk(s,e,t,i,a,c,h,m){return new ic(s,e,t,i,a,c,h,m)}function Qd(s){return new ic(s)}function Cg(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Sk(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Ak(s){return s.collectionGroup!==null}function Pa(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(Nt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new $u(c,i))})),t.has(Nt.keyField().canonicalString())||e.Ie.push(new $u(Nt.keyField(),i))}return e.Ie}function Zn(s){const e=Ie(s);return e.Ee||(e.Ee=Ck(e,Pa(s))),e.Ee}function Ck(s,e){if(s.limitType==="F")return Ag(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new $u(a.field,c)}));const t=s.endAt?new Hu(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Hu(s.startAt.position,s.startAt.inclusive):null;return Ag(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function yd(s,e,t){return new ic(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function oc(s,e){return Kd(Zn(s),Zn(e))&&s.limitType===e.limitType}function I_(s){return`${Gd(Zn(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>E_(a))).join(", ")}]`),rc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>go(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>go(a))).join(",")),`Target(${i})`})(Zn(s))}; limitType=${s.limitType})`}function ac(s,e){return e.isFoundDocument()&&(function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):fe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,a){for(const c of Pa(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0})(s,e)&&(function(i,a){return!(i.startAt&&!(function(h,m,y){const v=kg(h,m,y);return h.inclusive?v<=0:v<0})(i.startAt,Pa(i),a)||i.endAt&&!(function(h,m,y){const v=kg(h,m,y);return h.inclusive?v>=0:v>0})(i.endAt,Pa(i),a))})(s,e)}function Rk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function k_(s){return(e,t)=>{let i=!1;for(const a of Pa(s)){const c=Pk(a,e,t);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function Pk(s,e,t){const i=s.field.isKeyField()?fe.comparator(e.key,t.key):(function(c,h,m){const y=h.data.field(c),v=m.data.field(c);return y!==null&&v!==null?mo(y,v):ge(42886)})(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:s.dir})}}class ci{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,((t,i)=>{for(const[a,c]of i)e(a,c)}))}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}const Nk=new et(fe.comparator);function xr(){return Nk}const S_=new et(fe.comparator);function Ia(...s){let e=S_;for(const t of s)e=e.insert(t.key,t);return e}function A_(s){let e=S_;return s.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ei(){return Na()}function C_(){return Na()}function Na(){return new ci((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xk=new et(fe.comparator),Dk=new yt(fe.comparator);function xe(...s){let e=Dk;for(const t of s)e=e.add(t);return e}const Vk=new yt(Ne);function Ok(){return Vk}function Yd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function R_(s){return{integerValue:""+s}}function Lk(s,e){return ik(e)?R_(e):Yd(s,e)}class lc{constructor(){this._=void 0}}function Mk(s,e,t){return s instanceof Wu?(function(a,c){const h={fields:{[h_]:{stringValue:c_},[f_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Wd(c)&&(c=sc(c)),c&&(h.fields[d_]=c),{mapValue:h}})(t,e):s instanceof ja?N_(s,e):s instanceof za?x_(s,e):(function(a,c){const h=P_(a,c),m=Rg(h)+Rg(a.Ae);return pd(h)&&pd(a.Ae)?R_(m):Yd(a.serializer,m)})(s,e)}function bk(s,e,t){return s instanceof ja?N_(s,e):s instanceof za?x_(s,e):t}function P_(s,e){return s instanceof qu?(function(i){return pd(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Wu extends lc{}class ja extends lc{constructor(e){super(),this.elements=e}}function N_(s,e){const t=D_(e);for(const i of s.elements)t.some((a=>rr(a,i)))||t.push(i);return{arrayValue:{values:t}}}class za extends lc{constructor(e){super(),this.elements=e}}function x_(s,e){let t=D_(e);for(const i of s.elements)t=t.filter((a=>!rr(a,i)));return{arrayValue:{values:t}}}class qu extends lc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Rg(s){return at(s.integerValue||s.doubleValue)}function D_(s){return qd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Fk(s,e){return s.field.isEqual(e.field)&&(function(i,a){return i instanceof ja&&a instanceof ja||i instanceof za&&a instanceof za?po(i.elements,a.elements,rr):i instanceof qu&&a instanceof qu?rr(i.Ae,a.Ae):i instanceof Wu&&a instanceof Wu})(s.transform,e.transform)}class Uk{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class uc{}function V_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new L_(s.key,Cr.none()):new Qa(s.key,s.data,Cr.none());{const t=s.data,i=mn.empty();let a=new yt(Nt.comparator);for(let c of e.fields)if(!a.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),a=a.add(c)}return new hi(s.key,i,new Nn(a.toArray()),Cr.none())}}function jk(s,e,t){s instanceof Qa?(function(a,c,h){const m=a.value.clone(),y=Ng(a.fieldTransforms,c,h.transformResults);m.setAll(y),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(s,e,t):s instanceof hi?(function(a,c,h){if(!Pu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Ng(a.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(O_(a)),y.setAll(m),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(s,e,t):(function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function xa(s,e,t,i){return s instanceof Qa?(function(c,h,m,y){if(!Pu(c.precondition,h))return m;const v=c.value.clone(),E=xg(c.fieldTransforms,y,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(s,e,t,i):s instanceof hi?(function(c,h,m,y){if(!Pu(c.precondition,h))return m;const v=xg(c.fieldTransforms,y,h),E=h.data;return E.setAll(O_(c)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((C=>C.field)))})(s,e,t,i):(function(c,h,m){return Pu(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(s,e,t)}function zk(s,e){let t=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),c=P_(i.transform,a||null);c!=null&&(t===null&&(t=mn.empty()),t.set(i.field,c))}return t||null}function Pg(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&po(i,a,((c,h)=>Fk(c,h)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Qa extends uc{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hi extends uc{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O_(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}})),e}function Ng(s,e,t){const i=new Map;Fe(s.length===t.length,32656,{Ve:t.length,de:s.length});for(let a=0;a<t.length;a++){const c=s[a],h=c.transform,m=e.data.field(c.field);i.set(c.field,bk(h,m,t[a]))}return i}function xg(s,e,t){const i=new Map;for(const a of s){const c=a.transform,h=t.data.field(a.field);i.set(a.field,Mk(c,h,e))}return i}class L_ extends uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bk extends uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hk{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&jk(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=C_();return this.mutations.forEach((a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(a.key)?null:m;const y=V_(h,m);y!==null&&i.set(a.key,y),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((t,i)=>Pg(t,i)))&&po(this.baseMutations,e.baseMutations,((t,i)=>Pg(t,i)))}}class Jd{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return xk})();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,i[h].version);return new Jd(e,t,i,a)}}class $k{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Wk{constructor(e,t){this.count=e,this.unchangedNames=t}}var ht,Oe;function qk(s){switch(s){case G.OK:return ge(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ge(15467,{code:s})}}function M_(s){if(s===void 0)return Nr("GRPC error has no .code"),G.UNKNOWN;switch(s){case ht.OK:return G.OK;case ht.CANCELLED:return G.CANCELLED;case ht.UNKNOWN:return G.UNKNOWN;case ht.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ht.INTERNAL:return G.INTERNAL;case ht.UNAVAILABLE:return G.UNAVAILABLE;case ht.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ht.NOT_FOUND:return G.NOT_FOUND;case ht.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ht.ABORTED:return G.ABORTED;case ht.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ht.DATA_LOSS:return G.DATA_LOSS;default:return ge(39323,{code:s})}}(Oe=ht||(ht={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";function Gk(){return new TextEncoder}const Kk=new ys([4294967295,4294967295],0);function Dg(s){const e=Gk().encode(s),t=new Xy;return t.update(e),new Uint8Array(t.digest())}function Vg(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ys([t,i],0),new ys([a,c],0)]}class Xd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ka(`Invalid padding: ${t}`);if(i<0)throw new ka(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ka(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ys.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(ys.fromNumber(i)));return a.compare(Kk)===1&&(a=new ys([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Dg(e),[i,a]=Vg(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,a,c);if(!this.we(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Xd(c,a,t);return i.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=Dg(e),[i,a]=Vg(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,a,c);this.be(h)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cc{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cc(Ee.min(),a,new et(Ne),xr(),xe())}}class Ya{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ya(i,t,xe(),xe(),xe())}}class Nu{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class b_{constructor(e,t){this.targetId=e,this.Ce=t}}class F_{constructor(e,t,i=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Og{constructor(){this.ve=0,this.Fe=Lg(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),t=xe(),i=xe();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ge(38017,{changeType:c})}})),new Ya(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Lg()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qk{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.He=wu(),this.Je=wu(),this.Ze=new et(Ne)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const c=a.target;if(gd(c))if(i===0){const h=new fe(c.path);this.et(t,h,Ut.newNoDocument(h,Ee.min()))}else Fe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const m=this.ut(e),y=m?this.ct(m,e,h):1;if(y!==0){this.it(t);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let h,m;try{h=Es(i).toUint8Array()}catch(y){if(y instanceof u_)return ai("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Xd(h,a,c)}catch(y){return ai(y instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&gd(m.target)){const y=new fe(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,Ut.newNoDocument(y,e))}c.Be&&(t.set(h,c.ke()),c.Ke())}}));let i=xe();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const a=new cc(e,t,this.Ze,this.je,i);return this.je=xr(),this.He=wu(),this.Je=wu(),this.Ze=new et(Ne),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Og,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new yt(Ne),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new yt(Ne),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Og),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wu(){return new et(fe.comparator)}function Lg(){return new et(fe.comparator)}const Yk={asc:"ASCENDING",desc:"DESCENDING"},Jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xk={and:"AND",or:"OR"};class Zk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _d(s,e){return s.useProto3Json||rc(e)?e:{value:e}}function Gu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function eS(s,e){return Gu(s,e.toTimestamp())}function er(s){return Fe(!!s,49232),Ee.fromTimestamp((function(t){const i=ws(t);return new Ke(i.seconds,i.nanos)})(s))}function Zd(s,e){return vd(s,e).canonicalString()}function vd(s,e){const t=(function(a){return new Ze(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?t:t.child(e)}function j_(s){const e=Ze.fromString(s);return Fe(W_(e),10190,{key:e.toString()}),e}function wd(s,e){return Zd(s.databaseId,e.path)}function Yh(s,e){const t=j_(e);if(t.get(1)!==s.databaseId.projectId)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new le(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new fe(B_(t))}function z_(s,e){return Zd(s.databaseId,e)}function tS(s){const e=j_(s);return e.length===4?Ze.emptyPath():B_(e)}function Ed(s){return new Ze(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function B_(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Mg(s,e,t){return{name:wd(s,e),fields:t.value.mapValue.fields}}function nS(s,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),xt.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(v){const E=v.code===void 0?G.UNKNOWN:M_(v.code);return new le(E,v.message||"")})(h);t=new F_(i,a,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Yh(s,i.document.name),c=er(i.document.updateTime),h=i.document.createTime?er(i.document.createTime):Ee.min(),m=new mn({mapValue:{fields:i.document.fields}}),y=Ut.newFoundDocument(a,c,h,m),v=i.targetIds||[],E=i.removedTargetIds||[];t=new Nu(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Yh(s,i.document),c=i.readTime?er(i.readTime):Ee.min(),h=Ut.newNoDocument(a,c),m=i.removedTargetIds||[];t=new Nu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Yh(s,i.document),c=i.removedTargetIds||[];t=new Nu([],c,a,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,h=new Wk(a,c),m=i.targetId;t=new b_(m,h)}}return t}function rS(s,e){let t;if(e instanceof Qa)t={update:Mg(s,e.key,e.value)};else if(e instanceof L_)t={delete:wd(s,e.key)};else if(e instanceof hi)t={update:Mg(s,e.key,e.data),updateMask:dS(e.fieldMask)};else{if(!(e instanceof Bk))return ge(16599,{dt:e.type});t={verify:wd(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(c,h){const m=h.transform;if(m instanceof Wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ja)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof za)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ge(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:eS(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge(27497)})(s,e.precondition)),t}function sS(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((t=>(function(a,c){let h=a.updateTime?er(a.updateTime):er(c);return h.isEqual(Ee.min())&&(h=er(c)),new Uk(h,a.transformResults||[])})(t,e)))):[]}function iS(s,e){return{documents:[z_(s,e.path)]}}function oS(s,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=z_(s,a);const c=(function(v){if(v.length!==0)return $_(sr.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((E=>(function(V){return{field:ro(V.field),direction:uS(V.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=_d(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function aS(s){let e=tS(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Fe(i===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];t.where&&(c=(function(C){const V=H_(C);return V instanceof sr&&v_(V)?V.getFilters():[V]})(t.where));let h=[];t.orderBy&&(h=(function(C){return C.map((V=>(function(ee){return new $u(so(ee.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(t.orderBy));let m=null;t.limit&&(m=(function(C){let V;return V=typeof C=="object"?C.value:C,rc(V)?null:V})(t.limit));let y=null;t.startAt&&(y=(function(C){const V=!!C.before,B=C.values||[];return new Hu(B,V)})(t.startAt));let v=null;return t.endAt&&(v=(function(C){const V=!C.before,B=C.values||[];return new Hu(B,V)})(t.endAt)),kk(e,a,h,c,m,"F",y,v)}function lS(s,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H_(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=so(t.unaryFilter.field);return gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=so(t.unaryFilter.field);return gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(t.unaryFilter.field);return gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(s):s.fieldFilter!==void 0?(function(t){return gt.create(so(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return sr.create(t.compositeFilter.filters.map((i=>H_(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(s):ge(30097,{filter:s})}function uS(s){return Yk[s]}function cS(s){return Jk[s]}function hS(s){return Xk[s]}function ro(s){return{fieldPath:s.canonicalString()}}function so(s){return Nt.fromServerFormat(s.fieldPath)}function $_(s){return s instanceof gt?(function(t){if(t.op==="=="){if(Ig(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(Tg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ig(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(Tg(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:cS(t.op),value:t.value}}})(s):s instanceof sr?(function(t){const i=t.getFilters().map((a=>$_(a)));return i.length===1?i[0]:{compositeFilter:{op:hS(t.op),filters:i}}})(s):ge(54877,{filter:s})}function dS(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function W_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function q_(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class fs{constructor(e,t,i,a,c=Ee.min(),h=Ee.min(),m=xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fS{constructor(e){this.yt=e}}function pS(s){const e=aS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?yd(e,e.limit,"L"):e}class mS{constructor(){this.Sn=new gS}addToCollectionParentIndex(e,t){return this.Sn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(vs.min())}updateCollectionGroup(e,t,i){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class gS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new yt(Ze.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new yt(Ze.comparator)).toArray()}}const bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G_=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(G_,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const Fg="LruGarbageCollector",yS=1048576;function Ug([s,e],[t,i]){const a=Ne(s,t);return a===0?Ne(e,i):a}class _S{constructor(e){this.Pr=e,this.buffer=new yt(Ug),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ug(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ne(Fg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ko(t)?ne(Fg,"Ignoring IndexedDB error during garbage collection: ",t):await Io(t)}await this.Ar(3e5)}))}}class wS{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return $.resolve(nc.ce);const i=new _S(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(bg)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bg):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,c,h,m,y,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,h=Date.now(),this.nthSequenceNumber(e,a)))).next((C=>(i=C,m=Date.now(),this.removeTargets(e,i,t)))).next((C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,i)))).next((C=>(v=Date.now(),to()<=Pe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C}))))}}function ES(s,e){return new wS(s,e)}class TS{constructor(){this.changes=new ci((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?$.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kS{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&xa(i.mutation,a,Nn.empty(),Ke.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,xe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=xe()){const a=ei();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((c=>{let h=Ia();return c.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ei();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,xe())))}populateOverlays(e,t,i){const a=[];return i.forEach((c=>{t.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,i,a){let c=xr();const h=Na(),m=(function(){return Na()})();return t.forEach(((y,v)=>{const E=i.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof hi)?c=c.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),xa(E.mutation,v,E.mutation.getFieldMask(),Ke.now())):h.set(v.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>m.set(v,new IS(E,h.get(v)??null)))),m)))}recalculateAndSaveOverlays(e,t){const i=Na();let a=new et(((h,m)=>h-m)),c=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((y=>{const v=t.get(y);if(v===null)return;let E=i.get(y)||Nn.empty();E=m.applyToLocalView(v,E),i.set(y,E);const C=(a.get(m.batchId)||xe()).add(y);a=a.insert(m.batchId,C)}))})).next((()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,E=y.value,C=C_();E.forEach((V=>{if(!c.has(V)){const B=V_(t.get(V),i.get(V));B!==null&&C.set(V,B),c=c.add(V)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,C))}return $.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return Sk(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ak(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):$.resolve(ei());let m=Ma,y=c;return h.next((v=>$.forEach(v,((E,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((V=>{y=y.insert(E,V)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,xe()))).next((E=>({batchId:m,changes:A_(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((i=>{let a=Ia();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let h=Ia();return this.indexManager.getCollectionParents(e,c).next((m=>$.forEach(m,(y=>{const v=(function(C,V){return new ic(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,i,a).next((E=>{E.forEach(((C,V)=>{h=h.insert(C,V)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a)))).next((h=>{c.forEach(((y,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Ut.newInvalidDocument(E)))}));let m=Ia();return h.forEach(((y,v)=>{const E=c.get(y);E!==void 0&&xa(E.mutation,v,Nn.empty(),Ke.now()),ac(t,v)&&(m=m.insert(y,v))})),m}))}}class SS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return $.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:er(a.createTime)}})(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:pS(a.bundledQuery),readTime:er(a.readTime)}})(t)),$.resolve()}}class AS{constructor(){this.overlays=new et(fe.comparator),this.Lr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ei();return $.forEach(t,(a=>this.getOverlay(e,a).next((c=>{c!==null&&i.set(a,c)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,c)=>{this.bt(e,t,c)})),$.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(i)),$.resolve()}getOverlaysForCollection(e,t,i){const a=ei(),c=t.length+1,h=new fe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>i&&a.set(y.getKey(),y)}return $.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new et(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=c.get(v.largestBatchId);E===null&&(E=ei(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=ei(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=a)););return $.resolve(m)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new $k(t,i));let c=this.Lr.get(t);c===void 0&&(c=xe(),this.Lr.set(t,c)),this.Lr.set(t,c.add(i.key))}}class CS{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}class ef{constructor(){this.kr=new yt(Tt.Kr),this.qr=new yt(Tt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Tt(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new Tt(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new fe(new Ze([])),i=new Tt(t,e),a=new Tt(t,e+1),c=[];return this.qr.forEachInRange([i,a],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new fe(new Ze([])),i=new Tt(t,e),a=new Tt(t,e+1);let c=xe();return this.qr.forEachInRange([i,a],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new Tt(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Tt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return fe.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||fe.comparator(e.key,t.key)}}class RS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new yt(Tt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Hk(c,t,i,a);this.mutationQueue.push(h);for(const m of a)this.Jr=this.Jr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(h)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),c=a<0?0:a;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$d:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Tt(t,0),a=new Tt(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([i,a],(h=>{const m=this.Zr(h.Hr);c.push(m)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ne);return t.forEach((a=>{const c=new Tt(a,0),h=new Tt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{i=i.add(m.Hr)}))})),$.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;fe.isDocumentKey(c)||(c=c.child(""));const h=new Tt(new fe(c),0);let m=new yt(Ne);return this.Jr.forEachWhile((y=>{const v=y.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.Hr)),!0)}),h),$.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Fe(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return $.forEach(t.mutations,(a=>{const c=new Tt(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new Tt(t,0),a=this.Jr.firstAfterOrEqual(i);return $.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PS{constructor(e){this.ti=e,this.docs=(function(){return new et(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,h=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return $.resolve(i?i.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let i=xr();return t.forEach((a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():Ut.newInvalidDocument(a))})),$.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=xr();const h=t.path,m=new fe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||tk(ek(E),i)<=0||(a.has(E.key)||ac(t,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,t,i,a){ge(9500)}ni(e,t){return $.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new NS(this)}getSize(e){return $.resolve(this.size)}}class NS extends TS{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),$.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class xS{constructor(e){this.persistence=e,this.ri=new ci((t=>Gd(t)),Kd),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new ef,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),$.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.lr(t),$.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),$.waitFor(c).next((()=>a))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return $.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),$.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach((h=>{c.push(a.markPotentiallyOrphaned(e,h))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return $.resolve(i)}containsKey(e,t){return $.resolve(this.si.containsKey(t))}}class K_{constructor(e,t){this._i={},this.overlays={},this.ai=new nc(0),this.ui=!1,this.ui=!0,this.ci=new CS,this.referenceDelegate=e(this),this.li=new xS(this),this.indexManager=new mS,this.remoteDocumentCache=(function(a){return new PS(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new fS(t),this.Pi=new SS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new RS(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ne("MemoryPersistence","Starting transaction:",e);const a=new DS(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((c=>this.referenceDelegate.Ii(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(e,t){return $.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class DS extends rk{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Ri=new ef,this.Ai=null}static Vi(e){return new tf(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),$.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((c=>this.di.add(c.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(i=>{const a=fe.fromPath(i);return this.mi(e,a).next((c=>{c||t.removeEntry(a,Ee.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return $.or([()=>$.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ku{constructor(e,t){this.persistence=e,this.fi=new ci((i=>ok(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=ES(this,t)}static Vi(e,t){return new Ku(e,t)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return $.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((c=>c?$.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ni(e,(h=>this.wr(e,h,t).next((m=>{m||(i++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),$.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cu(e.data.value)),t}wr(e,t,i){return $.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return $.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class nf{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=xe(),a=xe();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new nf(e,t.fromCache,i,a)}}class VS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vE()?8:sk(jt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.gs(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,t,a,i).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new VS;return this.ys(e,t,h).next((m=>{if(c.result=m,this.As)return this.ws(e,t,h,m.size)}))})).next((()=>c.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(to()<=Pe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(to()<=Pe.DEBUG&&ne("QueryEngine","Query:",no(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(to()<=Pe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):$.resolve())}gs(e,t){if(Cg(t))return $.resolve(null);let i=Zn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=yd(t,null,"F"),i=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const h=xe(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,i).next((y=>{const v=this.bs(t,m);return this.Ss(t,v,h,y.readTime)?this.gs(e,yd(t,null,"F")):this.Ds(e,v,t,y)}))))})))))}ps(e,t,i,a){return Cg(t)||a.isEqual(Ee.min())?$.resolve(null):this.fs.getDocuments(e,i).next((c=>{const h=this.bs(t,c);return this.Ss(t,h,i,a)?$.resolve(null):(to()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),no(t)),this.Ds(e,h,t,ZI(a,Ma)).next((m=>m)))}))}bs(e,t){let i=new yt(k_(e));return t.forEach(((a,c)=>{ac(e,c)&&(i=i.add(c))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ys(e,t,i){return to()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",no(t)),this.fs.getDocumentsMatchingQuery(e,t,vs.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const rf="LocalStore",LS=3e8;class MS{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new et(Ne),this.Fs=new ci((c=>Gd(c)),Kd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function bS(s,e,t,i){return new MS(s,e,t,i)}async function Q_(s,e){const t=Ie(s);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((c=>(a=c,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((c=>{const h=[],m=[];let y=xe();for(const v of a){h.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of c){m.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(i,y).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:m})))}))}))}function FS(s,e){const t=Ie(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,E){const C=v.batch,V=C.keys();let B=$.resolve();return V.forEach((ee=>{B=B.next((()=>E.getEntry(y,ee))).next((Z=>{const Q=v.docVersions.get(ee);Fe(Q!==null,48541),Z.version.compareTo(Q)<0&&(C.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),E.addEntry(Z)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(y,C)))})(t,i,e,c).next((()=>c.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let y=xe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function Y_(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function US(s,e){const t=Ie(s),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const m=[];e.targetChanges.forEach(((E,C)=>{const V=a.get(C);if(!V)return;m.push(t.li.removeMatchingKeys(c,E.removedDocuments,C).next((()=>t.li.addMatchingKeys(c,E.addedDocuments,C))));let B=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),a=a.insert(C,B),(function(Z,Q,pe){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=LS?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(V,B,E)&&m.push(t.li.updateTargetData(c,B))}));let y=xr(),v=xe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(jS(c,h,e.documentUpdates).next((E=>{y=E.Bs,v=E.Ls}))),!i.isEqual(Ee.min())){const E=t.li.getLastRemoteSnapshotVersion(c).next((C=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(E)}return $.waitFor(m).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(t.vs=a,c)))}function jS(s,e,t){let i=xe(),a=xe();return t.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let h=xr();return t.forEach(((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(Ee.min())?(e.removeEntry(m,y.readTime),h=h.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),h=h.insert(m,y)):ne(rf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{Bs:h,Ls:a}}))}function zS(s,e){const t=Ie(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=$d),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function BS(s,e){const t=Ie(s);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((c=>c?(a=c,$.resolve(a)):t.li.allocateTargetId(i).next((h=>(a=new fs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Td(s,e,t){const i=Ie(s),a=i.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,(h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!ko(h))throw h;ne(rf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function jg(s,e,t){const i=Ie(s);let a=Ee.min(),c=xe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,v,E){const C=Ie(y),V=C.Fs.get(E);return V!==void 0?$.resolve(C.vs.get(V)):C.li.getTargetData(v,E)})(i,h,Zn(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(h,m.targetId).next((y=>{c=y}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,t?a:Ee.min(),t?c:xe()))).next((m=>(HS(i,Rk(e),m),{documents:m,ks:c})))))}function HS(s,e,t){let i=s.Ms.get(e)||Ee.min();t.forEach(((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Ms.set(e,i)}class zg{constructor(){this.activeTargetIds=Ok()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $S{constructor(){this.vo=new zg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WS{Mo(e){}shutdown(){}}const Bg="ConnectivityMonitor";class Hg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ne(Bg,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ne(Bg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eu=null;function Id(){return Eu===null?Eu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eu++,"0x"+Eu.toString(16)}const Jh="RestConnection",qS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===zu?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,c){const h=Id(),m=this.Qo(e,t.toUriEncodedString());ne(Jh,`Sending RPC '${e}' ${h}:`,m,i);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,a,c);const{host:v}=new URL(m),E=vo(v);return this.zo(e,m,y,i,E).then((C=>(ne(Jh,`Received RPC '${e}' ${h}: `,C),C)),(C=>{throw ai(Jh,`RPC '${e}' ${h} failed with error: `,C,"url: ",m,"request:",i),C}))}jo(e,t,i,a,c,h){return this.Wo(e,t,i,a,c)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,c)=>e[c]=a)),i&&i.headers.forEach(((a,c)=>e[c]=a))}Qo(e,t){const i=qS[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class KS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const bt="WebChannelConnection",Ea=(s,e,t)=>{s.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class uo extends GS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=n_();Ea(e,t_.STAT_EVENT,(t=>{t.stat===hd.PROXY?ne(bt,"STAT_EVENT: detected buffering proxy"):t.stat===hd.NOPROXY&&ne(bt,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,t,i,a,c){const h=Id();return new Promise(((m,y)=>{const v=new Zy;v.setWithCredentials(!0),v.listenOnce(e_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Au.NO_ERROR:const C=v.getResponseJson();ne(bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(C)),m(C);break;case Au.TIMEOUT:ne(bt,`RPC '${e}' ${h} timed out`),y(new le(G.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:const V=v.getStatus();if(ne(bt,`RPC '${e}' ${h} failed with status:`,V,"response text:",v.getResponseText()),V>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const ee=B?.error;if(ee&&ee.status&&ee.message){const Z=(function(pe){const ye=pe.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(ye)>=0?ye:G.UNKNOWN})(ee.status);y(new le(Z,ee.message))}else y(new le(G.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new le(G.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ne(bt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(a);ne(bt,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",E,i,15)}))}T_(e,t,i){const a=Id(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=c.join("");ne(bt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=h.createWebChannel(v,m);this.I_(E);let C=!1,V=!1;const B=new KS({Ho:ee=>{V?ne(bt,`Not sending because RPC '${e}' stream ${a} is closed:`,ee):(C||(ne(bt,`Opening RPC '${e}' stream ${a} transport.`),E.open(),C=!0),ne(bt,`RPC '${e}' stream ${a} sending:`,ee),E.send(ee))},Jo:()=>E.close()});return Ea(E,Ta.EventType.OPEN,(()=>{V||(ne(bt,`RPC '${e}' stream ${a} transport opened.`),B.i_())})),Ea(E,Ta.EventType.CLOSE,(()=>{V||(V=!0,ne(bt,`RPC '${e}' stream ${a} transport closed`),B.o_(),this.E_(E))})),Ea(E,Ta.EventType.ERROR,(ee=>{V||(V=!0,ai(bt,`RPC '${e}' stream ${a} transport errored. Name:`,ee.name,"Message:",ee.message),B.o_(new le(G.UNAVAILABLE,"The operation could not be completed")))})),Ea(E,Ta.EventType.MESSAGE,(ee=>{if(!V){const Z=ee.data[0];Fe(!!Z,16349);const Q=Z,pe=Q?.error||Q[0]?.error;if(pe){ne(bt,`RPC '${e}' stream ${a} received error:`,pe);const ye=pe.status;let Ae=(function(Re){const P=ht[Re];if(P!==void 0)return M_(P)})(ye),De=pe.message;ye==="NOT_FOUND"&&De.includes("database")&&De.includes("does not exist")&&De.includes(this.databaseId.database)&&ai(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Ae===void 0&&(Ae=G.INTERNAL,De="Unknown error status: "+ye+" with message "+pe.message),V=!0,B.o_(new le(Ae,De)),E.close()}else ne(bt,`RPC '${e}' stream ${a} received:`,Z),B.__(Z)}})),uo.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return r_()}}function QS(s){return new uo(s)}function Xh(){return typeof document<"u"?document:null}function hc(s){return new Zk(s,!0)}uo.c_=!1;class J_{constructor(e,t,i=1e3,a=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const $g="PersistentStream";class X_{constructor(e,t,i,a,c,h,m,y){this.Ci=e,this.b_=i,this.S_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new le(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne($g,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ne($g,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YS extends X_{constructor(e,t,i,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=nS(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?er(h.readTime):Ee.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Ed(this.serializer),t.addTarget=(function(c,h){let m;const y=h.target;if(m=gd(y)?{documents:iS(c,y)}:{query:oS(c,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=U_(c,h.resumeToken);const v=_d(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Gu(c,h.snapshotVersion.toTimestamp());const v=_d(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,e);const i=lS(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Ed(this.serializer),t.removeTarget=e,this.K_(t)}}class JS extends X_{constructor(e,t,i,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=sS(e.writeResults,e.commitTime),i=er(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Ed(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>rS(this.serializer,i)))};this.K_(t)}}class XS{}class ZS extends XS{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,vd(t,i),a,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(G.UNKNOWN,c.toString())}))}jo(e,t,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,vd(t,i),a,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(G.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function e1(s,e,t,i){return new ZS(s,e,t,i)}class t1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(t),this.aa=!1):ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const li="RemoteStore";class n1{constructor(e,t,i,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{i.enqueueAndForget((async()=>{di(this)&&(ne(li,"Restarting streams for network reachability change."),await(async function(y){const v=Ie(y);v.Ea.add(4),await Ja(v),v.Va.set("Unknown"),v.Ea.delete(4),await dc(v)})(this))}))})),this.Va=new t1(i,a)}}async function dc(s){if(di(s))for(const e of s.Ra)await e(!0)}async function Ja(s){for(const e of s.Ra)await e(!1)}function Z_(s,e){const t=Ie(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lf(t)?af(t):So(t).O_()&&of(t,e))}function sf(s,e){const t=Ie(s),i=So(t);t.Ia.delete(e),i.O_()&&ev(t,e),t.Ia.size===0&&(i.O_()?i.L_():di(t)&&t.Va.set("Unknown"))}function of(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}So(s).Z_(e)}function ev(s,e){s.da.$e(e),So(s).X_(e)}function af(s){s.da=new Qk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Va.ua()}function lf(s){return di(s)&&!So(s).x_()&&s.Ia.size>0}function di(s){return Ie(s).Ea.size===0}function tv(s){s.da=void 0}async function r1(s){s.Va.set("Online")}async function s1(s){s.Ia.forEach(((e,t)=>{of(s,e)}))}async function i1(s,e){tv(s),lf(s)?(s.Va.ha(e),af(s)):s.Va.set("Unknown")}async function o1(s,e,t){if(s.Va.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await(async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ia.delete(m),a.da.removeTarget(m))})(s,e)}catch(i){ne(li,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qu(s,i)}else if(e instanceof Nu?s.da.Xe(e):e instanceof b_?s.da.st(e):s.da.tt(e),!t.isEqual(Ee.min()))try{const i=await Y_(s.localStore);t.compareTo(i)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,v)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(xt.EMPTY_BYTE_STRING,E.snapshotVersion)),ev(c,y);const C=new fs(E.target,y,v,E.sequenceNumber);of(c,C)})),c.remoteSyncer.applyRemoteEvent(m)})(s,t)}catch(i){ne(li,"Failed to raise snapshot:",i),await Qu(s,i)}}async function Qu(s,e,t){if(!ko(e))throw e;s.Ea.add(1),await Ja(s),s.Va.set("Offline"),t||(t=()=>Y_(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ne(li,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await dc(s)}))}function nv(s,e){return e().catch((t=>Qu(s,t,e)))}async function fc(s){const e=Ie(s),t=Is(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$d;for(;a1(e);)try{const a=await zS(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,l1(e,a)}catch(a){await Qu(e,a)}rv(e)&&sv(e)}function a1(s){return di(s)&&s.Ta.length<10}function l1(s,e){s.Ta.push(e);const t=Is(s);t.O_()&&t.Y_&&t.ea(e.mutations)}function rv(s){return di(s)&&!Is(s).x_()&&s.Ta.length>0}function sv(s){Is(s).start()}async function u1(s){Is(s).ra()}async function c1(s){const e=Is(s);for(const t of s.Ta)e.ea(t.mutations)}async function h1(s,e,t){const i=s.Ta.shift(),a=Jd.from(i,e,t);await nv(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await fc(s)}async function d1(s,e){e&&Is(s).Y_&&await(async function(i,a){if((function(h){return qk(h)&&h!==G.ABORTED})(a.code)){const c=i.Ta.shift();Is(i).B_(),await nv(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a))),await fc(i)}})(s,e),rv(s)&&sv(s)}async function Wg(s,e){const t=Ie(s);t.asyncQueue.verifyOperationInProgress(),ne(li,"RemoteStore received new credentials");const i=di(t);t.Ea.add(3),await Ja(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dc(t)}async function f1(s,e){const t=Ie(s);e?(t.Ea.delete(2),await dc(t)):e||(t.Ea.add(2),await Ja(t),t.Va.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(t,i,a){const c=Ie(t);return c.sa(),new YS(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:r1.bind(null,s),Yo:s1.bind(null,s),t_:i1.bind(null,s),J_:o1.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),lf(s)?af(s):s.Va.set("Unknown")):(await s.ma.stop(),tv(s))}))),s.ma}function Is(s){return s.fa||(s.fa=(function(t,i,a){const c=Ie(t);return c.sa(),new JS(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:u1.bind(null,s),t_:d1.bind(null,s),ta:c1.bind(null,s),na:h1.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await fc(s)):(await s.fa.stop(),s.Ta.length>0&&(ne(li,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class uf{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const h=Date.now()+i,m=new uf(e,t,h,a,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cf(s,e){if(Nr("AsyncQueue",`${e}: ${s}`),ko(s))return new le(G.UNAVAILABLE,`${e}: ${s}`);throw s}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=Ia(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new co;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class qg{constructor(){this.ga=new et(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class _o{constructor(e,t,i,a,c,h,m,y,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,a,c){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new _o(e,t,co.emptySet(t),h,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class p1{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class m1{constructor(){this.queries=Gg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ie(t),c=a.queries;a.queries=Gg(),c.forEach(((h,m)=>{for(const y of m.ba)y.onError(i)}))})(this,new le(G.ABORTED,"Firestore shutting down"))}}function Gg(){return new ci((s=>I_(s)),oc)}async function g1(s,e){const t=Ie(s);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.Sa()&&e.Da()&&(i=2):(c=new p1,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(a,!0);break;case 1:c.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=cf(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&hf(t)}async function y1(s,e){const t=Ie(s),i=e.query;let a=3;const c=t.queries.get(i);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?a=e.Da()?0:1:!c.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function _1(s,e){const t=Ie(s);let i=!1;for(const a of e){const c=a.query,h=t.queries.get(c);if(h){for(const m of h.ba)m.Fa(a)&&(i=!0);h.wa=a}}i&&hf(t)}function v1(s,e,t){const i=Ie(s),a=i.queries.get(e);if(a)for(const c of a.ba)c.onError(t);i.queries.delete(e)}function hf(s){s.Ca.forEach((e=>{e.next()}))}var kd,Kg;(Kg=kd||(kd={})).Ma="default",Kg.Cache="cache";class w1{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _o(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kd.Cache}}class iv{constructor(e){this.key=e}}class ov{constructor(e){this.key=e}}class E1{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.eu=k_(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new qg,a=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,C)=>{const V=a.get(E),B=ac(this.query,C)?C:null,ee=!!V&&this.mutatedKeys.has(V.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;V&&B?V.data.isEqual(B.data)?ee!==Z&&(i.track({type:3,doc:B}),Q=!0):this.su(V,B)||(i.track({type:2,doc:B}),Q=!0,(y&&this.eu(B,y)>0||v&&this.eu(B,v)<0)&&(m=!0)):!V&&B?(i.track({type:0,doc:B}),Q=!0):V&&!B&&(i.track({type:1,doc:V}),Q=!0,(y||v)&&(m=!0)),Q&&(B?(h=h.add(B),c=Z?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),i.track({type:1,doc:E})}return{tu:h,iu:i,Ss:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,C)=>(function(B,ee){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:Q})}};return Z(B)-Z(ee)})(E.type,C.type)||this.eu(E.doc,C.doc))),this.ou(i),a=a??!1;const m=t&&!a?this._u():[],y=this.Ya.size===0&&this.current&&!a?1:0,v=y!==this.Xa;return this.Xa=y,h.length!==0||v?{snapshot:new _o(this.query,e.tu,c,h,e.mutatedKeys,y===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qg,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new ov(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new iv(i))})),t}cu(e){this.Za=e.ks,this.Ya=xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const df="SyncEngine";class T1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class I1{constructor(e){this.key=e,this.hu=!1}}class k1{constructor(e,t,i,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ci((m=>I_(m)),oc),this.Iu=new Map,this.Eu=new Set,this.Ru=new et(fe.comparator),this.Au=new Map,this.Vu=new ef,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S1(s,e,t=!0){const i=dv(s);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await av(i,e,t,!0),a}async function A1(s,e){const t=dv(s);await av(t,e,!0,!1)}async function av(s,e,t,i){const a=await BS(s.localStore,Zn(e)),c=a.targetId,h=s.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await C1(s,e,c,h==="current",a.resumeToken)),s.isPrimaryClient&&t&&Z_(s.remoteStore,a),m}async function C1(s,e,t,i,a){s.pu=(C,V,B)=>(async function(Z,Q,pe,ye){let Ae=Q.view.ru(pe);Ae.Ss&&(Ae=await jg(Z.localStore,Q.query,!1).then((({documents:P})=>Q.view.ru(P,Ae))));const De=ye&&ye.targetChanges.get(Q.targetId),Qe=ye&&ye.targetMismatches.get(Q.targetId)!=null,Re=Q.view.applyChanges(Ae,Z.isPrimaryClient,De,Qe);return Yg(Z,Q.targetId,Re.au),Re.snapshot})(s,C,V,B);const c=await jg(s.localStore,e,!0),h=new E1(e,c.ks),m=h.ru(c.documents),y=Ya.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",a),v=h.applyChanges(m,s.isPrimaryClient,y);Yg(s,t,v.au);const E=new T1(e,t,h);return s.Tu.set(e,E),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),v.snapshot}async function R1(s,e,t){const i=Ie(s),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter((h=>!oc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Td(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&sf(i.remoteStore,a.targetId),Sd(i,a.targetId)})).catch(Io)):(Sd(i,a.targetId),await Td(i.localStore,a.targetId,!0))}async function P1(s,e){const t=Ie(s),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sf(t.remoteStore,i.targetId))}async function N1(s,e,t){const i=b1(s);try{const a=await(function(h,m){const y=Ie(h),v=Ke.now(),E=m.reduce(((B,ee)=>B.add(ee.key)),xe());let C,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let ee=xr(),Z=xe();return y.xs.getEntries(B,E).next((Q=>{ee=Q,ee.forEach(((pe,ye)=>{ye.isValidDocument()||(Z=Z.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,ee))).next((Q=>{C=Q;const pe=[];for(const ye of m){const Ae=zk(ye,C.get(ye.key).overlayedDocument);Ae!=null&&pe.push(new hi(ye.key,Ae,g_(Ae.value.mapValue),Cr.exists(!0)))}return y.mutationQueue.addMutationBatch(B,v,pe,m)})).next((Q=>{V=Q;const pe=Q.applyToLocalDocumentSet(C,Z);return y.documentOverlayCache.saveOverlays(B,Q.batchId,pe)}))})).then((()=>({batchId:V.batchId,changes:A_(C)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(h,m,y){let v=h.du[h.currentUser.toKey()];v||(v=new et(Ne)),v=v.insert(m,y),h.du[h.currentUser.toKey()]=v})(i,a.batchId,t),await Xa(i,a.changes),await fc(i.remoteStore)}catch(a){const c=cf(a,"Failed to persist write");t.reject(c)}}async function lv(s,e){const t=Ie(s);try{const i=await US(t.localStore,e);e.targetChanges.forEach(((a,c)=>{const h=t.Au.get(c);h&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?Fe(h.hu,14607):a.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Xa(t,i,e)}catch(i){await Io(i)}}function Qg(s,e,t){const i=Ie(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(h,m){const y=Ie(h);y.onlineState=m;let v=!1;y.queries.forEach(((E,C)=>{for(const V of C.ba)V.va(m)&&(v=!0)})),v&&hf(y)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function x1(s,e,t){const i=Ie(s);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),c=a&&a.key;if(c){let h=new et(fe.comparator);h=h.insert(c,Ut.newNoDocument(c,Ee.min()));const m=xe().add(c),y=new cc(Ee.min(),new Map,new et(Ne),h,m);await lv(i,y),i.Ru=i.Ru.remove(c),i.Au.delete(e),ff(i)}else await Td(i.localStore,e,!1).then((()=>Sd(i,e,t))).catch(Io)}async function D1(s,e){const t=Ie(s),i=e.batch.batchId;try{const a=await FS(t.localStore,e);cv(t,i,null),uv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xa(t,a)}catch(a){await Io(a)}}async function V1(s,e,t){const i=Ie(s);try{const a=await(function(h,m){const y=Ie(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,m).next((C=>(Fe(C!==null,37113),E=C.keys(),y.mutationQueue.removeMutationBatch(v,C)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(i.localStore,e);cv(i,e,t),uv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xa(i,a)}catch(a){await Io(a)}}function uv(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function cv(s,e,t){const i=Ie(s);let a=i.du[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function Sd(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),t&&s.Pu.yu(i,t);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((i=>{s.Vu.containsKey(i)||hv(s,i)}))}function hv(s,e){s.Eu.delete(e.path.canonicalString());const t=s.Ru.get(e);t!==null&&(sf(s.remoteStore,t),s.Ru=s.Ru.remove(e),s.Au.delete(t),ff(s))}function Yg(s,e,t){for(const i of t)i instanceof iv?(s.Vu.addReference(i.key,e),O1(s,i)):i instanceof ov?(ne(df,"Document no longer in limbo: "+i.key),s.Vu.removeReference(i.key,e),s.Vu.containsKey(i.key)||hv(s,i.key)):ge(19791,{wu:i})}function O1(s,e){const t=e.key,i=t.path.canonicalString();s.Ru.get(t)||s.Eu.has(i)||(ne(df,"New document in limbo: "+t),s.Eu.add(i),ff(s))}function ff(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new fe(Ze.fromString(e)),i=s.fu.next();s.Au.set(i,new I1(t)),s.Ru=s.Ru.insert(t,i),Z_(s.remoteStore,new fs(Zn(Qd(t.path)),i,"TargetPurposeLimboResolution",nc.ce))}}async function Xa(s,e,t){const i=Ie(s),a=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,y)=>{h.push(i.pu(y,e,t).then((v=>{if((v||t)&&i.isPrimaryClient){const E=v?!v.fromCache:t?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(v){a.push(v);const E=nf.Es(y.targetId,v);c.push(E)}})))})),await Promise.all(h),i.Pu.J_(a),await(async function(y,v){const E=Ie(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>$.forEach(v,(V=>$.forEach(V.Ts,(B=>E.persistence.referenceDelegate.addReference(C,V.targetId,B))).next((()=>$.forEach(V.Is,(B=>E.persistence.referenceDelegate.removeReference(C,V.targetId,B)))))))))}catch(C){if(!ko(C))throw C;ne(rf,"Failed to update sequence numbers: "+C)}for(const C of v){const V=C.targetId;if(!C.fromCache){const B=E.vs.get(V),ee=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(ee);E.vs=E.vs.insert(V,Z)}}})(i.localStore,c))}async function L1(s,e){const t=Ie(s);if(!t.currentUser.isEqual(e)){ne(df,"User change. New user:",e.toKey());const i=await Q_(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new le(G.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xa(t,i.Ns)}}function M1(s,e){const t=Ie(s),i=t.Au.get(e);if(i&&i.hu)return xe().add(i.key);{let a=xe();const c=t.Iu.get(e);if(!c)return a;for(const h of c){const m=t.Tu.get(h);a=a.unionWith(m.view.nu)}return a}}function dv(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x1.bind(null,e),e.Pu.J_=_1.bind(null,e.eventManager),e.Pu.yu=v1.bind(null,e.eventManager),e}function b1(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V1.bind(null,e),e}class Yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bS(this.persistence,new OS,e.initialUser,this.serializer)}Cu(e){return new K_(tf.Vi,this.serializer)}Du(e){return new $S}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yu.provider={build:()=>new Yu};class F1 extends Yu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof Ku,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vS(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new K_((i=>Ku.Vi(i,t)),this.serializer)}}class Ad{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Qg(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=L1.bind(null,this.syncEngine),await f1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m1})()}createDatastore(e){const t=hc(e.databaseInfo.databaseId),i=QS(e.databaseInfo);return e1(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,c,h,m){return new n1(i,a,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Qg(this.syncEngine,t,0)),(function(){return Hg.v()?new Hg:new WS})())}createSyncEngine(e,t){return(function(a,c,h,m,y,v,E){const C=new k1(a,c,h,m,y,v);return E&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);ne(li,"RemoteStore shutting down."),i.Ea.add(5),await Ja(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ad.provider={build:()=>new Ad};class U1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ks="FirestoreClient";class j1{constructor(e,t,i,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=Bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async h=>{ne(ks,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ne(ks,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cf(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zh(s,e){s.asyncQueue.verifyOperationInProgress(),ne(ks,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Q_(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Jg(s,e){s.asyncQueue.verifyOperationInProgress();const t=await z1(s);ne(ks,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((i=>Wg(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,a)=>Wg(e.remoteStore,a))),s._onlineComponents=e}async function z1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ne(ks,"Using user provided OfflineComponentProvider");try{await Zh(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===G.FAILED_PRECONDITION||a.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;ai("Error using user provided cache. Falling back to memory cache: "+t),await Zh(s,new Yu)}}else ne(ks,"Using default OfflineComponentProvider"),await Zh(s,new F1(void 0));return s._offlineComponents}async function fv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ne(ks,"Using user provided OnlineComponentProvider"),await Jg(s,s._uninitializedComponentsProvider._online)):(ne(ks,"Using default OnlineComponentProvider"),await Jg(s,new Ad))),s._onlineComponents}function B1(s){return fv(s).then((e=>e.syncEngine))}async function H1(s){const e=await fv(s),t=e.eventManager;return t.onListen=S1.bind(null,e.syncEngine),t.onUnlisten=R1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P1.bind(null,e.syncEngine),t}function $1(s,e,t={}){const i=new _s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,y,v){const E=new U1({next:V=>{E.Nu(),h.enqueueAndForget((()=>y1(c,C)));const B=V.docs.has(m);!B&&V.fromCache?v.reject(new le(G.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&V.fromCache&&y&&y.source==="server"?v.reject(new le(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),C=new w1(Qd(m.path),E,{includeMetadataChanges:!0,Ka:!0});return g1(c,C)})(await H1(s),s.asyncQueue,e,t,i))),i.promise}function W1(s,e){const t=new _s;return s.asyncQueue.enqueueAndForget((async()=>N1(await B1(s),e,t))),t.promise}function pv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const q1="ComponentProvider",Xg=new Map;function G1(s,e,t,i,a){return new uk(s,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,pv(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const mv="firestore.googleapis.com",Zg=!0;class ey{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mv,this.ssl=Zg}else this.host=e.host,this.ssl=e.ssl??Zg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yS)throw new le(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pv(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ey({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ey(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new zI;switch(i.type){case"firstParty":return new WI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Xg.get(t);i&&(ne(q1,"Removing Datastore"),Xg.delete(t),i.terminate())})(this),Promise.resolve()}}function K1(s,e,t,i={}){s=La(s,pf);const a=vo(e),c=s._getSettings(),h={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${t}`;a&&(py(`https://${m}`),my("Firestore",!0)),c.host!==mv&&c.host!==m&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:a,emulatorOptions:i};if(!ri(y,h)&&(s._setSettings(y),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=Ft.MOCK_USER;else{v=cE(i.mockUserToken,s._app?.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new le(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ft(C)}s._authCredentials=new BI(new i_(v,E))}}class mf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new mf(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ka(t,It._jsonSchema))return new It(e,i||null,new fe(Ze.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:ft("string",It._jsonSchemaVersion),referencePath:ft("string")};class Ba extends mf{constructor(e,t,i){super(e,t,Qd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new fe(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function ed(s,e,...t){if(s=yn(s),arguments.length===1&&(e=Bd.newId()),JI("doc","path",e),s instanceof pf){const i=Ze.fromString(e,...t);return pg(i),new It(s,null,new fe(i))}{if(!(s instanceof It||s instanceof Ba))throw new le(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Ze.fromString(e,...t));return pg(i),new It(s.firestore,s instanceof Ba?s.converter:null,new fe(i))}}const ty="AsyncQueue";class ny{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J_(this,"async_queue_retry"),this._c=()=>{const i=Xh();i&&ne(ty,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Xh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;ne(ty,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",ry(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=uf.createAndSchedule(this,e,t,i,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&ge(47125,{Pc:ry(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ry(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class gf extends pf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new ny,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ny(e),this._firestoreClient=void 0,await e}}}function Q1(s,e){const t=typeof s=="object"?s:vy(),i=typeof s=="string"?s:zu,a=Nd(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=lE("firestore");c&&K1(a,...c)}return a}function gv(s){if(s._terminated)throw new le(G.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Y1(s),s._firestoreClient}function Y1(s){const e=s._freezeSettings(),t=G1(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new j1(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(s._componentsProvider))}class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(xt.fromBase64String(e))}catch(t){throw new le(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ka(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:ft("string",gn._jsonSchemaVersion),bytes:ft("string")};class yv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _v{constructor(e){this._methodName=e}}class tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Ka(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:ft("string",tr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};class Dn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ka(e,Dn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Dn(e.vectorValues);throw new le(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dn._jsonSchemaVersion="firestore/vectorValue/1.0",Dn._jsonSchema={type:ft("string",Dn._jsonSchemaVersion),vectorValues:ft("object")};const J1=/^__.*__$/;class X1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qa(e,this.data,t,this.fieldTransforms)}}function vv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:s})}}class yf{constructor(e,t,i,a,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ju(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vv(this.dataSource)&&J1.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Z1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||hc(e)}createContext(e,t,i,a=!1){return new yf({dataSource:e,methodName:t,targetDoc:i,path:Nt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eA(s){const e=s._freezeSettings(),t=hc(s._databaseId);return new Z1(s._databaseId,!!e.ignoreUndefinedProperties,t)}function tA(s,e,t,i,a,c={}){const h=s.createContext(c.merge||c.mergeFields?2:0,e,t,a);Iv("Data must be an object, but it was:",h,i);const m=Ev(i,h);let y,v;if(c.merge)y=new Nn(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const C of c.mergeFields){const V=_f(e,C,t);if(!h.contains(V))throw new le(G.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);sA(E,V)||E.push(V)}y=new Nn(E),v=h.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,v=h.fieldTransforms;return new X1(new mn(m),y,v)}function wv(s,e){if(Tv(s=yn(s)))return Iv("Unsupported field value:",e,s),Ev(s,e);if(s instanceof _v)return(function(i,a){if(!vv(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const c=[];let h=0;for(const m of i){let y=wv(m,a.childContextForArray(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(s,e)}return(function(i,a){if((i=yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ke.fromDate(i);return{timestampValue:Gu(a.serializer,c)}}if(i instanceof Ke){const c=new Ke(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gu(a.serializer,c)}}if(i instanceof tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gn)return{bytesValue:U_(a.serializer,i._byteString)};if(i instanceof It){const c=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw a.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zd(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Dn)return(function(h,m){const y=h instanceof Dn?h.toArray():h;return{mapValue:{fields:{[p_]:{stringValue:m_},[Bu]:{arrayValue:{values:y.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Yd(m.serializer,E)}))}}}}}})(i,a);if(q_(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Hd(i)}`)})(s,e)}function Ev(s,e){const t={};return l_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(s,((i,a)=>{const c=wv(a,e.childContextForField(i));c!=null&&(t[i]=c)})),{mapValue:{fields:t}}}function Tv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ke||s instanceof tr||s instanceof gn||s instanceof It||s instanceof _v||s instanceof Dn||q_(s))}function Iv(s,e,t){if(!Tv(t)||!o_(t)){const i=Hd(t);throw i==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+i)}}function _f(s,e,t){if((e=yn(e))instanceof yv)return e._internalPath;if(typeof e=="string")return rA(s,e);throw Ju("Field path arguments must be of type string or ",s,!1,void 0,t)}const nA=new RegExp("[~\\*/\\[\\]]");function rA(s,e,t){if(e.search(nA)>=0)throw Ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new yv(...e.split("."))._internalPath}catch{throw Ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Ju(s,e,t,i,a){const c=i&&!i.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${i}`),h&&(y+=` in document ${a}`),y+=")"),new le(G.INVALID_ARGUMENT,m+s+y)}function sA(s,e){return s.some((t=>t.isEqual(e)))}class iA{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ui(e,((a,c)=>{i[a]=this.convertValue(c,t)})),i}convertVectorValue(e){const t=e.fields?.[Bu].arrayValue?.values?.map((i=>at(i.doubleValue)));return new Dn(t)}convertGeoPoint(e){return new tr(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=ws(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);Fe(W_(i),9688,{name:e});const a=new Fa(i.get(1),i.get(3)),c=new fe(i.popFirst(5));return a.isEqual(t)||Nr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class oA extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}const sy="@firebase/firestore",iy="4.11.0";class kv{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(_f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aA extends kv{data(){return super.data()}}function lA(s,e,t){let i;return i=s?s.toFirestore(e):e,i}class Sa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ni extends kv{constructor(e,t,i,a,c,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_f("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ni._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",ni._jsonSchema={type:ft("string",ni._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class xu extends ni{data(e={}){return super.data(e)}}class Da{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sa(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new xu(this._firestore,this._userDataWriter,i.key,i,new Sa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new xu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:uA(m.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:s})}}Da._jsonSchemaVersion="firestore/querySnapshot/1.0",Da._jsonSchema={type:ft("string",Da._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};function cA(s){s=La(s,It);const e=La(s.firestore,gf),t=gv(e);return $1(t,s._key).then((i=>dA(e,s,i)))}function oy(s,e,t){s=La(s,It);const i=La(s.firestore,gf),a=lA(s.converter,e),c=eA(i);return hA(i,[tA(c,"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,Cr.none())])}function hA(s,e){const t=gv(s);return W1(t,e)}function dA(s,e,t){const i=t.docs.get(e._key),a=new oA(s);return new ni(s,a,e._key,i,new Sa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){jI(wo),ho(new si("firestore",((i,{instanceIdentifier:a,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new gf(new HI(i.getProvider("auth-internal")),new qI(h,i.getProvider("app-check-internal")),ck(h,a),h);return c={useFetchStreams:t,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),gs(sy,iy,e),gs(sy,iy,"esm2020")})();const fA={apiKey:"AIzaSyD0ygSZm4II01XmYFIXnTPMBDYe7TBg3rg",authDomain:"shopping-list-prod-f0309.firebaseapp.com",projectId:"shopping-list-prod-f0309",storageBucket:"shopping-list-prod-f0309.firebasestorage.app",messagingSenderId:"277384166242",appId:"1:277384166242:web:4d1f9411f900327cbb4a3b"},Sv=_y(fA),td=FI(Sv),pA=new kr,nd=Q1(Sv),dt=s=>s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),io=[{name:"Morot",category:"Frukt & Grnt",aliases:["mortter","moro"],keywords:["grnsak"]},{name:"Potatis",category:"Frukt & Grnt",aliases:["potatisar","pota"],keywords:["grnsak"]},{name:"Tomat",category:"Frukt & Grnt",aliases:["tomater"],keywords:["grnsak"]},{name:"Gurka",category:"Frukt & Grnt",aliases:["gurkor"],keywords:["grnsak"]},{name:"Lk",category:"Frukt & Grnt",aliases:["lkar","gul lk","rdlk"],keywords:["grnsak"]},{name:"Vitlk",category:"Frukt & Grnt",aliases:["vitlkar"],keywords:["grnsak"]},{name:"Paprika",category:"Frukt & Grnt",aliases:["paprikor","rd paprika"],keywords:["grnsak"]},{name:"Sallad",category:"Frukt & Grnt",aliases:["isbergssallad","romansallad"],keywords:["grnsak"]},{name:"Broccoli",category:"Frukt & Grnt",aliases:["broccolli"],keywords:["grnsak"]},{name:"Blomkl",category:"Frukt & Grnt",aliases:["blomklen"],keywords:["grnsak"]},{name:"Spenat",category:"Frukt & Grnt",aliases:["frsk spenat"],keywords:["grnsak"]},{name:"Ruccola",category:"Frukt & Grnt",aliases:["rucola"],keywords:["grnsak"]},{name:"Champinjoner",category:"Frukt & Grnt",aliases:["champinjon","svamp"],keywords:["grnsak"]},{name:"Zucchini",category:"Frukt & Grnt",aliases:["zuccini"],keywords:["grnsak"]},{name:"Aubergine",category:"Frukt & Grnt",aliases:["auberginer"],keywords:["grnsak"]},{name:"Selleri",category:"Frukt & Grnt",aliases:["selleristjlk"],keywords:["grnsak"]},{name:"Palsternacka",category:"Frukt & Grnt",aliases:["palsternackor"],keywords:["grnsak"]},{name:"Purjolk",category:"Frukt & Grnt",aliases:["purjo"],keywords:["grnsak"]},{name:"pple",category:"Frukt & Grnt",aliases:["pplen","pplena"],keywords:["frukt"]},{name:"Banan",category:"Frukt & Grnt",aliases:["bananer"],keywords:["frukt"]},{name:"Apelsin",category:"Frukt & Grnt",aliases:["apelsiner"],keywords:["frukt"]},{name:"Clementin",category:"Frukt & Grnt",aliases:["clementiner"],keywords:["frukt"]},{name:"Druvor",category:"Frukt & Grnt",aliases:["vindruvor","rda druvor"],keywords:["frukt"]},{name:"Pron",category:"Frukt & Grnt",aliases:["pronen"],keywords:["frukt"]},{name:"Mango",category:"Frukt & Grnt",aliases:["mangon"],keywords:["frukt"]},{name:"Avokado",category:"Frukt & Grnt",aliases:["avokador"],keywords:["frukt"]},{name:"Lime",category:"Frukt & Grnt",aliases:["limefrukter"],keywords:["frukt"]},{name:"Citron",category:"Frukt & Grnt",aliases:["citroner"],keywords:["frukt"]},{name:"Jordgubbar",category:"Frukt & Grnt",aliases:["jordgubbe"],keywords:["frukt","br"]},{name:"Blbr",category:"Frukt & Grnt",aliases:["blbren"],keywords:["frukt","br"]},{name:"Hallon",category:"Frukt & Grnt",aliases:["hallonen"],keywords:["frukt","br"]},{name:"Vattenmelon",category:"Frukt & Grnt",aliases:["melon"],keywords:["frukt"]},{name:"Mjlk",category:"Mejeri",aliases:["mellanmjlk","standardmjlk","mjo"],keywords:["mejeri"]},{name:"Filmjlk",category:"Mejeri",aliases:["fil"],keywords:["mejeri"]},{name:"Yoghurt",category:"Mejeri",aliases:["naturell yoghurt","turkisk yoghurt"],keywords:["mejeri"]},{name:"Kvarg",category:"Mejeri",aliases:["kvargen"],keywords:["mejeri"]},{name:"Smr",category:"Mejeri",aliases:["bregott","smret"],keywords:["mejeri"]},{name:"Margarin",category:"Mejeri",aliases:["becel","ltt margarin"],keywords:["mejeri"]},{name:"Ost",category:"Mejeri",aliases:["hrdost","lagrad ost"],keywords:["mejeri"]},{name:"Riven ost",category:"Mejeri",aliases:["rivven ost"],keywords:["mejeri","ost"]},{name:"Mozzarella",category:"Mejeri",aliases:["mozz","buffelmozzarella"],keywords:["mejeri","ost"]},{name:"Fetaost",category:"Mejeri",aliases:["feta"],keywords:["mejeri","ost"]},{name:"Keso",category:"Mejeri",aliases:["kesoen"],keywords:["mejeri"]},{name:"gg",category:"Mejeri",aliases:["ggen","frilandsgg"],keywords:["mejeri"]},{name:"Grdde",category:"Mejeri",aliases:["matlagningsgrdde"],keywords:["mejeri"]},{name:"Vispgrdde",category:"Mejeri",aliases:["visp","grdde 36%","vispgrdden"],keywords:["mejeri"]},{name:"Crme fraiche",category:"Mejeri",aliases:["creme fraiche","fraiche","cr","crme fraiche"],keywords:["mejeri"]},{name:"Grddfil",category:"Mejeri",aliases:["grddfilen"],keywords:["mejeri"]},{name:"Cheddar",category:"Mejeri",aliases:["cheddarost"],keywords:["mejeri","ost"]},{name:"Parmesan",category:"Mejeri",aliases:["parmesanost","riven parmesan"],keywords:["mejeri","ost"]},{name:"Halloumi",category:"Mejeri",aliases:["halloumin"],keywords:["mejeri","ost"]},{name:"Frskost",category:"Mejeri",aliases:["philadelphia","philadelphiaost"],keywords:["mejeri","ost"]},{name:"Brie",category:"Mejeri",aliases:["brieost"],keywords:["mejeri","ost"]},{name:"Grddost",category:"Mejeri",aliases:["grddosten"],keywords:["mejeri","ost"]},{name:"Kttfrs",category:"Ktt & Fisk",aliases:["frs","ntfrs","blandfrs"],keywords:["ktt"]},{name:"Kycklingfil",category:"Ktt & Fisk",aliases:["kyckling","kycklingbrst"],keywords:["ktt","fgel"]},{name:"Flskfil",category:"Ktt & Fisk",aliases:["flsk"],keywords:["ktt"]},{name:"Bacon",category:"Ktt & Fisk",aliases:["baconet","baconstrimlor"],keywords:["ktt"]},{name:"Korv",category:"Ktt & Fisk",aliases:["korvar","prinskorv","falukorv"],keywords:["ktt","korv"]},{name:"Salami",category:"Ktt & Fisk",aliases:["salamikorv","tryffelsalami","milano"],keywords:["ktt","korv","tryffel"]},{name:"Skinka",category:"Ktt & Fisk",aliases:["skinkan","kokt skinka"],keywords:["ktt"]},{name:"Lax",category:"Ktt & Fisk",aliases:["laxfil","gravad lax"],keywords:["fisk"]},{name:"Torsk",category:"Ktt & Fisk",aliases:["torskfil"],keywords:["fisk"]},{name:"Rkor",category:"Ktt & Fisk",aliases:["skalade rkor","rka"],keywords:["fisk","skaldjur"]},{name:"Kttbullar",category:"Ktt & Fisk",aliases:["kottbullar"],keywords:["ktt"]},{name:"Kassler",category:"Ktt & Fisk",aliases:["rkt kassler"],keywords:["ktt"]},{name:"Kalkonfil",category:"Ktt & Fisk",aliases:["kalkon"],keywords:["ktt","fgel"]},{name:"Entrecte",category:"Ktt & Fisk",aliases:["entrecote"],keywords:["ktt"]},{name:"Pasta",category:"Skafferi",aliases:["spaghetti","makaroner","penne","pastan"],keywords:["torrvara"]},{name:"Ris",category:"Skafferi",aliases:["jasminris","basmatris","riset"],keywords:["torrvara"]},{name:"Mjl",category:"Skafferi",aliases:["vetemjl","mjlet"],keywords:["bakning"]},{name:"Socker",category:"Skafferi",aliases:["strsocker","sockret"],keywords:["bakning"]},{name:"Salt",category:"Skafferi",aliases:["bordssalt","saltet"],keywords:["krydda"]},{name:"Peppar",category:"Skafferi",aliases:["svartpeppar","pepparn"],keywords:["krydda"]},{name:"Olja",category:"Skafferi",aliases:["matolja","rapsolja"],keywords:["matlagning"]},{name:"Olivolja",category:"Skafferi",aliases:["extra virgin olivolja"],keywords:["matlagning"]},{name:"Ketchup",category:"Skafferi",aliases:["felix ketchup","ketchupen"],keywords:["ss"]},{name:"Senap",category:"Skafferi",aliases:["dijonsenap","senapen"],keywords:["ss"]},{name:"Majonns",category:"Skafferi",aliases:["majonnsen","majons"],keywords:["ss"]},{name:"ttika",category:"Skafferi",aliases:["ttikan","vinger","balsamico"],keywords:["ss"]},{name:"Soja",category:"Skafferi",aliases:["sojass","sojan"],keywords:["ss"]},{name:"Honung",category:"Skafferi",aliases:["honungen"],keywords:["stning"]},{name:"Tomatpur",category:"Skafferi",aliases:["tomatpure","tomatpurn"],keywords:["konserv"]},{name:"Krossade tomater",category:"Skafferi",aliases:["tomater p burk"],keywords:["konserv"]},{name:"Kokosmjlk",category:"Skafferi",aliases:["kokosmjlken"],keywords:["konserv"]},{name:"Linser",category:"Skafferi",aliases:["rda linser","grna linser"],keywords:["torrvara"]},{name:"Bnor",category:"Skafferi",aliases:["kidneybnor","svarta bnor"],keywords:["konserv"]},{name:"Kikrtor",category:"Skafferi",aliases:["kikrtorna"],keywords:["konserv"]},{name:"Msli",category:"Skafferi",aliases:["musli","flingor"],keywords:["frukost"]},{name:"Havregryn",category:"Skafferi",aliases:["havre","gryn"],keywords:["frukost"]},{name:"Brd",category:"Brd & Bakelser",aliases:["brdlimpa","formbrd"],keywords:["bakverk"]},{name:"Hamburgerbrd",category:"Brd & Bakelser",aliases:["hamburgare brd"],keywords:["bakverk"]},{name:"Wraps",category:"Brd & Bakelser",aliases:["tortilla"],keywords:["bakverk"]},{name:"Pitabrd",category:"Brd & Bakelser",aliases:["pita"],keywords:["bakverk"]},{name:"Knckebrd",category:"Brd & Bakelser",aliases:["kncke"],keywords:["bakverk"]},{name:"Kavring",category:"Brd & Bakelser",aliases:["rgkavring"],keywords:["bakverk"]},{name:"Croissant",category:"Brd & Bakelser",aliases:["croissanter"],keywords:["bakverk"]},{name:"Frallor",category:"Brd & Bakelser",aliases:["fralla"],keywords:["bakverk"]},{name:"Frysta br",category:"Fryst",aliases:["frysta hallon","frysta blbr"],keywords:["fryst"]},{name:"Frysta grnsaker",category:"Fryst",aliases:["wok mix","grnsaksblandning"],keywords:["fryst"]},{name:"Glass",category:"Fryst",aliases:["vaniljglass","glassen"],keywords:["fryst","dessert"]},{name:"Pommes frites",category:"Fryst",aliases:["pommes","strips"],keywords:["fryst"]},{name:"Fiskpinnar",category:"Fryst",aliases:["fiskpinnarna"],keywords:["fryst","fisk"]},{name:"Pizzadeg",category:"Fryst",aliases:["fryst pizzadeg"],keywords:["fryst"]},{name:"Kaffe",category:"Dryck",aliases:["bryggkaffe","kaffet"],keywords:["dryck"]},{name:"Te",category:"Dryck",aliases:["teet","teblad"],keywords:["dryck"]},{name:"Juice",category:"Dryck",aliases:["apelsinjuice","ppeljuice"],keywords:["dryck"]},{name:"Cola",category:"Dryck",aliases:["coca cola","coke"],keywords:["dryck","lsk"]},{name:"Vatten",category:"Dryck",aliases:["mineralvatten","ramlsa"],keywords:["dryck"]},{name:"Lsk",category:"Dryck",aliases:["fanta","sprite"],keywords:["dryck"]},{name:"l",category:"Dryck",aliases:["len","folkl"],keywords:["dryck","alkohol"]},{name:"Chips",category:"Godis & Snacks",aliases:["chipsen","estrella","olw"],keywords:["snacks"]},{name:"Godis",category:"Godis & Snacks",aliases:["lsgodis","godiset"],keywords:["snacks"]},{name:"Choklad",category:"Godis & Snacks",aliases:["chokladen","marabou"],keywords:["snacks"]},{name:"Ntter",category:"Godis & Snacks",aliases:["cashewntter","mandlar"],keywords:["snacks"]},{name:"Popcorn",category:"Godis & Snacks",aliases:["popcornet"],keywords:["snacks"]},{name:"Kex",category:"Godis & Snacks",aliases:["ballerina","digestive"],keywords:["snacks"]},{name:"Diskmedel",category:"Hushll",aliases:["yes","diskmedlet"],keywords:["stdning"]},{name:"Toapapper",category:"Hushll",aliases:["toalettpapper","toarulle"],keywords:["hygien"]},{name:"Hushllspapper",category:"Hushll",aliases:["papper"],keywords:["stdning"]},{name:"Tvttmedel",category:"Hushll",aliases:["tvttmedellet"],keywords:["tvtt"]},{name:"Soppsar",category:"Hushll",aliases:["soppse","soppsarna"],keywords:["stdning"]},{name:"Bljor",category:"Hushll",aliases:["blja","barnbljor","pampers"],keywords:["baby"]},{name:"Vtservetter",category:"Hushll",aliases:["babyvtservetter","vtservett"],keywords:["baby"]},{name:"Aluminiumfolie",category:"Hushll",aliases:["folie","alfolie"],keywords:["frvaring"]},{name:"Plastfolie",category:"Hushll",aliases:["plastfilm"],keywords:["frvaring"]},{name:"Diskborste",category:"Hushll",aliases:["diskborsten"],keywords:["stdning"]},{name:"Tvl",category:"Hushll",aliases:["handtvl","tvlen"],keywords:["hygien"]},{name:"Tandkrm",category:"Hushll",aliases:["tandkrmen"],keywords:["hygien"]},{name:"Schampo",category:"Hushll",aliases:["schampot"],keywords:["hygien"]},{name:"Balsam",category:"Hushll",aliases:["hrbalsam"],keywords:["hygien"]},{name:"Duschtvl",category:"Hushll",aliases:["duschkrm","duschgel"],keywords:["hygien"]},{name:"Kattmat",category:"Hushll",aliases:["katt mat","torrfoder katt","vtfoder katt"],keywords:["husdjur","katt"]},{name:"Hundmat",category:"Hushll",aliases:["hund mat","torrfoder hund","vtfoder hund"],keywords:["husdjur","hund"]},{name:"Kattsand",category:"Hushll",aliases:["kattldesand","sand"],keywords:["husdjur","katt"]}],mA=s=>{const e=dt(s.trim());let t=io.find(i=>dt(i.name)===e);if(t)return{category:t.category,source:"exact"};if(t=io.find(i=>i.aliases.some(a=>dt(a)===e)),t)return{category:t.category,source:"alias"};for(const i of io){const a=dt(i.name);if(e.includes(a)||a.includes(e))return{category:i.category,source:"partial"};for(const c of i.aliases){const h=dt(c);if(e.includes(h)||h.includes(e))return{category:i.category,source:"partial"}}}return t=io.find(i=>i.keywords?.some(a=>e.includes(dt(a)))),t?{category:t.category,source:"keyword"}:null},gA=()=>{const[s,e]=Rt.useState(null),[t,i]=Rt.useState("active");Rt.useEffect(()=>{const z=AT(td,R=>{e(R)});return()=>z()},[]),Rt.useEffect(()=>{if(!s)return;(async()=>{const R=ed(nd,"users",s.uid,"lists","active"),F=await cA(R);F.exists()&&c(F.data())})()},[s]);const[a,c]=Rt.useState({id:Date.now(),status:"prep",items:[],createdAt:new Date().toISOString(),startedShoppingAt:null});Rt.useEffect(()=>{if(!s)return;(async()=>{try{const R=ed(nd,"users",s.uid,"lists","active");await oy(R,{...a,updatedAt:new Date().toISOString()})}catch(R){console.error("Error saving list:",R)}})()},[a,s]);const[h,m]=Rt.useState([]),[y,v]=Rt.useState({}),[E,C]=Rt.useState(""),[V,B]=Rt.useState(""),[ee,Z]=Rt.useState(""),[Q,pe]=Rt.useState(!1),[ye,Ae]=Rt.useState(""),De=["Frukt & Grnt","Mejeri","Ktt & Fisk","Skafferi","Brd & Bakelser","Fryst","Dryck","Godis & Snacks","Hushll","vrigt"],Re=(z=>{if(!z||z.length<2)return[];const R=dt(z),F=[];return io.forEach(ie=>{const ce=dt(ie.name).includes(R),ke=ie.aliases.some(we=>dt(we).includes(R));if(ce||ke){const we=y[ie.name]?.count||0;F.push({...ie,count:we,source:"db"})}}),Object.entries(y).forEach(([ie,ce])=>{dt(ie).includes(R)&&!F.find(ke=>dt(ke.name)===dt(ie))&&F.push({name:ie,category:ce.category,count:ce.count,source:"user",aliases:[]})}),F.sort((ie,ce)=>ce.count-ie.count).slice(0,5)})(E),P=(z=null,R=null)=>{let F=z||E.trim();if(!F)return;const ie=io.find(me=>dt(me.name)===dt(F)||me.aliases.some(Se=>dt(Se)===dt(F)));ie&&!z?F=ie.name:z||(F=F.charAt(0).toUpperCase()+F.slice(1));let ce=R||ee;if(!ce){const me=Object.entries(y).find(([Se])=>dt(Se)===dt(F));if(me)ce=me[1].category;else if(ie)ce=ie.category;else{const Se=mA(F);Se&&(ce=Se.category)}}const ke={id:Date.now(),name:F,quantity:V.trim(),category:ce||"vrigt",checked:!1,addedBy:s?.email,addedAt:new Date().toISOString()};c(me=>({...me,items:[...me.items,ke]})),C(""),B(""),Z("");const we=Object.keys(y).find(me=>dt(me)===dt(F));if(v(we?me=>({...me,[we]:{...me[we],count:me[we].count+1,lastPurchased:Date.now()}}):me=>({...me,[F]:{category:ce||"vrigt",count:1,lastPurchased:Date.now()}})),s){const me=ed(nd,"users",s.uid,"lists","active"),Se={...a,items:[...a.items,ke],updatedAt:new Date().toISOString()};oy(me,Se)}},I=z=>{c(R=>({...R,items:R.items.map(F=>F.id===z?{...F,checked:!F.checked}:F)}))},S=z=>{c(R=>({...R,items:R.items.filter(F=>F.id!==z)}))},D=()=>{c(z=>({...z,status:"shopping",startedShoppingAt:new Date().toISOString()}))},N=()=>{m(z=>[{id:a.id,completedAt:new Date().toISOString(),items:a.items},...z]),c({id:Date.now(),status:"prep",items:[],createdAt:new Date().toISOString(),startedShoppingAt:null})},O=async()=>{try{await GT(td,pA)}catch(z){console.error("Login error:",z),alert("Kunde inte logga in: "+z.message)}},k=async()=>{try{await CT(td),c({id:Date.now(),status:"prep",items:[],createdAt:new Date().toISOString()})}catch(z){console.error("Logout error:",z)}},Ue=()=>{ye.trim()&&(alert(`Inbjudan skulle skickas till ${ye} (kommer implementeras)`),Ae(""),pe(!1))},rt=a.status==="shopping"?a.items.filter(z=>!z.checked):a.items,_t=rt.reduce((z,R)=>{const F=R.category||"vrigt";return z[F]||(z[F]=[]),z[F].push(R),z},{}),ze=a.items.filter(z=>z.checked).length,J=a.items.length,ue=z=>{const R=new Date(z),F=new Date,ie=new Date(F);return ie.setDate(ie.getDate()-1),R.toDateString()===F.toDateString()?"Idag":R.toDateString()===ie.toDateString()?"Igr":R.toLocaleDateString("sv-SE",{month:"short",day:"numeric"})};return s?H.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[H.jsx("div",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-10",children:H.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(mu,{className:"w-8 h-8 text-green-500"}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-xl font-bold",children:"ShoppingList"}),H.jsx("p",{className:"text-sm text-gray-400",children:s?.email})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("button",{onClick:()=>pe(!0),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",title:"Bjud in",children:H.jsx(Xw,{className:"w-5 h-5"})}),H.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",title:"Logga ut",children:H.jsx(Kw,{className:"w-5 h-5"})})]})]})})}),H.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:H.jsx("div",{className:"max-w-4xl mx-auto px-4",children:H.jsxs("div",{className:"flex gap-4",children:[H.jsxs("button",{onClick:()=>i("active"),className:`py-3 px-4 font-medium border-b-2 transition-colors ${t==="active"?"border-green-500 text-white":"border-transparent text-gray-400 hover:text-white"}`,children:["Aktiv lista (",J,")"]}),H.jsxs("button",{onClick:()=>i("archive"),className:`py-3 px-4 font-medium border-b-2 transition-colors ${t==="archive"?"border-green-500 text-white":"border-transparent text-gray-400 hover:text-white"}`,children:["Historik (",h.length,")"]})]})})}),H.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:t==="active"?H.jsxs(H.Fragment,{children:[a.status==="prep"&&H.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[H.jsxs("div",{className:"relative mb-3",children:[H.jsx(Yw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),H.jsx("input",{type:"text",value:E,onChange:z=>C(z.target.value),onKeyPress:z=>z.key==="Enter"&&P(),placeholder:"Vad ska du handla?",className:"w-full bg-gray-700 text-white pl-10 pr-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),Re.length>0&&E&&H.jsx("div",{className:"absolute w-full bg-gray-700 mt-1 rounded-lg shadow-lg overflow-hidden z-20 border border-gray-600",children:Re.map((z,R)=>H.jsxs("button",{onClick:()=>P(z.name,z.category),className:"w-full px-4 py-3 text-left hover:bg-gray-600 flex justify-between items-center border-b border-gray-600 last:border-b-0",children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-medium",children:z.name}),z.count>0&&H.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",z.count,")"]})]}),H.jsx("span",{className:"text-sm text-green-400",children:z.category})]},R))})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[H.jsx("input",{type:"text",value:V,onChange:z=>B(z.target.value),placeholder:"Antal (valfritt)",className:"bg-gray-700 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),H.jsxs("select",{value:ee,onChange:z=>Z(z.target.value),className:"bg-gray-700 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[H.jsx("option",{value:"",children:"Vlj kategori"}),De.map(z=>H.jsx("option",{value:z,children:z},z))]}),H.jsxs("button",{onClick:()=>P(),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[H.jsx(Qw,{className:"w-5 h-5"}),"Lgg till"]})]})]}),J>0&&H.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:a.status==="prep"?H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm text-gray-400",children:"Redo att handla?"}),H.jsxs("p",{className:"font-semibold",children:[J," varor i listan"]})]}),H.jsxs("button",{onClick:D,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[H.jsx(mu,{className:"w-5 h-5"}),"Starta shopping"]})]}):H.jsxs("div",{children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsxs("span",{className:"text-sm text-gray-400",children:[" Shopping pgr... ",ze," av ",J," klarade"]}),H.jsx("button",{onClick:N,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors text-sm",children:" Klar med shopping"})]}),H.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:H.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${J>0?ze/J*100:0}%`}})})]})}),J===0?H.jsxs("div",{className:"text-center py-12 text-gray-500",children:[H.jsx(mu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),H.jsx("p",{children:"Din inkpslista r tom"}),H.jsx("p",{className:"text-sm mt-2",children:"Brja lgga till varor ovan"})]}):rt.length===0?H.jsxs("div",{className:"text-center py-12 text-gray-500",children:[H.jsx(Mm,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),H.jsx("p",{className:"text-xl font-semibold text-white",children:"Allt klart! "}),H.jsx("p",{className:"text-sm mt-2",children:"Du har bockat av alla varor"}),H.jsx("button",{onClick:N,className:"mt-4 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:"Avsluta shopping"})]}):H.jsx("div",{className:"space-y-4",children:Object.entries(_t).map(([z,R])=>H.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[H.jsxs("div",{className:"bg-gray-750 px-4 py-2 font-semibold text-green-500 border-b border-gray-700",children:[z," (",R.length,")"]}),H.jsx("div",{className:"divide-y divide-gray-700",children:R.map(F=>H.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 hover:bg-gray-750 transition-colors",children:[H.jsx("button",{onClick:()=>I(F.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${F.checked?"bg-green-500 border-green-500":"border-gray-600 hover:border-green-500"}`,children:F.checked&&H.jsx(Mm,{className:"w-4 h-4 text-white"})}),H.jsxs("div",{className:"flex-grow",children:[H.jsx("div",{className:"font-medium",children:F.name}),F.quantity&&H.jsx("div",{className:"text-sm text-gray-400",children:F.quantity})]}),a.status==="prep"&&H.jsx("button",{onClick:()=>S(F.id),className:"flex-shrink-0 p-2 hover:bg-gray-600 rounded-lg transition-colors",children:H.jsx(Jw,{className:"w-4 h-4 text-gray-400 hover:text-red-400"})})]},F.id))})]},z))})]}):H.jsx("div",{className:"space-y-4",children:h.length===0?H.jsxs("div",{className:"text-center py-12 text-gray-500",children:[H.jsx(qw,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),H.jsx("p",{children:"Ingen historik n"}),H.jsx("p",{className:"text-sm mt-2",children:"Dina genomfrda shoppingturer visas hr"})]}):h.map(z=>H.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[H.jsxs("div",{className:"bg-gray-750 px-4 py-3 border-b border-gray-700 flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"font-semibold",children:["Shopping ",ue(z.completedAt)]}),H.jsxs("div",{className:"text-sm text-gray-400",children:[z.items.length," varor"]})]}),H.jsx(Gw,{className:"w-5 h-5 text-gray-400"})]}),H.jsx("div",{className:"p-4",children:H.jsx("div",{className:"flex flex-wrap gap-2",children:z.items.map((R,F)=>H.jsxs("span",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:[R.name," ",R.quantity&&`(${R.quantity})`]},F))})})]},z.id))})}),Q&&H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:H.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[H.jsxs("div",{className:"flex justify-between items-center mb-4",children:[H.jsx("h3",{className:"text-xl font-bold",children:"Bjud in till lista"}),H.jsx("button",{onClick:()=>pe(!1),className:"p-1 hover:bg-gray-700 rounded",children:H.jsx(Zw,{className:"w-5 h-5"})})]}),H.jsx("p",{className:"text-gray-400 mb-4",children:"Ange email-adressen till personen du vill dela listan med"}),H.jsx("input",{type:"email",value:ye,onChange:z=>Ae(z.target.value),placeholder:"namn@example.com",className:"w-full bg-gray-700 text-white px-4 py-2 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-green-500",onKeyPress:z=>z.key==="Enter"&&Ue()}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:()=>pe(!1),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors",children:"Avbryt"}),H.jsx("button",{onClick:Ue,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg transition-colors",children:"Skicka inbjudan"})]})]})})]}):H.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:H.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[H.jsx(mu,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),H.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ShoppingList"}),H.jsx("p",{className:"text-gray-400 mb-6",children:"Smart inkpslista fr svenska matvarubutiker"}),H.jsxs("button",{onClick:O,className:"w-full bg-white text-gray-900 py-3 px-6 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[H.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[H.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),H.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),H.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),H.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Logga in med Google"]})]})})};Bw.createRoot(document.getElementById("root")).render(H.jsx(Lw.StrictMode,{children:H.jsx(gA,{})}));
